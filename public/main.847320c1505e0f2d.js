"use strict";var BN=Object.defineProperty,jN=Object.defineProperties,$N=Object.getOwnPropertyDescriptors,hx=Object.getOwnPropertySymbols,ZN=Object.prototype.hasOwnProperty,HN=Object.prototype.propertyIsEnumerable,fx=(ct,Te,x)=>Te in ct?BN(ct,Te,{enumerable:!0,configurable:!0,writable:!0,value:x}):ct[Te]=x,px=(ct,Te)=>{for(var x in Te||(Te={}))ZN.call(Te,x)&&fx(ct,x,Te[x]);if(hx)for(var x of hx(Te))HN.call(Te,x)&&fx(ct,x,Te[x]);return ct},gx=(ct,Te)=>jN(ct,$N(Te));(self.webpackChunkbrokers=self.webpackChunkbrokers||[]).push([[179],{2011:(ct,Te,x)=>{x.d(Te,{hO:()=>je,xv:()=>ve,Dh:()=>ue,GT:()=>we,cc:()=>Ce,on:()=>Z,pX:()=>ye});var l=x(5e3),F=x(127),M=x(880);ct=x.hmd(ct);const se=["ngOnDestroy"],ye=(De,et,qe,Ne={})=>new Proxy(De,{get:(Oe,Ie)=>qe.runOutsideAngular(()=>{var Ye;if(De[Ie])return(null===(Ye=null==Ne?void 0:Ne.spy)||void 0===Ye?void 0:Ye.get)&&Ne.spy.get(Ie,De[Ie]),De[Ie];if(se.indexOf(Ie)>-1)return()=>{};const ee=et.toPromise().then(ge=>{const B=ge&&ge[Ie];return"function"==typeof B?B.bind(ge):B&&B.then?B.then(te=>qe.run(()=>te)):qe.run(()=>B)});return new Proxy(()=>{},{get:(ge,B)=>ee[B],apply:(ge,B,te)=>ee.then(ae=>{var ce;const Me=ae&&ae(...te);return(null===(ce=null==Ne?void 0:Ne.spy)||void 0===ce?void 0:ce.apply)&&Ne.spy.apply(Ie,te,Me),Me})})})}),we=(De,et)=>{et.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(Ne=>{Object.defineProperty(De.prototype,Ne,Object.getOwnPropertyDescriptor(qe.prototype||qe,Ne))})})};class fe{constructor(et){return et}}const ue=new l.OlP("angularfire2.app.options"),ve=new l.OlP("angularfire2.app.name");function Z(De,et,qe){const Oe="object"==typeof qe&&qe||{};Oe.name=Oe.name||"string"==typeof qe&&qe||"[DEFAULT]";const Ye=F.Z.apps.filter(ee=>ee&&ee.name===Oe.name)[0]||et.runOutsideAngular(()=>F.Z.initializeApp(De,Oe));try{JSON.stringify(De)!==JSON.stringify(Ye.options)&&$("error",`${Ye.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ee){}return new fe(Ye)}const $=(De,...et)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[De](...et)},ie={provide:fe,useFactory:Z,deps:[ue,l.R0b,[new l.FiY,ve]]};let je=(()=>{class De{constructor(qe){F.Z.registerVersion("angularfire",M.q4.full,"core"),F.Z.registerVersion("angularfire",M.q4.full,"app-compat"),F.Z.registerVersion("angular",l.q4F.full,qe.toString())}static initializeApp(qe,Ne){return{ngModule:De,providers:[{provide:ue,useValue:qe},{provide:ve,useValue:Ne}]}}}return De.\u0275fac=function(qe){return new(qe||De)(l.LFG(l.Lbi))},De.\u0275mod=l.oAB({type:De}),De.\u0275inj=l.cJS({providers:[ie]}),De})();function Ce(De,et,qe,Ne,Oe){const[,Ie,Ye]=globalThis.\u0275AngularfireInstanceCache.find(ee=>ee[0]===De)||[];if(Ie)return function Ue(De,et){try{return De.toString()===et.toString()}catch(qe){return De===et}}(Oe,Ye)||(_e("error",`${et} was already initialized on the ${qe} Firebase App with different settings.${$e?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:Oe,was:Ye})),Ie;{const ee=Ne();return globalThis.\u0275AngularfireInstanceCache.push([De,ee,Oe]),ee}}const $e=!!ct.hot,_e=(De,...et)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[De](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(ct,Te,x)=>{x.d(Te,{q4:()=>es,iC:()=>Sr,HU:()=>ya,vb:()=>du,JM:()=>ma,nk:()=>ga,u3:()=>ji});var l=x(5e3),F=x(5867),M=x(5861),se=x(9681),ye=x(2090),we=x(4859),fe=x(1877);x(2833);const ve="@firebase/remote-config",Z="0.3.10",Ce=new ye.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Tt{constructor(O,z,me,Pe){this.client=O,this.storage=z,this.storageCache=me,this.logger=Pe}isCachedDataFresh(O,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const me=Date.now()-z,Pe=me<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${me}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${Pe}.`),Pe}fetch(O){var z=this;return(0,M.Z)(function*(){const[me,Pe]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(Pe&&z.isCachedDataFresh(O.cacheMaxAgeMillis,me))return Pe;O.eTag=Pe&&Pe.eTag;const Qe=yield z.client.fetch(O),yt=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Qe.status&&yt.push(z.storage.setLastSuccessfulFetchResponse(Qe)),yield Promise.all(yt),Qe})()}}function En(R=navigator){return R.languages&&R.languages[0]||R.language}class st{constructor(O,z,me,Pe,Qe,yt){this.firebaseInstallations=O,this.sdkVersion=z,this.namespace=me,this.projectId=Pe,this.apiKey=Qe,this.appId=yt}fetch(O){var z=this;return(0,M.Z)(function*(){var me,Pe,Qe;const[yt,Ke]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),yr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,On={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},St={sdk_version:z.sdkVersion,app_instance_id:yt,app_instance_id_token:Ke,app_id:z.appId,language_code:En()},$i={method:"POST",headers:On,body:JSON.stringify(St)},Bs=fetch(yr,$i),wa=new Promise((_i,cr)=>{O.signal.addEventListener(()=>{const ba=new Error("The operation was aborted.");ba.name="AbortError",cr(ba)})});let Re;try{yield Promise.race([Bs,wa]),Re=yield Bs}catch(_i){let cr="fetch-client-network";throw"AbortError"===(null===(me=_i)||void 0===me?void 0:me.name)&&(cr="fetch-timeout"),Ce.create(cr,{originalErrorMessage:null===(Pe=_i)||void 0===Pe?void 0:Pe.message})}let Bt=Re.status;const Sc=Re.headers.get("ETag")||void 0;let Nn,Ti;if(200===Re.status){let _i;try{_i=yield Re.json()}catch(cr){throw Ce.create("fetch-client-parse",{originalErrorMessage:null===(Qe=cr)||void 0===Qe?void 0:Qe.message})}Nn=_i.entries,Ti=_i.state}if("INSTANCE_STATE_UNSPECIFIED"===Ti?Bt=500:"NO_CHANGE"===Ti?Bt=304:("NO_TEMPLATE"===Ti||"EMPTY_CONFIG"===Ti)&&(Nn={}),304!==Bt&&200!==Bt)throw Ce.create("fetch-status",{httpStatus:Bt});return{status:Bt,eTag:Sc,config:Nn}})()}}class dn{constructor(O,z){this.client=O,this.storage=z}fetch(O){var z=this;return(0,M.Z)(function*(){const me=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(O,me)})()}attemptFetch(O,{throttleEndTimeMillis:z,backoffCount:me}){var Pe=this;return(0,M.Z)(function*(){yield function lt(R,O){return new Promise((z,me)=>{const Pe=Math.max(O-Date.now(),0),Qe=setTimeout(z,Pe);R.addEventListener(()=>{clearTimeout(Qe),me(Ce.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,z);try{const Qe=yield Pe.client.fetch(O);return yield Pe.storage.deleteThrottleMetadata(),Qe}catch(Qe){if(!function vn(R){if(!(R instanceof ye.ZR&&R.customData))return!1;const O=Number(R.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Qe))throw Qe;const yt={throttleEndTimeMillis:Date.now()+(0,ye.$s)(me),backoffCount:me+1};return yield Pe.storage.setThrottleMetadata(yt),Pe.attemptFetch(O,yt)}})()}}class $t{constructor(O,z,me,Pe,Qe){this.app=O,this._client=z,this._storageCache=me,this._storage=Pe,this._logger=Qe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function At(R,O){var z;const me=R.target.error||void 0;return Ce.create(O,{originalErrorMessage:me&&(null===(z=me)||void 0===z?void 0:z.message)})}const nn="app_namespace_store";class Pn{constructor(O,z,me,Pe=function mn(){return new Promise((R,O)=>{var z;try{const me=indexedDB.open("firebase_remote_config",1);me.onerror=Pe=>{O(At(Pe,"storage-open"))},me.onsuccess=Pe=>{R(Pe.target.result)},me.onupgradeneeded=Pe=>{0===Pe.oldVersion&&Pe.target.result.createObjectStore(nn,{keyPath:"compositeKey"})}}catch(me){O(Ce.create("storage-open",{originalErrorMessage:null===(z=me)||void 0===z?void 0:z.message}))}})}()){this.appId=O,this.appName=z,this.namespace=me,this.openDbPromise=Pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var z=this;return(0,M.Z)(function*(){const me=yield z.openDbPromise;return new Promise((Pe,Qe)=>{var yt;const Bn=me.transaction([nn],"readonly").objectStore(nn),yr=z.createCompositeKey(O);try{const On=Bn.get(yr);On.onerror=St=>{Qe(At(St,"storage-get"))},On.onsuccess=St=>{const $i=St.target.result;Pe($i?$i.value:void 0)}}catch(On){Qe(Ce.create("storage-get",{originalErrorMessage:null===(yt=On)||void 0===yt?void 0:yt.message}))}})})()}set(O,z){var me=this;return(0,M.Z)(function*(){const Pe=yield me.openDbPromise;return new Promise((Qe,yt)=>{var Ke;const yr=Pe.transaction([nn],"readwrite").objectStore(nn),On=me.createCompositeKey(O);try{const St=yr.put({compositeKey:On,value:z});St.onerror=$i=>{yt(At($i,"storage-set"))},St.onsuccess=()=>{Qe()}}catch(St){yt(Ce.create("storage-set",{originalErrorMessage:null===(Ke=St)||void 0===Ke?void 0:Ke.message}))}})})()}delete(O){var z=this;return(0,M.Z)(function*(){const me=yield z.openDbPromise;return new Promise((Pe,Qe)=>{var yt;const Bn=me.transaction([nn],"readwrite").objectStore(nn),yr=z.createCompositeKey(O);try{const On=Bn.delete(yr);On.onerror=St=>{Qe(At(St,"storage-delete"))},On.onsuccess=()=>{Pe()}}catch(On){Qe(Ce.create("storage-delete",{originalErrorMessage:null===(yt=On)||void 0===yt?void 0:yt.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class Qn{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,M.Z)(function*(){const z=O.storage.getLastFetchStatus(),me=O.storage.getLastSuccessfulFetchTimestampMillis(),Pe=O.storage.getActiveConfig(),Qe=yield z;Qe&&(O.lastFetchStatus=Qe);const yt=yield me;yt&&(O.lastSuccessfulFetchTimestampMillis=yt);const Ke=yield Pe;Ke&&(O.activeConfig=Ke)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function Et(){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,M.Z)(function*(){if(!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch(R){return!1}})).apply(this,arguments)}!function ir(){(0,se._registerComponent)(new we.wA("remote-config",function R(O,{instanceIdentifier:z}){const me=O.getProvider("app").getImmediate(),Pe=O.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ce.create("registration-window");if(!(0,ye.hl)())throw Ce.create("indexed-db-unavailable");const{projectId:Qe,apiKey:yt,appId:Ke}=me.options;if(!Qe)throw Ce.create("registration-project-id");if(!yt)throw Ce.create("registration-api-key");if(!Ke)throw Ce.create("registration-app-id");const Bn=new Pn(Ke,me.name,z=z||"firebase"),yr=new Qn(Bn),On=new fe.Yd(ve);On.logLevel=fe.in.ERROR;const St=new st(Pe,se.SDK_VERSION,z,Qe,yt,Ke),$i=new dn(St,Bn),Bs=new Tt($i,Bn,yr,On),wa=new $t(me,Bs,yr,Bn,On);return function Ye(R){const O=(0,ye.m9)(R);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(wa),wa},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(ve,Z),(0,se.registerVersion)(ve,Z,"esm2017")}();var Xt=x(8766);const Qt="/firebase-messaging-sw.js",Ln="/firebase-cloud-messaging-push-scope",Zn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yn="google.c.a.c_id",Un="google.c.a.c_l",Lr="google.c.a.ts",kt="google.c.a.e";var rt=(()=>{return(R=rt||(rt={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",rt;var R})();function wn(R){const O=new Uint8Array(R);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ur(R){const z=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),me=atob(z),Pe=new Uint8Array(me.length);for(let Qe=0;Qe<me.length;++Qe)Pe[Qe]=me.charCodeAt(Qe);return Pe}const Ft="fcm_token_details_db",Cn="fcm_token_object_Store";function rn(R){return mt.apply(this,arguments)}function mt(){return mt=(0,M.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Qe=>Qe.name).includes(Ft))return null;let O=null;return(yield(0,Xt.X3)(Ft,5,{upgrade:(me=(0,M.Z)(function*(Pe,Qe,yt,Ke){var Bn;if(Qe<2||!Pe.objectStoreNames.contains(Cn))return;const yr=Ke.objectStore(Cn),On=yield yr.index("fcmSenderId").get(R);if(yield yr.clear(),On)if(2===Qe){const St=On;if(!St.auth||!St.p256dh||!St.endpoint)return;O={token:St.fcmToken,createTime:null!==(Bn=St.createTime)&&void 0!==Bn?Bn:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:wn(St.vapidKey)}}}else if(3===Qe){const St=On;O={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:wn(St.auth),p256dh:wn(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:wn(St.vapidKey)}}}else if(4===Qe){const St=On;O={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:wn(St.auth),p256dh:wn(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:wn(St.vapidKey)}}}}),function(Qe,yt,Ke,Bn){return me.apply(this,arguments)})})).close(),yield(0,Xt.Lj)(Ft),yield(0,Xt.Lj)("fcm_vapid_details_db"),yield(0,Xt.Lj)("undefined"),K(O)?O:null;var me}),mt.apply(this,arguments)}function K(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:O}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}const Q="firebase-messaging-store";let k=null;function L(){return k||(k=(0,Xt.X3)("firebase-messaging-database",1,{upgrade:(R,O)=>{0===O&&R.createObjectStore(Q)}})),k}function Y(R){return de.apply(this,arguments)}function de(){return(de=(0,M.Z)(function*(R){const O=X(R),me=yield(yield L()).transaction(Q).objectStore(Q).get(O);if(me)return me;{const Pe=yield rn(R.appConfig.senderId);if(Pe)return yield Le(R,Pe),Pe}})).apply(this,arguments)}function Le(R,O){return Be.apply(this,arguments)}function Be(){return(Be=(0,M.Z)(function*(R,O){const z=X(R),Pe=(yield L()).transaction(Q,"readwrite");return yield Pe.objectStore(Q).put(O,z),yield Pe.done,O})).apply(this,arguments)}function ot(R){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,M.Z)(function*(R){const O=X(R),me=(yield L()).transaction(Q,"readwrite");yield me.objectStore(Q).delete(O),yield me.done})).apply(this,arguments)}function X({appConfig:R}){return R.appId}const V=new ye.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function be(R,O){return ze.apply(this,arguments)}function ze(){return(ze=(0,M.Z)(function*(R,O){var z;const me=yield gr(R),Pe=Vn(O),Qe={method:"POST",headers:me,body:JSON.stringify(Pe)};let yt;try{yt=yield(yield fetch(Rn(R.appConfig),Qe)).json()}catch(Ke){throw V.create("token-subscribe-failed",{errorInfo:null===(z=Ke)||void 0===z?void 0:z.toString()})}if(yt.error)throw V.create("token-subscribe-failed",{errorInfo:yt.error.message});if(!yt.token)throw V.create("token-subscribe-no-token");return yt.token})).apply(this,arguments)}function at(R,O){return _t.apply(this,arguments)}function _t(){return(_t=(0,M.Z)(function*(R,O){var z;const me=yield gr(R),Pe=Vn(O.subscriptionOptions),Qe={method:"PATCH",headers:me,body:JSON.stringify(Pe)};let yt;try{yt=yield(yield fetch(`${Rn(R.appConfig)}/${O.token}`,Qe)).json()}catch(Ke){throw V.create("token-update-failed",{errorInfo:null===(z=Ke)||void 0===z?void 0:z.toString()})}if(yt.error)throw V.create("token-update-failed",{errorInfo:yt.error.message});if(!yt.token)throw V.create("token-update-no-token");return yt.token})).apply(this,arguments)}function zt(R,O){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,M.Z)(function*(R,O){var z;const Pe={method:"DELETE",headers:yield gr(R)};try{const yt=yield(yield fetch(`${Rn(R.appConfig)}/${O}`,Pe)).json();if(yt.error)throw V.create("token-unsubscribe-failed",{errorInfo:yt.error.message})}catch(Qe){throw V.create("token-unsubscribe-failed",{errorInfo:null===(z=Qe)||void 0===z?void 0:z.toString()})}})).apply(this,arguments)}function Rn({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function gr(R){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,M.Z)(function*({appConfig:R,installations:O}){const z=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${z}`})})).apply(this,arguments)}function Vn({p256dh:R,auth:O,endpoint:z,vapidKey:me}){const Pe={web:{endpoint:z,auth:O,p256dh:R}};return me!==Zn&&(Pe.web.applicationPubKey=me),Pe}const Vr=6048e5;function Xn(R){return ds.apply(this,arguments)}function ds(){return(ds=(0,M.Z)(function*(R){const O=yield Vt(R.swRegistration,R.vapidKey),z={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:O.endpoint,auth:wn(O.getKey("auth")),p256dh:wn(O.getKey("p256dh"))},me=yield Y(R.firebaseDependencies);if(me){if(Ut(me.subscriptionOptions,z))return Date.now()>=me.createTime+Vr?q(R,{token:me.token,createTime:Date.now(),subscriptionOptions:z}):me.token;try{yield zt(R.firebaseDependencies,me.token)}catch(Pe){console.warn(Pe)}return Fe(R.firebaseDependencies,z)}return Fe(R.firebaseDependencies,z)})).apply(this,arguments)}function Nr(R){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,M.Z)(function*(R){const O=yield Y(R.firebaseDependencies);O&&(yield zt(R.firebaseDependencies,O.token),yield ot(R.firebaseDependencies));const z=yield R.swRegistration.pushManager.getSubscription();return!z||z.unsubscribe()})).apply(this,arguments)}function q(R,O){return le.apply(this,arguments)}function le(){return(le=(0,M.Z)(function*(R,O){try{const z=yield at(R.firebaseDependencies,O),me=Object.assign(Object.assign({},O),{token:z,createTime:Date.now()});return yield Le(R.firebaseDependencies,me),z}catch(z){throw yield Nr(R),z}})).apply(this,arguments)}function Fe(R,O){return dt.apply(this,arguments)}function dt(){return(dt=(0,M.Z)(function*(R,O){const me={token:yield be(R,O),createTime:Date.now(),subscriptionOptions:O};return yield Le(R,me),me.token})).apply(this,arguments)}function Vt(R,O){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,M.Z)(function*(R,O){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ur(O)})})).apply(this,arguments)}function Ut(R,O){return O.vapidKey===R.vapidKey&&O.endpoint===R.endpoint&&O.auth===R.auth&&O.p256dh===R.p256dh}function kn(R){const O={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function Ar(R,O){if(!O.notification)return;R.notification={};const z=O.notification.title;z&&(R.notification.title=z);const me=O.notification.body;me&&(R.notification.body=me);const Pe=O.notification.image;Pe&&(R.notification.image=Pe)}(O,R),function wt(R,O){!O.data||(R.data=O.data)}(O,R),function Qi(R,O){var z,me,Pe,Qe,yt;if(!O.fcmOptions&&!(null===(z=O.notification)||void 0===z?void 0:z.click_action))return;R.fcmOptions={};const Ke=null!==(Pe=null===(me=O.fcmOptions)||void 0===me?void 0:me.link)&&void 0!==Pe?Pe:null===(Qe=O.notification)||void 0===Qe?void 0:Qe.click_action;Ke&&(R.fcmOptions.link=Ke);const Bn=null===(yt=O.fcmOptions)||void 0===yt?void 0:yt.analytics_label;Bn&&(R.fcmOptions.analyticsLabel=Bn)}(O,R),O}function ks(R){return"object"==typeof R&&!!R&&yn in R}function Fs(R,O){const z=[];for(let me=0;me<R.length;me++)z.push(R.charAt(me)),me<O.length&&z.push(O.charAt(me));return z.join("")}function ur(R){return V.create("missing-app-config-values",{valueName:R})}Fs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vi{constructor(O,z,me){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Pe=function Ls(R){if(!R||!R.options)throw ur("App Configuration Object");if(!R.name)throw ur("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:z}=R;for(const me of O)if(!z[me])throw ur(me);return{appName:R.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:Pe,installations:z,analyticsProvider:me}}_delete(){return Promise.resolve()}}function Ji(R){return Br.apply(this,arguments)}function Br(){return(Br=(0,M.Z)(function*(R){var O;try{R.swRegistration=yield navigator.serviceWorker.register(Qt,{scope:Ln}),R.swRegistration.update().catch(()=>{})}catch(z){throw V.create("failed-service-worker-registration",{browserErrorMessage:null===(O=z)||void 0===O?void 0:O.message})}})).apply(this,arguments)}function gn(R,O){return ca.apply(this,arguments)}function ca(){return(ca=(0,M.Z)(function*(R,O){if(!O&&!R.swRegistration&&(yield Ji(R)),O||!R.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw V.create("invalid-sw-registration");R.swRegistration=O}})).apply(this,arguments)}function fo(R,O){return jr.apply(this,arguments)}function jr(){return(jr=(0,M.Z)(function*(R,O){O?R.vapidKey=O:R.vapidKey||(R.vapidKey=Zn)})).apply(this,arguments)}function po(){return(po=(0,M.Z)(function*(R,O){if(!navigator)throw V.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw V.create("permission-blocked");return yield fo(R,null==O?void 0:O.vapidKey),yield gn(R,null==O?void 0:O.serviceWorkerRegistration),Xn(R)})).apply(this,arguments)}function go(R,O,z){return hs.apply(this,arguments)}function hs(){return(hs=(0,M.Z)(function*(R,O,z){const me=Wr(O);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(me,{message_id:z[yn],message_name:z[Un],message_time:z[Lr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wr(R){switch(R){case rt.NOTIFICATION_CLICKED:return"notification_open";case rt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function la(){return(la=(0,M.Z)(function*(R,O){const z=O.data;if(!z.isFirebaseMessaging)return;R.onMessageHandler&&z.messageType===rt.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(kn(z)):R.onMessageHandler.next(kn(z)));const me=z.data;ks(me)&&"1"===me[kt]&&(yield go(R,z.messageType,me))})).apply(this,arguments)}const mo="@firebase/messaging",Ic=R=>{const O=new Vi(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",z=>function Wl(R,O){return la.apply(this,arguments)}(O,z)),O},Qh=R=>{const O=R.getProvider("messaging").getImmediate();return{getToken:me=>function $r(R,O){return po.apply(this,arguments)}(O,me)}};function Kl(){return da.apply(this,arguments)}function da(){return(da=(0,M.Z)(function*(){try{yield(0,ye.eu)()}catch(R){return!1}return"undefined"!=typeof window&&(0,ye.hl)()&&(0,ye.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bi(){(0,se._registerComponent)(new we.wA("messaging",Ic,"PUBLIC")),(0,se._registerComponent)(new we.wA("messaging-internal",Qh,"PRIVATE")),(0,se.registerVersion)(mo,"0.9.15"),(0,se.registerVersion)(mo,"0.9.15","esm2017")}();var ef=x(6148),Cc=x(4408),Vg=x(7565);const Xi=new class cu extends Vg.v{}(class fs extends Cc.o{constructor(O,z){super(O,z),this.scheduler=O,this.work=z}schedule(O,z=0){return z>0?super.schedule(O,z):(this.delay=z,this.state=O,this.scheduler.flush(this),this)}execute(O,z){return z>0||this.closed?super.execute(O,z):this._execute(O,z)}requestAsyncId(O,z,me=0){return null!=me&&me>0||null==me&&this.delay>0?super.requestAsyncId(O,z,me):O.flush(this)}});var vo=x(4986),Us=x(8306),fa=x(8505),Tc=x(9468),Jl=x(5363);const es=new l.GfV("7.4.1"),_o="__angularfire_symbol__analyticsIsSupportedValue",Vs="__angularfire_symbol__analyticsIsSupported",Eo="__angularfire_symbol__remoteConfigIsSupportedValue",pa="__angularfire_symbol__remoteConfigIsSupported",Pr="__angularfire_symbol__messagingIsSupportedValue",mr="__angularfire_symbol__messagingIsSupported";globalThis[Vs]||(globalThis[Vs]=(0,ef.Gb)().then(R=>globalThis[_o]=R).catch(()=>globalThis[_o]=!1)),globalThis[mr]||(globalThis[mr]=Kl().then(R=>globalThis[Pr]=R).catch(()=>globalThis[Pr]=!1)),globalThis[pa]||(globalThis[pa]=Et().then(R=>globalThis[Eo]=R).catch(()=>globalThis[Eo]=!1));const ga={async:()=>globalThis[Vs],sync:()=>{const R=globalThis[_o];if(void 0===R)throw new Error((R=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${R} in the constructor, first ensure that ${R} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${R})\`.`)("Analytics"));return R}};function ma(R,O,z){if(O){if(1===O.length)return O[0];const Qe=O.filter(yt=>yt.app===z);if(1===Qe.length)return Qe[0]}return z.container.getProvider(R).getImmediate({optional:!0})}const du=(R,O)=>{const z=O?[O]:(0,F.C6)(),me=[];return z.forEach(Pe=>{Pe.container.getProvider(R).instances.forEach(yt=>{me.includes(yt)||me.push(yt)})}),me};function ts(){}class Ac{constructor(O,z=Xi){this.zone=O,this.delegate=z}now(){return this.delegate.now()}schedule(O,z,me){const Pe=this.zone;return this.delegate.schedule(function(yt){Pe.runGuarded(()=>{O.apply(this,[yt])})},z,me)}}class Tn{constructor(O){this.zone=O,this.task=null}call(O,z){const me=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ts,{},ts,ts)),z.pipe((0,fa.b)({next:me,complete:me,error:me})).subscribe(O).add(me)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ya=(()=>{class R{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new Ac(Zone.current)),this.insideAngular=z.run(()=>new Ac(Zone.current,vo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(z){return new(z||R)(l.LFG(l.R0b))},R.\u0275prov=l.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function ai(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function _n(R){return ai().ngZone.runOutsideAngular(()=>R())}function ns(R){return ai().ngZone.run(()=>R())}function Sr(R){return ai(),function Ea(R){return function(z){return(z=z.lift(new Tn(R.ngZone))).pipe((0,Tc.R)(R.outsideAngular),(0,Jl.Q)(R.insideAngular))}}(ai())(R)}const wo=(R,O)=>function(){const me=arguments;return O&&setTimeout(()=>{"scheduled"===O.state&&O.invoke()},10),ns(()=>R.apply(void 0,me))},ji=(R,O)=>function(){let z;const me=arguments;for(let Qe=0;Qe<arguments.length;Qe++)"function"==typeof me[Qe]&&(O&&(z||(z=ns(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ts,{},ts,ts)))),me[Qe]=wo(me[Qe],z));const Pe=_n(()=>R.apply(this,me));if(!O){if(Pe instanceof Us.y){const Qe=ai();return Pe.pipe((0,Tc.R)(Qe.outsideAngular),(0,Jl.Q)(Qe.insideAngular))}return ns(()=>Pe)}return Pe instanceof Us.y?Pe.pipe(Sr):Pe instanceof Promise?ns(()=>new Promise((Qe,yt)=>Pe.then(Ke=>ns(()=>Qe(Ke)),Ke=>ns(()=>yt(Ke))))):"function"==typeof Pe&&z?function(){return setTimeout(()=>{z&&"scheduled"===z.state&&z.invoke()},10),Pe.apply(this,arguments)}:ns(()=>Pe)}},3673:(ct,Te,x)=>{x.d(Te,{$:()=>Qe,A:()=>$,B:()=>Ce,G:()=>le,H:()=>Ut,J:()=>Bi,L:()=>Be,M:()=>cu,N:()=>Us,P:()=>mf,Q:()=>fa,R:()=>Gs,T:()=>Tc,U:()=>vo,V:()=>Vs,W:()=>Eo,X:()=>Xl,Y:()=>Ea,Z:()=>ji,_:()=>O,a:()=>Yr,a0:()=>On,a1:()=>$i,a2:()=>wa,a3:()=>Bt,a4:()=>Nn,a5:()=>_i,a6:()=>ba,a7:()=>td,a8:()=>nf,a9:()=>xc,aA:()=>jc,aB:()=>Na,aC:()=>fd,aD:()=>Qg,aE:()=>Ge,aI:()=>Ca,aL:()=>es,aa:()=>rf,ab:()=>ps,ac:()=>sf,af:()=>id,ag:()=>od,ah:()=>m_,ak:()=>ts,al:()=>Kr,an:()=>ud,ao:()=>w_,ap:()=>Rn,aq:()=>B,ar:()=>Lt,as:()=>at,at:()=>qe,au:()=>as,av:()=>md,aw:()=>Ne,ax:()=>ee,ay:()=>ae,az:()=>ot,b:()=>bt,c:()=>C_,d:()=>vf,e:()=>Kg,f:()=>Ef,g:()=>Lo,h:()=>sn,i:()=>Mo,j:()=>wf,k:()=>Cf,l:()=>Iu,m:()=>Af,n:()=>S_,o:()=>ue,r:()=>zg,s:()=>lr,u:()=>Cu,v:()=>y_});var l=x(5861),F=x(2090),M=x(9681),se=x(655),ye=x(1877),we=x(4859);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ce=function ie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ue=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$e=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new ye.Yd("@firebase/auth");function et(v,...p){De.logLevel<=ye.in.ERROR&&De.error(`Auth (${M.SDK_VERSION}): ${v}`,...p)}function qe(v,...p){throw Ye(v,...p)}function Ne(v,...p){return Ye(v,...p)}function Oe(v,p,m){const w=Object.assign(Object.assign({},Ue()),{[p]:m});return new F.LL("auth","Firebase",w).create(p,{appName:v.name})}function Ie(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&qe(v,"argument-error"),Oe(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(v,...p){if("string"!=typeof v){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return $e.create(v,...p)}function ee(v,p,...m){if(!v)throw Ye(p,...m)}function ge(v){const p="INTERNAL ASSERTION FAILED: "+v;throw et(p),new Error(p)}function B(v,p){v||ge(p)}const te=new Map;function ae(v){B(v instanceof Function,"Expected a class definition");let p=te.get(v);return p?(B(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,te.set(v,p),p)}function oe(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function vt(){return"http:"===Tt()||"https:"===Tt()}function Tt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class lt{constructor(p,m){this.shortDelay=p,this.longDelay=m,B(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function En(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vt()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vn(v,p){B(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class dn{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tn=new lt(3e4,6e4);function $t(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function At(v,p,m,w){return nn.apply(this,arguments)}function nn(){return(nn=(0,l.Z)(function*(v,p,m,w,T={}){return Mn(v,T,(0,l.Z)(function*(){let N={},re={};w&&("GET"===p?re=w:N={body:JSON.stringify(w)});const xe=(0,F.xO)(Object.assign({key:v.config.apiKey},re)).slice(1),it=yield v._getAdditionalHeaders();return it["Content-Type"]="application/json",v.languageCode&&(it["X-Firebase-Locale"]=v.languageCode),dn.fetch()(Qn(v,v.config.apiHost,m,xe),Object.assign({method:p,headers:it,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Mn(v,p,m){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,l.Z)(function*(v,p,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},Tr),p);try{const T=new ir(v),N=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const re=yield N.json();if("needConfirmation"in re)throw Dn(v,"account-exists-with-different-credential",re);if(N.ok&&!("errorMessage"in re))return re;{const xe=N.ok?re.errorMessage:re.error.message,[it,It]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===it)throw Dn(v,"credential-already-in-use",re);if("EMAIL_EXISTS"===it)throw Dn(v,"email-already-in-use",re);if("USER_DISABLED"===it)throw Dn(v,"user-disabled",re);const Rt=w[it]||it.toLowerCase().replace(/[_\s]+/g,"-");if(It)throw Oe(v,Rt,It);qe(v,Rt)}}catch(T){if(T instanceof F.ZR)throw T;qe(v,"network-request-failed")}})).apply(this,arguments)}function mn(v,p,m,w){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,l.Z)(function*(v,p,m,w,T={}){const N=yield At(v,p,m,w,T);return"mfaPendingCredential"in N&&qe(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Qn(v,p,m,w){const T=`${p}${m}?${w}`;return v.config.emulator?vn(v.config,T):`${v.config.apiScheme}://${T}`}class ir{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Ne(this.auth,"network-request-failed")),tn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dn(v,p,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const T=Ne(v,p,w);return T.customData._tokenResponse=m,T}function Et(){return(Et=(0,l.Z)(function*(v,p){return At(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Jn(v,p){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,l.Z)(function*(v,p){return At(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Qt(v,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(v,p){return At(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Zn(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Un(){return(Un=(0,l.Z)(function*(v,p=!1){const m=(0,F.m9)(v),w=yield m.getIdToken(p),T=kt(w);ee(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const N="object"==typeof T.firebase?T.firebase:void 0,re=null==N?void 0:N.sign_in_provider;return{claims:T,token:w,authTime:Zn(Lr(T.auth_time)),issuedAtTime:Zn(Lr(T.iat)),expirationTime:Zn(Lr(T.exp)),signInProvider:re||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Lr(v){return 1e3*Number(v)}function kt(v){var p;const[m,w,T]=v.split(".");if(void 0===m||void 0===w||void 0===T)return et("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,F.tV)(w);return N?JSON.parse(N):(et("Failed to decode base64 JWT payload"),null)}catch(N){return et("Caught error parsing JWT payload as JSON",null===(p=N)||void 0===p?void 0:p.toString()),null}}function rt(v,p){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof F.ZR&&Ur(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function Ur({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Ft{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class ar{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zn(this.lastLoginAt),this.creationTime=Zn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cn(v){return rn.apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(v){var p;const m=v.auth,w=yield v.getIdToken(),T=yield rt(v,Qt(m,{idToken:w}));ee(null==T?void 0:T.users.length,m,"internal-error");const N=T.users[0];v._notifyReloadListener(N);const re=(null===(p=N.providerUserInfo)||void 0===p?void 0:p.length)?J(N.providerUserInfo):[],xe=U(v.providerData,re),Rt=!!v.isAnonymous&&!(v.email&&N.passwordHash||(null==xe?void 0:xe.length)),An={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:xe,metadata:new ar(N.createdAt,N.lastLoginAt),isAnonymous:Rt};Object.assign(v,An)})).apply(this,arguments)}function K(){return(K=(0,l.Z)(function*(v){const p=(0,F.m9)(v);yield Cn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function U(v,p){return[...v.filter(w=>!p.some(T=>T.providerId===w.providerId)),...p]}function J(v){return v.map(p=>{var{providerId:m}=p,w=(0,se._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function k(){return(k=(0,l.Z)(function*(v,p){const m=yield Mn(v,{},(0,l.Z)(function*(){const w=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:N}=v.config,re=Qn(v,T,"/v1/token",`key=${N}`),xe=yield v._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",dn.fetch()(re,{method:"POST",headers:xe,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class L{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ee(p.idToken,"internal-error"),ee(void 0!==p.idToken,"internal-error"),ee(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function gt(v){const p=kt(v);return ee(p,"internal-error"),ee(void 0!==p.exp,"internal-error"),ee(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,l.Z)(function*(){return ee(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,l.Z)(function*(){const{accessToken:T,refreshToken:N,expiresIn:re}=yield function Q(v,p){return k.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(T,N,Number(re))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:T,expirationTime:N}=m,re=new L;return w&&(ee("string"==typeof w,"internal-error",{appName:p}),re.refreshToken=w),T&&(ee("string"==typeof T,"internal-error",{appName:p}),re.accessToken=T),N&&(ee("number"==typeof N,"internal-error",{appName:p}),re.expirationTime=N),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new L,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Y(v,p){ee("string"==typeof v||void 0===v,"internal-error",{appName:p})}class de{constructor(p){var{uid:m,auth:w,stsTokenManager:T}=p,N=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ft(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new ar(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const w=yield rt(m,m.stsTokenManager.getToken(m.auth,p));return ee(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function yn(v){return Un.apply(this,arguments)}(this,p)}reload(){return function mt(v){return K.apply(this,arguments)}(this)}_assign(p){this!==p&&(ee(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new de(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,l.Z)(function*(){let T=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),T=!0),m&&(yield Cn(w)),yield w.auth._persistUserIfCurrent(w),T&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield rt(p,function sr(v,p){return Et.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,T,N,re,xe,it,It,Rt;const An=null!==(w=m.displayName)&&void 0!==w?w:void 0,Si=null!==(T=m.email)&&void 0!==T?T:void 0,us=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,Id=null!==(re=m.photoURL)&&void 0!==re?re:void 0,Ou=null!==(xe=m.tenantId)&&void 0!==xe?xe:void 0,Ys=null!==(it=m._redirectEventId)&&void 0!==it?it:void 0,Mf=null!==(It=m.createdAt)&&void 0!==It?It:void 0,Va=null!==(Rt=m.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:Nu,emailVerified:Rf,isAnonymous:Pu,providerData:$o,stsTokenManager:Of}=m;ee(Nu&&Of,p,"internal-error");const Dd=L.fromJSON(this.name,Of);ee("string"==typeof Nu,p,"internal-error"),Y(An,p.name),Y(Si,p.name),ee("boolean"==typeof Rf,p,"internal-error"),ee("boolean"==typeof Pu,p,"internal-error"),Y(us,p.name),Y(Id,p.name),Y(Ou,p.name),Y(Ys,p.name),Y(Mf,p.name),Y(Va,p.name);const ku=new de({uid:Nu,auth:p,email:Si,emailVerified:Rf,displayName:An,isAnonymous:Pu,photoURL:Id,phoneNumber:us,tenantId:Ou,stsTokenManager:Dd,createdAt:Mf,lastLoginAt:Va});return $o&&Array.isArray($o)&&(ku.providerData=$o.map(fn=>Object.assign({},fn))),Ys&&(ku._redirectEventId=Ys),ku}static _fromIdTokenResponse(p,m,w=!1){return(0,l.Z)(function*(){const T=new L;T.updateFromServerResponse(m);const N=new de({uid:m.localId,auth:p,stsTokenManager:T,isAnonymous:w});return yield Cn(N),N})()}}const Be=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,w){var T=this;return(0,l.Z)(function*(){T.storage[m]=w})()}_get(m){var w=this;return(0,l.Z)(function*(){const T=w.storage[m];return void 0===T?null:T})()}_remove(m){var w=this;return(0,l.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function ot(v,p,m){return`firebase:${v}:${p}:${m}`}class Xe{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:T,name:N}=this.auth;this.fullUserKey=ot(this.userKey,T.apiKey,N),this.fullPersistenceKey=ot("persistence",T.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?de._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,l.Z)(function*(){if(!m.length)return new Xe(ae(Be),p,w);const T=(yield Promise.all(m.map(function(){var It=(0,l.Z)(function*(Rt){if(yield Rt._isAvailable())return Rt});return function(Rt){return It.apply(this,arguments)}}()))).filter(It=>It);let N=T[0]||ae(Be);const re=ot(w,p.config.apiKey,p.name);let xe=null;for(const It of m)try{const Rt=yield It._get(re);if(Rt){const An=de._fromJSON(p,Rt);It!==N&&(xe=An),N=It;break}}catch(Rt){}const it=T.filter(It=>It._shouldAllowMigration);return N._shouldAllowMigration&&it.length?(N=it[0],xe&&(yield N._set(re,xe.toJSON())),yield Promise.all(m.map(function(){var It=(0,l.Z)(function*(Rt){if(Rt!==N)try{yield Rt._remove(re)}catch(An){}});return function(Rt){return It.apply(this,arguments)}}())),new Xe(N,p,w)):new Xe(N,p,w)})()}}function X(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ze(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(j(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(_t(p))return"Blackberry";if(zt(p))return"Webos";if(V(p))return"Safari";if((p.includes("chrome/")||be(p))&&!p.includes("edge/"))return"Chrome";if(at(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function j(v=(0,F.z$)()){return/firefox\//i.test(v)}function V(v=(0,F.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function be(v=(0,F.z$)()){return/crios\//i.test(v)}function ze(v=(0,F.z$)()){return/iemobile/i.test(v)}function at(v=(0,F.z$)()){return/android/i.test(v)}function _t(v=(0,F.z$)()){return/blackberry/i.test(v)}function zt(v=(0,F.z$)()){return/webos/i.test(v)}function Lt(v=(0,F.z$)()){return/iphone|ipad|ipod/i.test(v)}function Rn(v=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Vn(v=(0,F.z$)()){return Lt(v)||at(v)||zt(v)||_t(v)||/windows phone/i.test(v)||ze(v)}function Xn(v,p=[]){let m;switch(v){case"Browser":m=X((0,F.z$)());break;case"Worker":m=`${X((0,F.z$)())}-${v}`;break;default:m=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${M.SDK_VERSION}/${w}`}class ds{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=N=>new Promise((re,xe)=>{try{re(p(N))}catch(it){xe(it)}});w.onAbort=m,this.queue.push(w);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,l.Z)(function*(){var w;if(m.auth.currentUser===p)return;const T=[];try{for(const N of m.queue)yield N(p),N.onAbort&&T.push(N.onAbort)}catch(N){T.reverse();for(const re of T)try{re()}catch(xe){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=N)||void 0===w?void 0:w.message})}})()}}class Nr{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q(this),this.idTokenSubscription=new q(this),this.beforeStateQueue=new ds(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=ae(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var T,N;if(!w._deleted&&(w.persistenceManager=yield Xe.create(w,p),!w._deleted)){if(null===(T=w._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(re){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(N=w.currentUser)||void 0===N?void 0:N.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var w;const T=yield m.assertedPersistence.getCurrentUser();let N=T,re=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const xe=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,it=null==N?void 0:N._redirectEventId,It=yield m.tryRedirectSignIn(p);(!xe||xe===it)&&(null==It?void 0:It.user)&&(N=It.user,re=!0)}if(!N)return m.directlySetCurrentUser(null);if(!N._redirectEventId){if(re)try{yield m.beforeStateQueue.runMiddleware(N)}catch(xe){N=T,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(xe))}return N?m.reloadAndSetCurrentUserOrClear(N):m.directlySetCurrentUser(null)}return ee(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===N._redirectEventId?m.directlySetCurrentUser(N):m.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(T){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){var w;try{yield Cn(p)}catch(T){if("auth/network-request-failed"!==(null===(w=T)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function st(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const w=p?(0,F.m9)(p):null;return w&&ee(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&ee(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(ae(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,l.Z)(function*(){const T=yield w.getOrInitRedirectPersistenceManager(m);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&ae(p)||m._popupRedirectResolver;ee(w,m,"argument-error"),m.redirectPersistenceManager=yield Xe.create(m,[ae(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var w,T;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,T){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),re=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(re,this,"internal-error"),re.then(()=>N(this.currentUser)),"function"==typeof m?p.addObserver(m,w,T):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Xn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const T=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(w["X-Firebase-Client"]=T),w})()}}function Ge(v){return(0,F.m9)(v)}class q{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(m=>this.observer=m)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function le(v,p,m){const w=Ge(v);ee(w._canInitEmulator,w,"emulator-config-failed"),ee(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const T=!!(null==m?void 0:m.disableWarnings),N=Fe(p),{host:re,port:xe}=function dt(v){const p=Fe(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(w);if(T){const N=T[1];return{host:N,port:Vt(w.substr(N.length+1))}}{const[N,re]=w.split(":");return{host:N,port:Vt(re)}}}(p);w.config.emulator={url:`${N}//${re}${null===xe?"":`:${xe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:re,port:xe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Jt(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Fe(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Vt(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Ut{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ge("not implemented")}_getIdTokenResponse(p){return ge("not implemented")}_linkToIdToken(p,m){return ge("not implemented")}_getReauthenticationResolver(p){return ge("not implemented")}}function kn(v,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(v,p){return At(v,"POST","/v1/accounts:resetPassword",$t(v,p))})).apply(this,arguments)}function wt(v,p){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,l.Z)(function*(v,p){return At(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ks(v,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,l.Z)(function*(v,p){return At(v,"POST","/v1/accounts:update",$t(v,p))})).apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithPassword",$t(v,p))})).apply(this,arguments)}function Vi(v,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,l.Z)(function*(v,p){return At(v,"POST","/v1/accounts:sendOobCode",$t(v,p))})).apply(this,arguments)}function Br(v,p){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(v,p){return Vi(v,p)})).apply(this,arguments)}function ca(v,p){return fo.apply(this,arguments)}function fo(){return(fo=(0,l.Z)(function*(v,p){return Vi(v,p)})).apply(this,arguments)}function jr(v,p){return $r.apply(this,arguments)}function $r(){return($r=(0,l.Z)(function*(v,p){return Vi(v,p)})).apply(this,arguments)}function po(v,p){return go.apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(v,p){return Vi(v,p)})).apply(this,arguments)}function Wr(){return(Wr=(0,l.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithEmailLink",$t(v,p))})).apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithEmailLink",$t(v,p))})).apply(this,arguments)}class mo extends Ut{constructor(p,m,w,T=null){super("password",w),this._email=p,this._password=m,this._tenantId=T}static _fromEmailAndPassword(p,m){return new mo(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new mo(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function Ls(v,p){return ur.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function hs(v,p){return Wr.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:qe(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return wt(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Wl(v,p){return la.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:qe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Hn(v,p){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,l.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithIdp",$t(v,p))})).apply(this,arguments)}class Bi extends Ut{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Bi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):qe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:T}=m,N=(0,se._T)(m,["providerId","signInMethod"]);if(!w||!T)return null;const re=new Bi(w,T);return re.idToken=N.idToken||void 0,re.accessToken=N.accessToken||void 0,re.secret=N.secret,re.nonce=N.nonce,re.pendingToken=N.pendingToken||null,re}_getIdTokenResponse(p){return Hn(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Hn(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Hn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,F.xO)(m)}return p}}function Kl(v,p){return da.apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(v,p){return At(v,"POST","/v1/accounts:sendVerificationCode",$t(v,p))})).apply(this,arguments)}function ha(){return(ha=(0,l.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithPhoneNumber",$t(v,p))})).apply(this,arguments)}function Yl(){return(Yl=(0,l.Z)(function*(v,p){const m=yield mn(v,"POST","/v1/accounts:signInWithPhoneNumber",$t(v,p));if(m.temporaryProof)throw Dn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ug={USER_NOT_FOUND:"user-not-found"};function Ql(){return(Ql=(0,l.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithPhoneNumber",$t(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ug)})).apply(this,arguments)}class yo extends Ut{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new yo({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new yo({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Jh(v,p){return ha.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Xh(v,p){return Yl.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Dc(v,p){return Ql.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:T}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:T,temporaryProof:N}=p;return w||m||T||N?new yo({verificationId:m,verificationCode:w,phoneNumber:T,temporaryProof:N}):null}}class fs{constructor(p){var m,w,T,N,re,xe;const it=(0,F.zd)((0,F.pd)(p)),It=null!==(m=it.apiKey)&&void 0!==m?m:null,Rt=null!==(w=it.oobCode)&&void 0!==w?w:null,An=function ef(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=it.mode)&&void 0!==T?T:null);ee(It&&Rt&&An,"argument-error"),this.apiKey=It,this.operation=An,this.code=Rt,this.continueUrl=null!==(N=it.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(re=it.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(xe=it.tenantId)&&void 0!==xe?xe:null}static parseLink(p){const m=function Cc(v){const p=(0,F.zd)((0,F.pd)(v)).link,m=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,w=(0,F.zd)((0,F.pd)(v)).deep_link_id;return(w?(0,F.zd)((0,F.pd)(w)).link:null)||w||m||p||v}(p);try{return new fs(m)}catch(w){return null}}}let cu=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return mo._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const T=fs.parseLink(w);return ee(T,"argument-error"),mo._fromEmailAndCode(m,T.code,T.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Xi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class vi extends Xi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class vo extends vi{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ee("providerId"in m&&"signInMethod"in m,"argument-error"),Bi._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ee(p.idToken||p.accessToken,"argument-error"),Bi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return vo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return vo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:T,pendingToken:N,nonce:re,providerId:xe}=p;if(!w&&!T&&!m&&!N||!xe)return null;try{return new vo(xe)._credential({idToken:m,accessToken:w,nonce:re,pendingToken:N})}catch(it){return null}}}let Us=(()=>{class v extends vi{constructor(){super("facebook.com")}static credential(m){return Bi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),fa=(()=>{class v extends vi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Bi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:T}=m;if(!w&&!T)return null;try{return v.credential(w,T)}catch(N){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Tc=(()=>{class v extends vi{constructor(){super("github.com")}static credential(m){return Bi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class es extends Ut{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Hn(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Hn(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Hn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:T,pendingToken:N}=m;return w&&T&&N&&w===T?new es(w,N):null}static _create(p,m){return new es(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vs extends Xi{constructor(p){ee(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Vs.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Vs.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=es.fromJSON(p);return ee(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return es._create(w,m)}catch(T){return null}}}let Eo=(()=>{class v extends vi{constructor(){super("twitter.com")}static credential(m,w){return Bi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:T}=m;if(!w||!T)return null;try{return v.credential(w,T)}catch(N){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function pa(v,p){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,l.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signUp",$t(v,p))})).apply(this,arguments)}class mr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,T=!1){return(0,l.Z)(function*(){const N=yield de._fromIdTokenResponse(p,w,T),re=lu(w);return new mr({user:N,providerId:re,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const T=lu(w);return new mr({user:p,providerId:T,_tokenResponse:w,operationType:m})})()}}function lu(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Xl(v){return ed.apply(this,arguments)}function ed(){return(ed=(0,l.Z)(function*(v){var p;const m=Ge(v);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new mr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield pa(m,{returnSecureToken:!0}),T=yield mr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class ga extends F.ZR{constructor(p,m,w,T){var N;super(m.code,m.message),this.operationType=w,this.user=T,Object.setPrototypeOf(this,ga.prototype),this.customData={appName:p.name,tenantId:null!==(N=p.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,T){return new ga(p,m,w,T)}}function ma(v,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?ga._fromErrorAndOperation(v,N,p,w):N})}function du(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function ts(v,p){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,l.Z)(function*(v,p){const m=(0,F.m9)(v);yield ai(!0,m,p);const{providerUserInfo:w}=yield Jn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),T=du(w||[]);return m.providerData=m.providerData.filter(N=>T.has(N.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Tn(v,p){return ya.apply(this,arguments)}function ya(){return(ya=(0,l.Z)(function*(v,p,m=!1){const w=yield rt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return mr._forOperation(v,"link",w)})).apply(this,arguments)}function ai(v,p,m){return _n.apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(v,p,m){yield Cn(p);const T=!1===v?"provider-already-linked":"no-such-provider";ee(du(p.providerData).has(m)===v,p.auth,T)})).apply(this,arguments)}function ns(v,p){return va.apply(this,arguments)}function va(){return(va=(0,l.Z)(function*(v,p,m=!1){var w;const{auth:T}=v,N="reauthenticate";try{const re=yield rt(v,ma(T,N,p,v),m);ee(re.idToken,T,"internal-error");const xe=kt(re.idToken);ee(xe,T,"internal-error");const{sub:it}=xe;return ee(v.uid===it,T,"user-mismatch"),mr._forOperation(v,N,re)}catch(re){throw"auth/user-not-found"===(null===(w=re)||void 0===w?void 0:w.code)&&qe(T,"user-mismatch"),re}})).apply(this,arguments)}function _a(v,p){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(v,p,m=!1){const w="signIn",T=yield ma(v,w,p),N=yield mr._fromIdTokenResponse(v,w,T);return m||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Ea(v,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(v,p){return _a(Ge(v),p)})).apply(this,arguments)}function ji(v,p){return R.apply(this,arguments)}function R(){return(R=(0,l.Z)(function*(v,p){const m=(0,F.m9)(v);return yield ai(!1,m,p.providerId),Tn(m,p)})).apply(this,arguments)}function O(v,p){return z.apply(this,arguments)}function z(){return(z=(0,l.Z)(function*(v,p){return ns((0,F.m9)(v),p)})).apply(this,arguments)}function me(v,p){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,l.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithCustomToken",$t(v,p))})).apply(this,arguments)}function Qe(v,p){return yt.apply(this,arguments)}function yt(){return(yt=(0,l.Z)(function*(v,p){const m=Ge(v),w=yield me(m,{token:p,returnSecureToken:!0}),T=yield mr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ke{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Bn._fromServerResponse(p,m):qe(p,"internal-error")}}class Bn extends Ke{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Bn(m)}}function yr(v,p,m){var w;ee((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),ee(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ee(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ee(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function On(v,p,m){return St.apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(v,p,m){const w=(0,F.m9)(v),T={requestType:"PASSWORD_RESET",email:p};m&&yr(w,T,m),yield ca(w,T)})).apply(this,arguments)}function $i(v,p,m){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,l.Z)(function*(v,p,m){yield kn((0,F.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function wa(v,p){return Re.apply(this,arguments)}function Re(){return(Re=(0,l.Z)(function*(v,p){yield ks((0,F.m9)(v),{oobCode:p})})).apply(this,arguments)}function Bt(v,p){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,l.Z)(function*(v,p){const m=(0,F.m9)(v),w=yield kn(m,{oobCode:p}),T=w.requestType;switch(ee(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(w.mfaInfo,m,"internal-error");default:ee(w.email,m,"internal-error")}let N=null;return w.mfaInfo&&(N=Ke._fromServerResponse(Ge(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:N},operation:T}})).apply(this,arguments)}function Nn(v,p){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,l.Z)(function*(v,p){const{data:m}=yield Bt((0,F.m9)(v),p);return m.email})).apply(this,arguments)}function _i(v,p,m){return cr.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(v,p,m){const w=Ge(v),T=yield pa(w,{returnSecureToken:!0,email:p,password:m}),N=yield mr._fromIdTokenResponse(w,"signIn",T);return yield w._updateCurrentUser(N.user),N})).apply(this,arguments)}function ba(v,p,m){return Ea((0,F.m9)(v),cu.credential(p,m))}function td(v,p,m){return tf.apply(this,arguments)}function tf(){return(tf=(0,l.Z)(function*(v,p,m){const w=(0,F.m9)(v),T={requestType:"EMAIL_SIGNIN",email:p};ee(m.handleCodeInApp,w,"argument-error"),m&&yr(w,T,m),yield jr(w,T)})).apply(this,arguments)}function nf(v,p){const m=fs.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function xc(v,p,m){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,l.Z)(function*(v,p,m){const w=(0,F.m9)(v),T=cu.credentialWithLink(p,m||oe());return ee(T._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ea(w,T)})).apply(this,arguments)}function Zr(v,p){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,l.Z)(function*(v,p){return At(v,"POST","/v1/accounts:createAuthUri",$t(v,p))})).apply(this,arguments)}function rf(v,p){return js.apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(v,p){const w={identifier:p,continueUri:vt()?oe():"http://localhost"},{signinMethods:T}=yield Zr((0,F.m9)(v),w);return T||[]})).apply(this,arguments)}function ps(v,p){return nd.apply(this,arguments)}function nd(){return(nd=(0,l.Z)(function*(v,p){const m=(0,F.m9)(v),T={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&yr(m.auth,T,p);const{email:N}=yield Br(m.auth,T);N!==v.email&&(yield v.reload())})).apply(this,arguments)}function sf(v,p,m){return rd.apply(this,arguments)}function rd(){return(rd=(0,l.Z)(function*(v,p,m){const w=(0,F.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&yr(w.auth,N,m);const{email:re}=yield po(w.auth,N);re!==v.email&&(yield v.reload())})).apply(this,arguments)}function Bg(v,p){return hu.apply(this,arguments)}function hu(){return(hu=(0,l.Z)(function*(v,p){return At(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function id(v,p){return sd.apply(this,arguments)}function sd(){return(sd=(0,l.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,F.m9)(v),N={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},re=yield rt(w,Bg(w.auth,N));w.displayName=re.displayName||null,w.photoURL=re.photoUrl||null;const xe=w.providerData.find(({providerId:it})=>"password"===it);xe&&(xe.displayName=w.displayName,xe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(re)})).apply(this,arguments)}function od(v,p){return ad((0,F.m9)(v),p,null)}function m_(v,p){return ad((0,F.m9)(v),null,p)}function ad(v,p,m){return bo.apply(this,arguments)}function bo(){return(bo=(0,l.Z)(function*(v,p,m){const{auth:w}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(N.email=p),m&&(N.password=m);const re=yield rt(v,wt(w,N));yield v._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class Io{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class uf extends Io{constructor(p,m,w,T){super(p,m,w),this.username=T}}class jg extends Io{constructor(p,m){super(p,"facebook.com",m)}}class fu extends uf{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class $s extends Io{constructor(p,m){super(p,"google.com",m)}}class $g extends uf{constructor(p,m,w){super(p,"twitter.com",m,w)}}function Kr(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function af(v){var p,m;if(!v)return null;const{providerId:w}=v,T=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&(null==v?void 0:v.idToken)){const re=null===(m=null===(p=kt(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(re)return new Io(N,"anonymous"!==re&&"custom"!==re?re:null)}if(!w)return null;switch(w){case"facebook.com":return new jg(N,T);case"github.com":return new fu(N,T);case"google.com":return new $s(N,T);case"twitter.com":return new $g(N,T,v.screenName||null);case"custom":case"anonymous":return new Io(N,null);default:return new Io(N,w,T)}}(m)}function y_(v,p,m,w){return(0,F.m9)(v).onAuthStateChanged(p,m,w)}class ms{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new ms("enroll",p)}static _fromMfaPendingCredential(p){return new ms("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return ms._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return ms._fromIdtoken(p.multiFactorSession.idToken)}return null}}class gu{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=Ge(p),T=m.customData._serverResponse,N=(T.mfaInfo||[]).map(xe=>Ke._fromServerResponse(w,xe));ee(T.mfaPendingCredential,w,"internal-error");const re=ms._fromMfaPendingCredential(T.mfaPendingCredential);return new gu(re,N,function(){var xe=(0,l.Z)(function*(it){const It=yield it._process(w,re);delete T.mfaInfo,delete T.mfaPendingCredential;const Rt=Object.assign(Object.assign({},T),{idToken:It.idToken,refreshToken:It.refreshToken});switch(m.operationType){case"signIn":const An=yield mr._fromIdTokenResponse(w,m.operationType,Rt);return yield w._updateCurrentUser(An.user),An;case"reauthenticate":return ee(m.user,w,"internal-error"),mr._forOperation(m.user,m.operationType,Rt);default:qe(w,"internal-error")}});return function(it){return xe.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}function ud(v,p){var m;const w=(0,F.m9)(v),T=p;return ee(p.customData.operationType,w,"argument-error"),ee(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),gu._fromError(w,T)}function Zg(v,p){return At(v,"POST","/v2/accounts/mfaEnrollment:start",$t(v,p))}class Da{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Ke._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Da(p)}getSession(){var p=this;return(0,l.Z)(function*(){return ms._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var w=this;return(0,l.Z)(function*(){const T=p,N=yield w.getSession(),re=yield rt(w.user,T._process(w.user.auth,N,m));return yield w.user._updateTokensIfNecessary(re),w.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){var w;const T="string"==typeof p?p:p.uid,N=yield m.user.getIdToken(),re=yield rt(m.user,function Do(v,p){return At(v,"POST","/v2/accounts/mfaEnrollment:withdraw",$t(v,p))}(m.user.auth,{idToken:N,mfaEnrollmentId:T}));m.enrolledFactors=m.enrolledFactors.filter(({uid:xe})=>xe!==T),yield m.user._updateTokensIfNecessary(re);try{yield m.user.reload()}catch(xe){if("auth/user-token-expired"!==(null===(w=xe)||void 0===w?void 0:w.code))throw xe}})()}}const cf=new WeakMap;function w_(v){const p=(0,F.m9)(v);return cf.has(p)||cf.set(p,Da._fromUser(p)),cf.get(p)}const Co="__sak";class cd{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Co,"1"),this.storage.removeItem(Co),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const bt=(()=>{class v extends cd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Hg(){const v=(0,F.z$)();return V(v)||Lt(v)}()&&function Vr(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Vn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const T=this.storage.getItem(w),N=this.localCache[w];T!==N&&m(w,N,T)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((xe,it,It)=>{this.notifyListeners(xe,It)});const T=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(T);if(m.newValue!==xe)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!w)return}const N=()=>{const xe=this.storage.getItem(T);!w&&this.localCache[T]===xe||this.notifyListeners(T,xe)},re=this.storage.getItem(T);!function Zt(){return(0,F.w1)()&&10===document.documentMode}()||re===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,w){this.localCache[m]=w;const T=this.listeners[m];if(T)for(const N of Array.from(T))N(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var T=()=>super._set,N=this;return(0,l.Z)(function*(){yield T().call(N,m,w),N.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,T=this;return(0,l.Z)(function*(){const N=yield w().call(T,m);return T.localCache[m]=JSON.stringify(N),N})()}_remove(m){var w=()=>super._remove,T=this;return(0,l.Z)(function*(){yield w().call(T,m),delete T.localCache[m]})()}}return v.type="LOCAL",v})(),Yr=(()=>{class v extends cd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let lf=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(N=>N.isListeningto(m));if(w)return w;const T=new v(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,l.Z)(function*(){const T=m,{eventId:N,eventType:re,data:xe}=T.data,it=w.handlersMap[re];if(!(null==it?void 0:it.size))return;T.ports[0].postMessage({status:"ack",eventId:N,eventType:re});const It=Array.from(it).map(function(){var An=(0,l.Z)(function*(Si){return Si(T.origin,xe)});return function(Si){return An.apply(this,arguments)}}()),Rt=yield function ui(v){return Promise.all(v.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(It);T.ports[0].postMessage({status:"done",eventId:N,eventType:re,response:Rt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Ca(v="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return v+m}class Ta{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var T=this;return(0,l.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let re,xe;return new Promise((it,It)=>{const Rt=Ca("",20);N.port1.start();const An=setTimeout(()=>{It(new Error("unsupported_event"))},w);xe={messageChannel:N,onMessage(Si){const us=Si;if(us.data.eventId===Rt)switch(us.data.status){case"ack":clearTimeout(An),re=setTimeout(()=>{It(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),it(us.data.response);break;default:clearTimeout(An),clearTimeout(re),It(new Error("invalid_response"))}}},T.handlers.add(xe),N.port1.addEventListener("message",xe.onMessage),T.target.postMessage({eventType:p,eventId:Rt,data:m},[N.port2])}).finally(()=>{xe&&T.removeMessageHandler(xe)})})()}}function vr(){return window}function mu(){return void 0!==vr().WorkerGlobalScope&&"function"==typeof vr().importScripts}function Gt(){return(Gt=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const ld="firebaseLocalStorageDb",jn="firebaseLocalStorage",Rc="fbase_key";class Ao{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function So(v,p){return v.transaction([jn],p?"readwrite":"readonly").objectStore(jn)}function vu(){const v=indexedDB.open(ld,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(jn,{keyPath:Rc})}catch(T){m(T)}}),v.addEventListener("success",(0,l.Z)(function*(){const w=v.result;w.objectStoreNames.contains(jn)?p(w):(w.close(),yield function yu(){const v=indexedDB.deleteDatabase(ld);return new Ao(v).toPromise()}(),p(yield vu()))}))})}function Aa(v,p,m){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,l.Z)(function*(v,p,m){const w=So(v,!0).put({[Rc]:p,value:m});return new Ao(w).toPromise()})).apply(this,arguments)}function xo(){return(xo=(0,l.Z)(function*(v,p){const m=So(v,!1).get(p),w=yield new Ao(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function pf(v,p){const m=So(v,!0).delete(p);return new Ao(m).toPromise()}const Mo=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield vu()),m.db})()}_withRetries(m){var w=this;return(0,l.Z)(function*(){let T=0;for(;;)try{const N=yield w._openDb();return yield m(N)}catch(N){if(T++>3)throw N;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return mu()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=lf._getInstance(function hf(){return mu()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(T,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(T,N){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(T,N){return["keyChanged"]});return function(T,N){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var w,T;if(m.activeServiceWorker=yield function Zs(){return Gt.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ta(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(w=N[0])||void 0===w?void 0:w.fulfilled)&&(null===(T=N[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function df(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield vu();return yield Aa(m,Co,"1"),yield pf(m,Co),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var T=this;return(0,l.Z)(function*(){return T._withPendingWrite((0,l.Z)(function*(){return yield T._withRetries(N=>Aa(N,m,w)),T.localCache[m]=w,T.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,l.Z)(function*(){const T=yield w._withRetries(N=>function _u(v,p){return xo.apply(this,arguments)}(N,m));return w.localCache[m]=T,T})()}_remove(m){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(T=>pf(T,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const w=yield m._withRetries(re=>{const xe=So(re,!1).getAll();return new Ao(xe).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const T=[],N=new Set;for(const{fbase_key:re,value:xe}of w)N.add(re),JSON.stringify(m.localCache[re])!==JSON.stringify(xe)&&(m.notifyListeners(re,xe),T.push(re));for(const re of Object.keys(m.localCache))m.localCache[re]&&!N.has(re)&&(m.notifyListeners(re,null),T.push(re));return T})()}notifyListeners(m,w){this.localCache[m]=w;const T=this.listeners[m];if(T)for(const N of Array.from(T))N(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function hd(v,p){return At(v,"POST","/v2/accounts/mfaSignIn:start",$t(v,p))}function Nc(){return(Nc=(0,l.Z)(function*(v){return(yield At(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Sa(v){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=T=>{const N=Ne("internal-error");N.customData=T,m(N)},w.type="text/javascript",w.charset="UTF-8",function _r(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function Hi(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Jr=1e12;class is{constructor(p){this.auth=p,this.counter=Jr,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new qn(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||Jr;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Jr))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var w;return null===(w=m._widgets.get(p||Jr))||void 0===w||w.execute(),""})()}}class qn{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;ee(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Pc(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wu=Hi("rcb"),zn=new lt(3e4,6e4);class qg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!vr().grecaptcha}load(p,m=""){return ee(function I_(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(vr().grecaptcha):new Promise((w,T)=>{const N=vr().setTimeout(()=>{T(Ne(p,"network-request-failed"))},zn.get());vr()[wu]=()=>{vr().clearTimeout(N),delete vr()[wu];const xe=vr().grecaptcha;if(!xe)return void T(Ne(p,"internal-error"));const it=xe.render;xe.render=(It,Rt)=>{const An=it(It,Rt);return this.counter++,An},this.hostLanguage=m,w(xe)},Sa(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:wu,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),T(Ne(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!vr().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ma{load(p){return(0,l.Z)(function*(){return new is(p)})()}clearedOneInstance(){}}const Ei="recaptcha",D_={theme:"light",type:"image"};class Gs{constructor(p,m=Object.assign({},D_),w){this.parameters=m,this.type=Ei,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ge(w),this.isInvisible="invisible"===this.parameters.size,ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;ee(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ma:new qg,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(N=>{const re=xe=>{!xe||(p.tokenChangeListeners.delete(re),N(xe))};p.tokenChangeListeners.add(re),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=vr()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){ee(vt()&&!mu(),p.auth,"internal-error"),yield function Oo(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Ro(v){return Nc.apply(this,arguments)}(p.auth);ee(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ra{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=yo._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function lr(v,p,m){return bu.apply(this,arguments)}function bu(){return(bu=(0,l.Z)(function*(v,p,m){const w=Ge(v),T=yield wi(w,p,(0,F.m9)(m));return new Ra(T,N=>Ea(w,N))})).apply(this,arguments)}function Iu(v,p,m){return gf.apply(this,arguments)}function gf(){return(gf=(0,l.Z)(function*(v,p,m){const w=(0,F.m9)(v);yield ai(!1,w,"phone");const T=yield wi(w.auth,p,(0,F.m9)(m));return new Ra(T,N=>ji(w,N))})).apply(this,arguments)}function zg(v,p,m){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(v,p,m){const w=(0,F.m9)(v),T=yield wi(w.auth,p,(0,F.m9)(m));return new Ra(T,N=>O(w,N))})).apply(this,arguments)}function wi(v,p,m){return Du.apply(this,arguments)}function Du(){return(Du=(0,l.Z)(function*(v,p,m){var w;const T=yield m.verify();try{let N;if(ee("string"==typeof T,v,"argument-error"),ee(m.type===Ei,v,"argument-error"),N="string"==typeof p?{phoneNumber:p}:p,"session"in N){const re=N.session;if("phoneNumber"in N)return ee("enroll"===re.type,v,"internal-error"),(yield Zg(v,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ee("signin"===re.type,v,"internal-error");const xe=(null===(w=N.multiFactorHint)||void 0===w?void 0:w.uid)||N.multiFactorUid;return ee(xe,v,"missing-multi-factor-info"),(yield hd(v,{mfaPendingCredential:re.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield Kl(v,{phoneNumber:N.phoneNumber,recaptchaToken:T});return re}}finally{m._reset()}})).apply(this,arguments)}function Cu(v,p){return No.apply(this,arguments)}function No(){return(No=(0,l.Z)(function*(v,p){yield Tn((0,F.m9)(v),p)})).apply(this,arguments)}let mf=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Ge(m)}verifyPhoneNumber(m,w){return wi(this.auth,m,(0,F.m9)(w))}static credential(m,w){return yo._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:T}=m;return w&&T?yo._fromTokenResponse(w,T):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Po(v,p){return p?ae(p):(ee(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class kc extends Ut{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Hn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Hn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Hn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Wg(v){return _a(v.auth,new kc(v),v.bypassAuthState)}function en(v){const{auth:p,user:m}=v;return ee(m,p,"internal-error"),ns(m,new kc(v),v.bypassAuthState)}function yf(v){return dr.apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(v){const{auth:p,user:m}=v;return ee(m,p,"internal-error"),Tn(m,new kc(v),v.bypassAuthState)})).apply(this,arguments)}class Tu{constructor(p,m,w,T,N=!1){this.auth=p,this.resolver=w,this.user=T,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(w,T){p.pendingPromise={resolve:w,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(N){p.reject(N)}});return function(w,T){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:T,postBody:N,tenantId:re,error:xe,type:it}=p;if(xe)return void m.reject(xe);const It={auth:m.auth,requestUri:w,sessionId:T,tenantId:re||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(it)(It))}catch(Rt){m.reject(Rt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Wg;case"linkViaPopup":case"linkViaRedirect":return yf;case"reauthViaPopup":case"reauthViaRedirect":return en;default:qe(this.auth,"internal-error")}}resolve(p){B(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){B(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qs=new lt(2e3,1e4);function C_(v,p,m){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,l.Z)(function*(v,p,m){const w=Ge(v);Ie(v,p,Xi);const T=Po(w,m);return new Uc(w,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function Kg(v,p,m){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,l.Z)(function*(v,p,m){const w=(0,F.m9)(v);Ie(w.auth,p,Xi);const T=Po(w.auth,m);return new Uc(w.auth,"reauthViaPopup",p,T,w).executeNotNull()})).apply(this,arguments)}function vf(v,p,m){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,l.Z)(function*(v,p,m){const w=(0,F.m9)(v);Ie(w.auth,p,Xi);const T=Po(w.auth,m);return new Uc(w.auth,"linkViaPopup",p,T,w).executeNotNull()})).apply(this,arguments)}let Uc=(()=>{class v extends Tu{constructor(m,w,T,N,re){super(m,w,N,re),this.provider=T,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const w=yield m.execute();return ee(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,l.Z)(function*(){B(1===m.filter.length,"Popup operations only handle one event");const w=Ca();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(Ne(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,T;this.pollId=(null===(T=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,qs.get())};m()}}return v.currentPopupAction=null,v})();const $n=new Map;class bi extends Tu{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let w=$n.get(m.auth._key());if(!w){try{const N=(yield function T_(v,p){return ko.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(N)}catch(T){w=()=>Promise.reject(T)}$n.set(m.auth._key(),w)}return m.bypassAuthState||$n.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const T=yield w.auth._redirectUserForId(p.eventId);if(T)return w.user=T,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function ko(){return(ko=(0,l.Z)(function*(v,p){const m=Vc(p),w=_f(v);if(!(yield w._isAvailable()))return!1;const T="true"===(yield w._get(m));return yield w._remove(m),T})).apply(this,arguments)}function Oa(v,p){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,l.Z)(function*(v,p){return _f(v)._set(Vc(p),"true")})).apply(this,arguments)}function Qg(){$n.clear()}function fd(v,p){$n.set(v._key(),p)}function _f(v){return ae(v._redirectPersistence)}function Vc(v){return ot("pendingRedirect",v.config.apiKey,v.name)}function Ef(v,p,m){return function zs(v,p,m){return ss.apply(this,arguments)}(v,p,m)}function ss(){return(ss=(0,l.Z)(function*(v,p,m){const w=Ge(v);Ie(v,p,Xi);const T=Po(w,m);return yield Oa(T,w),T._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function sn(v,p,m){return function Wn(v,p,m){return Bc.apply(this,arguments)}(v,p,m)}function Bc(){return(Bc=(0,l.Z)(function*(v,p,m){const w=(0,F.m9)(v);Ie(w.auth,p,Xi);const T=Po(w.auth,m);yield Oa(T,w.auth);const N=yield Uo(w);return T._openRedirect(w.auth,p,"reauthViaRedirect",N)})).apply(this,arguments)}function Lo(v,p,m){return function pd(v,p,m){return Ws.apply(this,arguments)}(v,p,m)}function Ws(){return(Ws=(0,l.Z)(function*(v,p,m){const w=(0,F.m9)(v);Ie(w.auth,p,Xi);const T=Po(w.auth,m);yield ai(!1,w,p.providerId),yield Oa(T,w.auth);const N=yield Uo(w);return T._openRedirect(w.auth,p,"linkViaRedirect",N)})).apply(this,arguments)}function wf(v,p){return gd.apply(this,arguments)}function gd(){return(gd=(0,l.Z)(function*(v,p){return yield Ge(v)._initializationPromise,Na(v,p,!1)})).apply(this,arguments)}function Na(v,p){return os.apply(this,arguments)}function os(){return(os=(0,l.Z)(function*(v,p,m=!1){const w=Ge(v),T=Po(w,p),re=yield new bi(w,T,m).execute();return re&&!m&&(delete re.user._redirectEventId,yield w._persistUserIfCurrent(re.user),yield w._setRedirectUser(null,p)),re})).apply(this,arguments)}function Uo(v){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,l.Z)(function*(v){const p=Ca(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class jc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function xu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Su(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!Su(p)){const T=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Ne(this.auth,T))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pa(p))}saveEventToCache(p){this.cachedEventUids.add(Pa(p)),this.lastProcessedEventTime=Date.now()}}function Pa(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Su({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function md(v){return yd.apply(this,arguments)}function yd(){return(yd=(0,l.Z)(function*(v,p={}){return At(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Jg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vs=/^https?/;function vd(){return(vd=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield md(v);for(const m of p)try{if(A_(m))return}catch(w){}qe(v,"unauthorized-domain")})).apply(this,arguments)}function A_(v){const p=oe(),{protocol:m,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const re=new URL(v);return""===re.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&re.hostname===w}if(!vs.test(m))return!1;if(Jg.test(v))return w===v;const T=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(w)}const bf=new lt(3e4,6e4);function If(){const v=vr().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let ka=null;function _d(v){return ka=ka||function Xg(v){return new Promise((p,m)=>{var w,T,N;function re(){If(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{If(),m(Ne(v,"network-request-failed"))},timeout:bf.get()})}if(null===(T=null===(w=vr().gapi)||void 0===w?void 0:w.iframes)||void 0===T?void 0:T.Iframe)p(gapi.iframes.getContext());else{if(!(null===(N=vr().gapi)||void 0===N?void 0:N.load)){const xe=Hi("iframefcb");return vr()[xe]=()=>{gapi.load?re():m(Ne(v,"network-request-failed"))},Sa(`https://apis.google.com/js/api.js?onload=${xe}`).catch(it=>m(it))}re()}}).catch(p=>{throw ka=null,p})}(v),ka}const _s=new lt(5e3,15e3),Bo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},em=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fa(v){const p=v.config;ee(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?vn(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:v.name,v:M.SDK_VERSION},T=em.get(v.config.apiHost);T&&(w.eid=T);const N=v._getFrameworks();return N.length&&(w.fw=N.join(",")),`${m}?${(0,F.xO)(w).slice(1)}`}function La(){return La=(0,l.Z)(function*(v){const p=yield _d(v),m=vr().gapi;return ee(m,v,"internal-error"),p.open({where:document.body,url:Fa(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bo,dontclear:!0},w=>new Promise(function(){var T=(0,l.Z)(function*(N,re){yield w.restyle({setHideOnLeave:!1});const xe=Ne(v,"network-request-failed"),it=vr().setTimeout(()=>{re(xe)},_s.get());function It(){vr().clearTimeout(it),N(w)}w.ping(It).then(It,()=>{re(xe)})});return function(N,re){return T.apply(this,arguments)}}()))}),La.apply(this,arguments)}const Ua={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gc{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function as(v,p,m,w,T,N){ee(v.config.authDomain,v,"auth-domain-config-required"),ee(v.config.apiKey,v,"invalid-api-key");const re={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:M.SDK_VERSION,eventId:T};if(p instanceof Xi){p.setDefaultLanguage(v.languageCode),re.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||(re.customParameters=JSON.stringify(p.getCustomParameters()));for(const[it,It]of Object.entries(N||{}))re[it]=It}if(p instanceof vi){const it=p.getScopes().filter(It=>""!==It);it.length>0&&(re.scopes=it.join(","))}v.tenantId&&(re.tid=v.tenantId);const xe=re;for(const it of Object.keys(xe))void 0===xe[it]&&delete xe[it];return`${function Ks({config:v}){return v.emulator?vn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,F.xO)(xe).slice(1)}`}const jo="webStorageSupport",Cf=class Df{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yr,this._completeRedirectFn=Na,this._overrideRedirectResult=fd}_openPopup(p,m,w,T){var N=this;return(0,l.Z)(function*(){var re;B(null===(re=N.eventManagers[p._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const xe=as(p,m,w,oe(),T);return function nm(v,p,m,w=500,T=600){const N=Math.max((window.screen.availHeight-T)/2,0).toString(),re=Math.max((window.screen.availWidth-w)/2,0).toString();let xe="";const it=Object.assign(Object.assign({},Ua),{width:w.toString(),height:T.toString(),top:N,left:re}),It=(0,F.z$)().toLowerCase();m&&(xe=be(It)?"_blank":m),j(It)&&(p=p||"http://localhost",it.scrollbars="yes");const Rt=Object.entries(it).reduce((Si,[us,Id])=>`${Si}${us}=${Id},`,"");if(function gr(v=(0,F.z$)()){var p;return Lt(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(It)&&"_self"!==xe)return function Ru(v,p){const m=document.createElement("a");m.href=v,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",xe),new Gc(null);const An=window.open(p||"",xe,Rt);ee(An,v,"popup-blocked");try{An.focus()}catch(Si){}return new Gc(An)}(p,xe,Ca())})()}_openRedirect(p,m,w,T){var N=this;return(0,l.Z)(function*(){return yield N._originValidation(p),function To(v){vr().location.href=v}(as(p,m,w,oe(),T)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:T,promise:N}=this.eventManagers[m];return T?Promise.resolve(T):(B(N,"If manager is not set, promise should be"),N)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const w=yield function tm(v){return La.apply(this,arguments)}(p),T=new jc(p);return w.register("authEvent",N=>(ee(null==N?void 0:N.authEvent,p,"invalid-auth-event"),{status:T.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:T},m.iframes[p._key()]=w,T})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(jo,{type:jo},T=>{var N;const re=null===(N=null==T?void 0:T[0])||void 0===N?void 0:N[jo];void 0!==re&&m(!!re),qe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Mu(v){return vd.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Vn()||V()||Lt()}};class Tf extends class sm{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Tf(p)}_finalizeEnroll(p,m,w){return function E_(v,p){return At(v,"POST","/v2/accounts/mfaEnrollment:finalize",$t(v,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Qr(v,p){return At(v,"POST","/v2/accounts/mfaSignIn:finalize",$t(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Af=(()=>{class v{constructor(){}static assertion(m){return Tf._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var bd="@firebase/auth";class om{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var T;p((null===(T=w)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function S_(v=(0,M.getApp)()){const p=(0,M._getProvider)(v,"auth");return p.isInitialized()?p.getImmediate():function ce(v,p){const m=(0,M._getProvider)(v,"auth");if(m.isInitialized()){const T=m.getImmediate(),N=m.getOptions();if((0,F.vZ)(N,null!=p?p:{}))return T;qe(T,"already-initialized")}return m.initialize({options:p})}(v,{popupRedirectResolver:Cf,persistence:[Mo,bt,Yr]})}!function qc(v){(0,M._registerComponent)(new we.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),T=p.getProvider("heartbeat"),{apiKey:N,authDomain:re}=w.options;return((xe,it)=>{ee(N&&!N.includes(":"),"invalid-api-key",{appName:xe.name}),ee(!(null==re?void 0:re.includes(":")),"argument-error",{appName:xe.name});const It={apiKey:N,authDomain:re,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xn(v)},Rt=new Nr(xe,it,It);return function Me(v,p){const m=(null==p?void 0:p.persistence)||[],w=(Array.isArray(m)?m:[m]).map(ae);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(Rt,m),Rt})(w,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,M._registerComponent)(new we.wA("auth-internal",p=>{const m=Ge(p.getProvider("auth").getImmediate());return new om(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,M.registerVersion)(bd,"0.20.4",function xf(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,M.registerVersion)(bd,"0.20.4","esm2017")}("Browser")},2090:(ct,Te,x)=>{x.d(Te,{BH:()=>je,LL:()=>oe,ZR:()=>Me,zI:()=>te,US:()=>we,tV:()=>ve,L:()=>ue,$s:()=>ar,r3:()=>$t,Sg:()=>Ce,ne:()=>sr,vZ:()=>Fr,ZB:()=>$,pd:()=>ir,m9:()=>mt,z$:()=>Ue,jU:()=>De,ru:()=>et,d:()=>Ne,xb:()=>nn,w1:()=>Oe,hl:()=>ge,uI:()=>$e,UG:()=>_e,b$:()=>qe,G6:()=>ee,Mn:()=>Ie,xO:()=>Pn,zd:()=>Qn,eu:()=>B});const se=function(K){const U=[];let J=0;for(let Q=0;Q<K.length;Q++){let k=K.charCodeAt(Q);k<128?U[J++]=k:k<2048?(U[J++]=k>>6|192,U[J++]=63&k|128):55296==(64512&k)&&Q+1<K.length&&56320==(64512&K.charCodeAt(Q+1))?(k=65536+((1023&k)<<10)+(1023&K.charCodeAt(++Q)),U[J++]=k>>18|240,U[J++]=k>>12&63|128,U[J++]=k>>6&63|128,U[J++]=63&k|128):(U[J++]=k>>12|224,U[J++]=k>>6&63|128,U[J++]=63&k|128)}return U},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,U){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let k=0;k<K.length;k+=3){const L=K[k],Y=k+1<K.length,de=Y?K[k+1]:0,Le=k+2<K.length,Be=Le?K[k+2]:0;let X=(15&de)<<2|Be>>6,j=63&Be;Le||(j=64,Y||(X=64)),Q.push(J[L>>2],J[(3&L)<<4|de>>4],J[X],J[j])}return Q.join("")},encodeString(K,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(K):this.encodeByteArray(se(K),U)},decodeString(K,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(K):function(K){const U=[];let J=0,Q=0;for(;J<K.length;){const k=K[J++];if(k<128)U[Q++]=String.fromCharCode(k);else if(k>191&&k<224){const L=K[J++];U[Q++]=String.fromCharCode((31&k)<<6|63&L)}else if(k>239&&k<365){const Le=((7&k)<<18|(63&K[J++])<<12|(63&K[J++])<<6|63&K[J++])-65536;U[Q++]=String.fromCharCode(55296+(Le>>10)),U[Q++]=String.fromCharCode(56320+(1023&Le))}else{const L=K[J++],Y=K[J++];U[Q++]=String.fromCharCode((15&k)<<12|(63&L)<<6|63&Y)}}return U.join("")}(this.decodeStringToByteArray(K,U))},decodeStringToByteArray(K,U){this.init_();const J=U?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let k=0;k<K.length;){const L=J[K.charAt(k++)],de=k<K.length?J[K.charAt(k)]:0;++k;const Be=k<K.length?J[K.charAt(k)]:64;++k;const Xe=k<K.length?J[K.charAt(k)]:64;if(++k,null==L||null==de||null==Be||null==Xe)throw Error();Q.push(L<<2|de>>4),64!==Be&&(Q.push(de<<4&240|Be>>2),64!==Xe&&Q.push(Be<<6&192|Xe))}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},ue=function(K){return function(K){const U=se(K);return we.encodeByteArray(U,!0)}(K).replace(/\./g,"")},ve=function(K){try{return we.decodeString(K,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function $(K,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return U}for(const J in U)!U.hasOwnProperty(J)||!ie(J)||(K[J]=$(K[J],U[J]));return K}function ie(K){return"__proto__"!==K}class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,J)=>{this.resolve=U,this.reject=J})}wrapCallback(U){return(J,Q)=>{J?this.reject(J):this.resolve(Q),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(J):U(J,Q))}}}function Ce(K,U){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Q=U||"demo-project",k=K.iat||0,L=K.sub||K.user_id;if(!L)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Y=Object.assign({iss:`https://securetoken.google.com/${Q}`,aud:Q,iat:k,exp:k+3600,auth_time:k,sub:L,user_id:L,firebase:{sign_in_provider:"custom",identities:{}}},K);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Y)),""].join(".")}function Ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(K){return!1}}function De(){return"object"==typeof self&&self.self===self}function et(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return Ue().indexOf("Electron/")>=0}function Oe(){const K=Ue();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Ie(){return Ue().indexOf("MSAppHost/")>=0}function ee(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ge(){return"object"==typeof indexedDB}function B(){return new Promise((K,U)=>{try{let J=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(Q);k.onsuccess=()=>{k.result.close(),J||self.indexedDB.deleteDatabase(Q),K(!0)},k.onupgradeneeded=()=>{J=!1},k.onerror=()=>{var L;U((null===(L=k.error)||void 0===L?void 0:L.message)||"")}}catch(J){U(J)}})}function te(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Me extends Error{constructor(U,J,Q){super(J),this.code=U,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,Me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oe.prototype.create)}}class oe{constructor(U,J,Q){this.service=U,this.serviceName=J,this.errors=Q}create(U,...J){const Q=J[0]||{},k=`${this.service}/${U}`,L=this.errors[U],Y=L?function vt(K,U){return K.replace(Tt,(J,Q)=>{const k=U[Q];return null!=k?String(k):`<${Q}?>`})}(L,Q):"Error";return new Me(k,`${this.serviceName}: ${Y} (${k}).`,Q)}}const Tt=/\{\$([^}]+)}/g;function $t(K,U){return Object.prototype.hasOwnProperty.call(K,U)}function nn(K){for(const U in K)if(Object.prototype.hasOwnProperty.call(K,U))return!1;return!0}function Fr(K,U){if(K===U)return!0;const J=Object.keys(K),Q=Object.keys(U);for(const k of J){if(!Q.includes(k))return!1;const L=K[k],Y=U[k];if(mn(L)&&mn(Y)){if(!Fr(L,Y))return!1}else if(L!==Y)return!1}for(const k of Q)if(!J.includes(k))return!1;return!0}function mn(K){return null!==K&&"object"==typeof K}function Pn(K){const U=[];for(const[J,Q]of Object.entries(K))Array.isArray(Q)?Q.forEach(k=>{U.push(encodeURIComponent(J)+"="+encodeURIComponent(k))}):U.push(encodeURIComponent(J)+"="+encodeURIComponent(Q));return U.length?"&"+U.join("&"):""}function Qn(K){const U={};return K.replace(/^\?/,"").split("&").forEach(Q=>{if(Q){const[k,L]=Q.split("=");U[decodeURIComponent(k)]=decodeURIComponent(L)}}),U}function ir(K){const U=K.indexOf("?");if(!U)return"";const J=K.indexOf("#",U);return K.substring(U,J>0?J:void 0)}function sr(K,U){const J=new Et(K,U);return J.subscribe.bind(J)}class Et{constructor(U,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{U(this)}).catch(Q=>{this.error(Q)})}next(U){this.forEachObserver(J=>{J.next(U)})}error(U){this.forEachObserver(J=>{J.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,J,Q){let k;if(void 0===U&&void 0===J&&void 0===Q)throw new Error("Missing Observer.");k=function Xt(K,U){if("object"!=typeof K||null===K)return!1;for(const J of U)if(J in K&&"function"==typeof K[J])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:J,complete:Q},void 0===k.next&&(k.next=Qt),void 0===k.error&&(k.error=Qt),void 0===k.complete&&(k.complete=Qt);const L=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch(Y){}}),this.observers.push(k),L}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,U)}sendOne(U,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{J(this.observers[U])}catch(Q){"undefined"!=typeof console&&console.error&&console.error(Q)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qt(){}function ar(K,U=1e3,J=2){const Q=U*Math.pow(J,K),k=Math.round(.5*Q*(Math.random()-.5)*2);return Math.min(144e5,Q+k)}function mt(K){return K&&K._delegate?K._delegate:K}},6017:(ct,Te,x)=>{var l=x(5e3);let F=null;function M(){return F}const fe=new l.OlP("DocumentToken");let ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ve(){return(0,l.LFG)($)}()},providedIn:"platform"}),n})();const Z=new l.OlP("Location Initialized");let $=(()=>{class n extends ue{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return M().getBaseHref(this._doc)}onPopState(t){const r=M().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=M().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){ie()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){ie()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function je(){return new $((0,l.LFG)(fe))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function Ce(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ue(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $e(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function De(n){const e=(0,l.LFG)(fe).location;return new qe((0,l.LFG)(ue),e&&e.origin||"")}()},providedIn:"root"}),n})();const et=new l.OlP("appBaseHref");let qe=(()=>{class n extends _e{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ce(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+$e(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const h=this.prepareExternalUrl(o+$e(u));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,u){const h=this.prepareExternalUrl(o+$e(u));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue),l.LFG(et,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ce(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let h=this.prepareExternalUrl(o+$e(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,u){let h=this.prepareExternalUrl(o+$e(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue),l.LFG(et,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n{constructor(t,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ue(ee(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$e(r))}normalize(t){return n.stripTrailingSlash(function Ye(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ee(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=$e,n.joinWithSlash=Ce,n.stripTrailingSlash=Ue,n.\u0275fac=function(t){return new(t||n)(l.LFG(_e),l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ie(){return new Oe((0,l.LFG)(_e),(0,l.LFG)(ue))}()},providedIn:"root"}),n})();function ee(n){return n.replace(/\/index.html$/,"")}let Br=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new gn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ca("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ca("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class gn{constructor(){this.$implicit=null,this.ngIf=null}}function ca(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let es=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function mr(n){return"server"===n}let ga=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new ma((0,l.LFG)(fe),window)}),n})();class ma{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ts(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const h=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=du(this.window.history)||du(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function du(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ai extends class ya extends class we{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ye(n){F||(F=n)}(new ai)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ns(){return _n=_n||document.querySelector("base"),_n?_n.getAttribute("href"):null}();return null==t?null:function _a(n){va=va||document.createElement("a"),va.setAttribute("href",n);const e=va.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_n=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Qi(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let va,_n=null;const Sr=new l.OlP("TRANSITION_ID"),wo=[{provide:l.ip1,useFactory:function Ea(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=M(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[Sr,fe,l.zs3],multi:!0}];class ji{static init(){(0,l.VLi)(new ji)}addToWindow(e){l.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const o=l.dqk.getAllAngularTestabilities();let u=o.length,h=!1;const g=function(E){h=h||E,u--,0==u&&r(h)};o.forEach(function(E){E.whenStable(g)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?M().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let R=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const O=new l.OlP("EventManagerPlugins");let z=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const h=o[u];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(O),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class me{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=M().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Pe=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Qe=(()=>{class n extends Pe{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const h=this._doc.createElement("style");h.textContent=u,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(yt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(yt))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function yt(n){M().remove(n)}const Ke={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bn=/%COMP%/g;function Re(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Re(n,o,t):(o=o.replace(Bn,n),t.push(o))}return t}function Bt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Nn=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ti(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new ba(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case l.ifc.ShadowDom:return new td(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Re(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(z),l.LFG(Qe),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ti{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ke[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=Ke[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Ke[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,o&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Bt(r)):this.eventManager.addEventListener(e,t,Bt(r))}}class ba extends Ti{constructor(e,t,r,o){super(e),this.component=r;const u=Re(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Bs(n){return"_ngcontent-%COMP%".replace(Bn,n)}(o+"-"+r.id),this.hostAttr=function wa(n){return"_nghost-%COMP%".replace(Bn,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class td extends Ti{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Re(o.id,o.styles,[]);for(let h=0;h<u.length;h++){const g=document.createElement("style");g.textContent=u[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let tf=(()=>{class n extends me{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const nf=["alt","control","meta","shift"],Ia={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Zi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let rf=(()=>{class n extends me{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),h=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>M().onAndCancel(t,u.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let h="";if(nf.forEach(E=>{const I=r.indexOf(E);I>-1&&(r.splice(I,1),h+=E+".")}),h+=u,0!=r.length||0===u.length)return null;const g={};return g.domEventName=o,g.fullKey=h,g}static getEventFullKey(t){let r="",o=function js(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Zr.hasOwnProperty(e)&&(e=Zr[e]))}return Ia[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),nf.forEach(u=>{u!=o&&Zi[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Bg=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function ps(){ai.makeCurrent(),ji.init()},multi:!0},{provide:fe,useFactory:function sf(){return(0,l.RDi)(document),document},deps:[]}]),hu=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function nd(){return new l.qLn},deps:[]},{provide:O,useClass:tf,multi:!0,deps:[fe,l.R0b,l.Lbi]},{provide:O,useClass:rf,multi:!0,deps:[fe]},{provide:Nn,useClass:Nn,deps:[z,Qe,l.AFp]},{provide:l.FYo,useExisting:Nn},{provide:Pe,useExisting:Qe},{provide:Qe,useClass:Qe,deps:[fe]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:z,useClass:z,deps:[O,l.R0b]},{provide:class Tn{},useClass:R,deps:[]}];let id=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Sr,useExisting:l.AFp},wo]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:hu,imports:[es,l.hGG]}),n})(),bo=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ad(){return new bo((0,l.LFG)(fe))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;var er=x(8996),Mc=x(7669);function bt(...n){const e=(0,Mc.yG)(n);return(0,er.D)(n,e)}var ys=x(7579);class Yr extends ys.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var ui=x(8306);const{isArray:lf}=Array,{getPrototypeOf:Ca,prototype:Ta,keys:vr}=Object;function To(n){if(1===n.length){const e=n[0];if(lf(e))return{args:e,keys:null};if(function mu(n){return n&&"object"==typeof n&&Ca(n)===Ta}(e)){const t=vr(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Zs=x(4671),Gt=x(4004);const{isArray:df}=Array;function ld(n){return(0,Gt.U)(e=>function hf(n,e){return df(e)?n(...e):n(e)}(n,e))}function ff(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var jn=x(5403),Rc=x(9672);function yu(n,e,t){n?(0,Rc.f)(t,n,e):e()}var vu=x(576);function Aa(n,e){const t=(0,vu.m)(n)?n:()=>n,r=o=>o.error(t());return new ui.y(e?o=>e.schedule(r,0,o):r)}const _u=(0,x(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var xo=x(8189);function dd(...n){return function pf(){return(0,xo.J)(1)}()((0,er.D)(n,(0,Mc.yG)(n)))}var Hs=x(8421);function Eu(n){return new ui.y(e=>{(0,Hs.Xf)(n()).subscribe(e)})}var Mo=x(515),hd=x(727),Qr=x(4482);function Ro(){return(0,Qr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,jn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Nc extends ui.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Qr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new hd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,jn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=hd.w0.EMPTY)}return e}refCount(){return Ro()(this)}}function _r(n,e){return(0,Qr.e)((t,r)=>{let o=null,u=0,h=!1;const g=()=>h&&!o&&r.complete();t.subscribe((0,jn.x)(r,E=>{null==o||o.unsubscribe();let I=0;const C=u++;(0,Hs.Xf)(n(E,C)).subscribe(o=(0,jn.x)(r,S=>r.next(e?e(E,S,C,I++):S),()=>{o=null,g()}))},()=>{h=!0,g()}))})}var Sa=x(5698);function Hi(...n){const e=(0,Mc.yG)(n);return(0,Qr.e)((t,r)=>{(e?dd(n,t,e):dd(n,t)).subscribe(r)})}function xa(n,e,t,r,o){return(u,h)=>{let g=t,E=e,I=0;u.subscribe((0,jn.x)(h,C=>{const S=I++;E=g?n(E,C,S):(g=!0,C),r&&h.next(E)},o&&(()=>{g&&h.next(E),h.complete()})))}}function rs(n,e){return(0,Qr.e)(xa(n,e,arguments.length>=2,!0))}function Jr(n,e){return(0,Qr.e)((t,r)=>{let o=0;t.subscribe((0,jn.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}function is(n){return(0,Qr.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,jn.x)(t,void 0,void 0,h=>{u=(0,Hs.Xf)(n(h,is(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}var qn=x(5577);function Pc(n,e){return(0,vu.m)(e)?(0,qn.z)(n,e,1):(0,qn.z)(n,1)}function wu(n){return n<=0?()=>Mo.E:(0,Qr.e)((e,t)=>{let r=[];e.subscribe((0,jn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function zn(n=Gg){return(0,Qr.e)((e,t)=>{let r=!1;e.subscribe((0,jn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Gg(){return new _u}function qg(n){return(0,Qr.e)((e,t)=>{let r=!1;e.subscribe((0,jn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Ma(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Jr((o,u)=>n(o,u,r)):Zs.y,(0,Sa.q)(1),t?qg(e):zn(()=>new _u))}var Ei=x(8505);class Gs{constructor(e,t){this.id=e,this.url=t}}class Oo extends Gs{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ra extends Gs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lr extends Gs{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bu extends Gs{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Iu extends Gs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gf extends Gs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zg extends Gs{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ci extends Gs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wi extends Gs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Du{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Cu{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class No{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mf{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Po{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wg{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const en="primary";class yf{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function dr(n){return new yf(n)}const Tu="ngNavigationCancelingError";function qs(n){const e=Error("NavigationCancelingError: "+n);return e[Tu]=!0,e}function Fc(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const h=r[u],g=n[u];if(h.startsWith(":"))o[h.substring(1)]=g;else if(h!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Ai(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!vf(n[o],e[o]))return!1;return!0}function vf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function Lc(n){return Array.prototype.concat.apply([],n)}function Uc(n){return n.length>0?n[n.length-1]:null}function $n(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function bi(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,er.D)(Promise.resolve(n)):bt(n)}const ko={exact:function fd(n,e,t){if(!Lo(n.segments,e.segments)||!zs(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!fd(n.children[r],e.children[r],t))return!1;return!0},subset:Vc},Oa={exact:function Qg(n,e){return Ai(n,e)},subset:function _f(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>vf(n[t],e[t]))},ignored:()=>!0};function Fo(n,e,t){return ko[t.paths](n.root,e.root,t.matrixParams)&&Oa[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Vc(n,e,t){return Ef(n,e,e.segments,t)}function Ef(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Lo(o,t)||e.hasChildren()||!zs(o,t,r))}if(n.segments.length===t.length){if(!Lo(n.segments,t)||!zs(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Vc(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Lo(n.segments,o)&&zs(n.segments,o,r)&&n.children[en])&&Ef(n.children[en],e,u,r)}}function zs(n,e,t){return e.every((r,o)=>Oa[t](n[o].parameters,r.parameters))}class ss{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dr(this.queryParams)),this._queryParamMap}toString(){return gd.serialize(this)}}class sn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,$n(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Na(this)}}class Wn{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=dr(this.parameters)),this._parameterMap}toString(){return xu(this)}}function Lo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Ws{}class wf{parse(e){const t=new If(e);return new ss(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${os(e.root,!0)}`,r=function yd(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Vo(t)}=${Vo(o)}`).join("&"):`${Vo(t)}=${Vo(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Au(n){return encodeURI(n)}(e.fragment)}`:""}`}}const gd=new wf;function Na(n){return n.segments.map(e=>xu(e)).join("/")}function os(n,e){if(!n.hasChildren())return Na(n);if(e){const t=n.children[en]?os(n.children[en],!1):"",r=[];return $n(n.children,(o,u)=>{u!==en&&r.push(`${u}:${os(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function pd(n,e){let t=[];return $n(n.children,(r,o)=>{o===en&&(t=t.concat(e(r,o)))}),$n(n.children,(r,o)=>{o!==en&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===en?[os(n.children[en],!1)]:[`${o}:${os(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[en]?`${Na(n)}/${t[0]}`:`${Na(n)}/(${t.join("//")})`}}function Uo(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vo(n){return Uo(n).replace(/%3B/gi,";")}function jc(n){return Uo(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pa(n){return decodeURIComponent(n)}function Su(n){return Pa(n.replace(/\+/g,"%20"))}function xu(n){return`${jc(n.path)}${function md(n){return Object.keys(n).map(e=>`;${jc(e)}=${jc(n[e])}`).join("")}(n.parameters)}`}const Jg=/^[^\/()?;=#]+/;function vs(n){const e=n.match(Jg);return e?e[0]:""}const Mu=/^[^=?&#]+/,A_=/^[^&#]+/;class If{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[en]=new sn(e,t)),r}parseSegment(){const e=vs(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Wn(Pa(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=vs(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=vs(this.remaining);o&&(r=o,this.capture(r))}e[Pa(t)]=Pa(r)}parseQueryParam(e){const t=function vd(n){const e=n.match(Mu);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function bf(n){const e=n.match(A_);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Su(t),u=Su(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vs(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=en);const h=this.parseChildren();t[u]=1===Object.keys(h).length?h[en]:new sn([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Xg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ka(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ka(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=_d(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return _d(e,this._root).map(t=>t.value)}}function ka(n,e){if(n===e.value)return e;for(const t of e.children){const r=ka(n,t);if(r)return r}return null}function _d(n,e){if(n===e.value)return[e];for(const t of e.children){const r=_d(n,t);if(r.length)return r.unshift(e),r}return[]}class _s{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Es(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class $c extends Xg{constructor(e,t){super(e),this.snapshot=t,Zc(this,e)}toString(){return this.snapshot.toString()}}function Bo(n,e){const t=function em(n,e){const h=new Ua([],{},{},"",{},en,e,null,n.root,-1,{});return new Ed("",new _s(h,[]))}(n,e),r=new Yr([new Wn("",{})]),o=new Yr({}),u=new Yr({}),h=new Yr({}),g=new Yr(""),E=new Fa(r,o,h,g,u,en,e,t.root);return E.snapshot=t.root,new $c(new _s(E,[]),t)}class Fa{constructor(e,t,r,o,u,h,g,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=g,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Gt.U)(e=>dr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Gt.U)(e=>dr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tm(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function La(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ua{constructor(e,t,r,o,u,h,g,E,I,C,S){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=g,this.routeConfig=E,this._urlSegment=I,this._lastPathIndex=C,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ed extends Xg{constructor(e,t){super(t),this.url=e,Zc(this,t)}toString(){return wd(this._root)}}function Zc(n,e){e.value._routerState=n,e.children.forEach(t=>Zc(n,t))}function wd(n){const e=n.children.length>0?` { ${n.children.map(wd).join(", ")} } `:"";return`${n.value}${e}`}function Hc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ai(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ai(e.params,t.params)||n.params.next(t.params),function Kg(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ai(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ai(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Gc(n,e){const t=Ai(n.params,e.params)&&function Bc(n,e){return Lo(n,e)&&n.every((t,r)=>Ai(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Gc(n.parent,e.parent))}function Ru(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function rm(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Ru(n,r,o);return Ru(n,r)})}(n,e,t);return new _s(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(g=>Ru(n,g)),h}}const r=function im(n){return new Fa(new Yr(n.url),new Yr(n.params),new Yr(n.queryParams),new Yr(n.fragment),new Yr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Ru(n,u));return new _s(r,o)}}function Ks(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function jo(n){return"object"==typeof n&&null!=n&&n.outlets}function Df(n,e,t,r,o){let u={};if(r&&$n(r,(g,E)=>{u[E]=Array.isArray(g)?g.map(I=>`${I}`):`${g}`}),n===e)return new ss(t,u,o);const h=Cf(n,e,t);return new ss(h,u,o)}function Cf(n,e,t){const r={};return $n(n.children,(o,u)=>{r[u]=o===e?t:Cf(o,e,t)}),new sn(n.segments,r)}class sm{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ks(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(jo);if(o&&o!==Uc(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Af{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function xf(n,e,t){if(n||(n=new sn([],{})),0===n.segments.length&&n.hasChildren())return qc(n,e,t);const r=function S_(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const h=n.segments[o],g=t[r];if(jo(g))break;const E=`${g}`,I=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&I&&"object"==typeof I&&void 0===I.outlets){if(!w(E,I,h))return u;r+=2}else{if(!w(E,{},h))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new sn(n.segments.slice(0,r.pathIndex),{});return u.children[en]=new sn(n.segments.slice(r.pathIndex),n.children),qc(u,0,o)}return r.match&&0===o.length?new sn(n.segments,{}):r.match&&!n.hasChildren()?v(n,e,t):r.match?qc(n,0,o):v(n,e,t)}function qc(n,e,t){if(0===t.length)return new sn(n.segments,{});{const r=function om(n){return jo(n[0])?n[0].outlets:{[en]:n}}(t),o={};return $n(r,(u,h)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[h]=xf(n.children[h],e,u))}),$n(n.children,(u,h)=>{void 0===r[h]&&(o[h]=u)}),new sn(n.segments,o)}}function v(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(jo(u)){const E=p(u.outlets);return new sn(r,E)}if(0===o&&Ks(t[0])){r.push(new Wn(n.segments[e].path,m(t[0]))),o++;continue}const h=jo(u)?u.outlets[en]:`${u}`,g=o<t.length-1?t[o+1]:null;h&&g&&Ks(g)?(r.push(new Wn(h,m(g))),o+=2):(r.push(new Wn(h,{})),o++)}return new sn(r,{})}function p(n){const e={};return $n(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=v(new sn([],{}),0,t))}),e}function m(n){const e={};return $n(n,(t,r)=>e[r]=`${t}`),e}function w(n,e,t){return n==t.path&&Ai(e,t.parameters)}class N{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Hc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Es(t);e.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,o[h],r),delete o[h]}),$n(o,(u,h)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Es(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);if(r&&r.outlet){const h=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Es(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Es(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new kc(u.value.snapshot))}),e.children.length&&this.forwardEvent(new mf(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Hc(o),o===u)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(g.contexts),h.attachRef=g.componentRef,h.route=g.route.value,h.outlet&&h.outlet.attach(g.componentRef,g.route.value),Hc(g.route.value),this.activateChildRoutes(e,null,h.children)}else{const g=function re(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),E=g?g.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=E,h.outlet&&h.outlet.activateWith(o,E),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class xe{constructor(e,t){this.routes=e,this.module=t}}function it(n){return"function"==typeof n}function Rt(n){return n instanceof ss}const Ou=Symbol("INITIAL_VALUE");function Ys(){return _r(n=>function Ao(...n){const e=(0,Mc.yG)(n),t=(0,Mc.jO)(n),{args:r,keys:o}=To(n);if(0===r.length)return(0,er.D)([],e);const u=new ui.y(function So(n,e,t=Zs.y){return r=>{yu(e,()=>{const{length:o}=n,u=new Array(o);let h=o,g=o;for(let E=0;E<o;E++)yu(e,()=>{const I=(0,er.D)(n[E],e);let C=!1;I.subscribe((0,jn.x)(r,S=>{u[E]=S,C||(C=!0,g--),g||r.next(t(u.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,o?h=>ff(o,h):Zs.y));return t?u.pipe(ld(t)):u}(n.map(e=>e.pipe((0,Sa.q)(1),Hi(Ou)))).pipe(rs((e,t)=>{let r=!1;return t.reduce((o,u,h)=>o!==Ou?o:(u===Ou&&(r=!0),r||!1!==u&&h!==t.length-1&&!Rt(u)?o:u),e)},Ou),Jr(e=>e!==Ou),(0,Gt.U)(e=>Rt(e)?e:!0===e),(0,Sa.q)(1)))}class Mf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Va,this.attachRef=null}}class Va{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Mf,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Nu=(()=>{class n{constructor(t,r,o,u,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=u||en,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,E=new Rf(t,g,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Va),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Rf{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Fa?this.route:e===Va?this.childContexts:this.parent.get(e,t)}}let Pu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:[Nu],encapsulation:2}),n})();function $o(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Of(r,Dd(e,r))}}function Of(n,e){n.children&&$o(n.children,e)}function Dd(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function ku(n){const e=n.children&&n.children.map(ku),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==en&&(t.component=Pu),t}function fn(n){return n.outlet||en}function x_(n,e){const t=n.filter(r=>fn(r)===e);return t.push(...n.filter(r=>fn(r)!==e)),t}const M_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zc(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},M_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||Fc)(t,n,e);if(!u)return Object.assign({},M_);const h={};$n(u.posParams,(E,I)=>{h[I]=E.path});const g=u.consumed.length>0?Object.assign(Object.assign({},h),u.consumed[u.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:g,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function Cd(n,e,t,r,o="corrected"){if(t.length>0&&function Nb(n,e,t){return t.some(r=>Nf(n,e,r)&&fn(r)!==en)}(n,t,r)){const h=new sn(e,function Ob(n,e,t,r){const o={};o[en]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&fn(u)!==en){const h=new sn([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[fn(u)]=h}return o}(n,e,r,new sn(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function Pb(n,e,t){return t.some(r=>Nf(n,e,r))}(n,t,r)){const h=new sn(n.segments,function Rb(n,e,t,r,o,u){const h={};for(const g of r)if(Nf(n,t,g)&&!o[fn(g)]){const E=new sn([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===u?n.segments.length:e.length,h[fn(g)]=E}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const u=new sn(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Nf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function kb(n,e,t,r){return!!(fn(n)===r||r!==en&&Nf(e,t,n))&&("**"===n.path||zc(e,n,t).matched)}function Fb(n,e,t){return 0===e.length&&!n.children[t]}class Ba{constructor(e){this.segmentGroup=e||null}}class li{constructor(e){this.urlTree=e}}function Fu(n){return Aa(new Ba(n))}function am(n){return Aa(new li(n))}class um{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=Cd(this.urlTree.root,[],[],this.config).segmentGroup,t=new sn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,en).pipe((0,Gt.U)(u=>this.createUrlTree(cm(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(is(u=>{if(u instanceof li)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Ba?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,en).pipe((0,Gt.U)(o=>this.createUrlTree(cm(o),e.queryParams,e.fragment))).pipe(is(o=>{throw o instanceof Ba?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new sn([],{[en]:e}):e;return new ss(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Gt.U)(u=>new sn([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,er.D)(o).pipe(Pc(u=>{const h=r.children[u],g=x_(t,u);return this.expandSegmentGroup(e,g,h,u).pipe((0,Gt.U)(E=>({segment:E,outlet:u})))}),rs((u,h)=>(u[h.outlet]=h.segment,u),{}),function I_(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Jr((o,u)=>n(o,u,r)):Zs.y,wu(1),t?qg(e):zn(()=>new _u))}())}expandSegment(e,t,r,o,u,h){return(0,er.D)(r).pipe(Pc(g=>this.expandSegmentAgainstRoute(e,t,r,g,o,u,h).pipe(is(I=>{if(I instanceof Ba)return bt(null);throw I}))),Ma(g=>!!g),is((g,E)=>{if(g instanceof _u||"EmptyError"===g.name)return Fb(t,o,u)?bt(new sn([],{})):Fu(t);throw g}))}expandSegmentAgainstRoute(e,t,r,o,u,h,g){return kb(o,t,u,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,h):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h):Fu(t):Fu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?am(u):this.lineralizeSegments(r,u).pipe((0,qn.z)(h=>{const g=new sn(h,{});return this.expandSegment(e,g,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h){const{matched:g,consumedSegments:E,remainingSegments:I,positionalParamSegments:C}=zc(t,o,u);if(!g)return Fu(t);const S=this.applyRedirectCommands(E,o.redirectTo,C);return o.redirectTo.startsWith("/")?am(S):this.lineralizeSegments(o,S).pipe((0,qn.z)(G=>this.expandSegment(e,t,r,G.concat(I),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?bt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Gt.U)(S=>(r._loadedConfig=S,new sn(o,{})))):bt(new sn(o,{}));const{matched:h,consumedSegments:g,remainingSegments:E}=zc(t,r,o);return h?this.getChildConfig(e,r,o).pipe((0,qn.z)(C=>{const S=C.module,G=C.routes,{segmentGroup:W,slicedSegments:he}=Cd(t,g,E,G),Ze=new sn(W.segments,W.children);if(0===he.length&&Ze.hasChildren())return this.expandChildren(S,G,Ze).pipe((0,Gt.U)(ln=>new sn(g,ln)));if(0===G.length&&0===he.length)return bt(new sn(g,{}));const Je=fn(r)===u;return this.expandSegment(S,Ze,G,he,Je?en:u,!0).pipe((0,Gt.U)(Pt=>new sn(g.concat(Pt.segments),Pt.children)))})):Fu(t)}getChildConfig(e,t,r){return t.children?bt(new xe(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?bt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,qn.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,Gt.U)(u=>(t._loadedConfig=u,u))):function di(n){return Aa(qs(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):bt(new xe([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?bt(o.map(h=>{const g=e.get(h);let E;if(function An(n){return n&&it(n.canLoad)}(g))E=g.canLoad(t,r);else{if(!it(g))throw new Error("Invalid CanLoad guard");E=g(t,r)}return bi(E)})).pipe(Ys(),(0,Ei.b)(h=>{if(!Rt(h))return;const g=qs(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw g.url=h,g}),(0,Gt.U)(h=>!0===h)):bt(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return bt(r);if(o.numberOfChildren>1||!o.children[en])return Aa(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[en]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new ss(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return $n(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);r[u]=t[g]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let h={};return $n(t.children,(g,E)=>{h[E]=this.createSegmentGroup(e,g,r,o)}),new sn(u,h)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function cm(n){const e={};for(const r of Object.keys(n.children)){const u=cm(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Lb(n){if(1===n.numberOfChildren&&n.children[en]){const e=n.children[en];return new sn(n.segments.concat(e.segments),e.children)}return n}(new sn(n.segments,e))}class N_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ad{constructor(e,t){this.component=e,this.route=t}}function Ub(n,e,t){const r=n._root;return Lu(r,e?e._root:null,t,[r.value])}function Pf(n,e,t){const r=function Vb(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Lu(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Es(e);return n.children.forEach(h=>{(function Bb(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,h=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const E=function jb(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Lo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Lo(n.url,e.url)||!Ai(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gc(n,e)||!Ai(n.queryParams,e.queryParams);default:return!Gc(n,e)}}(h,u,u.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new N_(r)):(u.data=h.data,u._resolvedData=h._resolvedData),Lu(n,e,u.component?g?g.children:null:t,r,o),E&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new Ad(g.outlet.component,h))}else h&&Uu(e,g,o),o.canActivateChecks.push(new N_(r)),Lu(n,null,u.component?g?g.children:null:t,r,o)})(h,u[h.value.outlet],t,r.concat([h.value]),o),delete u[h.value.outlet]}),$n(u,(h,g)=>Uu(h,t.getContext(g),o)),o}function Uu(n,e,t){const r=Es(n),o=n.value;$n(r,(u,h)=>{Uu(u,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Ad(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class k_{}function F_(n){return new ui.y(e=>e.error(n))}class Yb{constructor(e,t,r,o,u,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h}recognize(){const e=Cd(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,en);if(null===t)return null;const r=new Ua([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},en,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new _s(r,t),u=new Ed(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=tm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const h=t.children[u],g=x_(e,u),E=this.processSegmentGroup(g,h,u);if(null===E)return null;r.push(...E)}const o=L_(r);return function Qb(n){n.sort((e,t)=>e.value.outlet===en?-1:t.value.outlet===en?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const u of e){const h=this.processSegmentAgainstRoute(u,t,r,o);if(null!==h)return h}return Fb(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!kb(e,t,r,o))return null;let u,h=[],g=[];if("**"===e.path){const W=r.length>0?Uc(r).parameters:{};u=new Ua(r,W,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eI(e),fn(e),e.component,e,Vu(t),ws(t)+r.length,tI(e))}else{const W=zc(t,e,r);if(!W.matched)return null;h=W.consumedSegments,g=W.remainingSegments,u=new Ua(h,W.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eI(e),fn(e),e.component,e,Vu(t),ws(t)+h.length,tI(e))}const E=function Jb(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:I,slicedSegments:C}=Cd(t,h,g,E.filter(W=>void 0===W.redirectTo),this.relativeLinkResolution);if(0===C.length&&I.hasChildren()){const W=this.processChildren(E,I);return null===W?null:[new _s(u,W)]}if(0===E.length&&0===C.length)return[new _s(u,[])];const S=fn(e)===o,G=this.processSegment(E,I,C,S?en:o);return null===G?null:[new _s(u,G)]}}function Xb(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function L_(n){const e=[],t=new Set;for(const r of n){if(!Xb(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=L_(r.children);e.push(new _s(r.value,o))}return e.filter(r=>!t.has(r))}function Vu(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ws(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function eI(n){return n.data||{}}function tI(n){return n.resolve||{}}function Ff(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Lf(n){return _r(e=>{const t=n(e);return t?(0,er.D)(t).pipe((0,Gt.U)(()=>e)):bt(e)})}class B_ extends class V_{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const xd=new l.OlP("ROUTES");class Uf{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,Gt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=u.create(e);return new xe(Lc(h.injector.get(xd,void 0,l.XFs.Self|l.XFs.Optional)).map(ku),h)}),is(u=>{throw t._loader$=void 0,u}));return t._loader$=new Nc(o,()=>new ys.x).pipe(Ro()),t._loader$}loadModuleFactory(e){return bi(e()).pipe((0,qn.z)(t=>t instanceof l.YKP?bt(t):(0,er.D)(this.compiler.compileModuleAsync(t))))}}class EA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Wc(n){throw n}function dm(n,e,t){return e.parse("/")}function hm(n,e){return bt(null)}const rI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xi=(()=>{class n{constructor(t,r,o,u,h,g,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ys.x,this.errorHandler=Wc,this.malformedUriErrorHandler=dm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hm,afterPreactivation:hm},this.urlHandlingStrategy=new EA,this.routeReuseStrategy=new B_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(l.h0i),this.console=h.get(l.c2e);const S=h.get(l.R0b);this.isNgZoneEnabled=S instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function T_(){return new ss(new sn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Uf(h,g,G=>this.triggerEvent(new Du(G)),G=>this.triggerEvent(new Cu(G))),this.routerState=Bo(this.currentUrlTree,this.rootComponentType),this.transitions=new Yr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Jr(o=>0!==o.id),(0,Gt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),_r(o=>{let u=!1,h=!1;return bt(o).pipe((0,Ei.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_r(g=>{const E=this.browserUrlTree.toString(),I=!this.navigated||g.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return $_(g.source)&&(this.browserUrlTree=g.extractedUrl),bt(g).pipe(_r(S=>{const G=this.transitions.getValue();return r.next(new Oo(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),G!==this.transitions.getValue()?Mo.E:Promise.resolve(S)}),function O_(n,e,t,r){return _r(o=>function Td(n,e,t,r,o){return new um(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Gt.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ei.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function U_(n,e,t,r,o){return(0,qn.z)(u=>function Kb(n,e,t,r,o="emptyOnly",u="legacy"){try{const h=new Yb(n,e,t,r,o,u).recognize();return null===h?F_(new k_):bt(h)}catch(h){return F_(h)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,Gt.U)(h=>Object.assign(Object.assign({},u),{targetSnapshot:h}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ei.b)(S=>{if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const W=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(W,S)}this.browserUrlTree=S.urlAfterRedirects}const G=new Iu(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(G)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:G,extractedUrl:W,source:he,restoredState:Ze,extras:Je}=g,Nt=new Oo(G,this.serializeUrl(W),he,Ze);r.next(Nt);const Pt=Bo(W,this.rootComponentType).snapshot;return bt(Object.assign(Object.assign({},g),{targetSnapshot:Pt,urlAfterRedirects:W,extras:Object.assign(Object.assign({},Je),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,g.resolve(null),Mo.E}),Lf(g=>{const{targetSnapshot:E,id:I,extractedUrl:C,rawUrl:S,extras:{skipLocationChange:G,replaceUrl:W}}=g;return this.hooks.beforePreactivation(E,{navigationId:I,appliedUrlTree:C,rawUrlTree:S,skipLocationChange:!!G,replaceUrl:!!W})}),(0,Ei.b)(g=>{const E=new gf(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(E)}),(0,Gt.U)(g=>Object.assign(Object.assign({},g),{guards:Ub(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function $b(n,e){return(0,qn.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:h}}=t;return 0===h.length&&0===u.length?bt(Object.assign(Object.assign({},t),{guardsResult:!0})):function Zb(n,e,t,r){return(0,er.D)(n).pipe((0,qn.z)(o=>function Wb(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?bt(u.map(g=>{const E=Pf(g,e,o);let I;if(function Id(n){return n&&it(n.canDeactivate)}(E))I=bi(E.canDeactivate(n,e,t,r));else{if(!it(E))throw new Error("Invalid CanDeactivate guard");I=bi(E(n,e,t,r))}return I.pipe(Ma())})).pipe(Ys()):bt(!0)}(o.component,o.route,t,e,r)),Ma(o=>!0!==o,!0))}(h,r,o,n).pipe((0,qn.z)(g=>g&&function It(n){return"boolean"==typeof n}(g)?function kf(n,e,t,r){return(0,er.D)(e).pipe(Pc(o=>dd(function Gb(n,e){return null!==n&&e&&e(new No(n)),bt(!0)}(o.route.parent,r),function Hb(n,e){return null!==n&&e&&e(new Po(n)),bt(!0)}(o.route,r),function zb(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(h=>function P_(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Eu(()=>bt(h.guards.map(E=>{const I=Pf(E,h.node,t);let C;if(function us(n){return n&&it(n.canActivateChild)}(I))C=bi(I.canActivateChild(r,n));else{if(!it(I))throw new Error("Invalid CanActivateChild guard");C=bi(I(r,n))}return C.pipe(Ma())})).pipe(Ys())));return bt(u).pipe(Ys())}(n,o.path,t),function qb(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return bt(!0);const o=r.map(u=>Eu(()=>{const h=Pf(u,e,t);let g;if(function Si(n){return n&&it(n.canActivate)}(h))g=bi(h.canActivate(e,n));else{if(!it(h))throw new Error("Invalid CanActivate guard");g=bi(h(e,n))}return g.pipe(Ma())}));return bt(o).pipe(Ys())}(n,o.route,t))),Ma(o=>!0!==o,!0))}(r,u,n,e):bt(g)),(0,Gt.U)(g=>Object.assign(Object.assign({},t),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,Ei.b)(g=>{if(Rt(g.guardsResult)){const I=qs(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw I.url=g.guardsResult,I}const E=new zg(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(E)}),Jr(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),Lf(g=>{if(g.guards.canActivateChecks.length)return bt(g).pipe((0,Ei.b)(E=>{const I=new ci(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}),_r(E=>{let I=!1;return bt(E).pipe(function _A(n,e){return(0,qn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return bt(t);let u=0;return(0,er.D)(o).pipe(Pc(h=>function Qs(n,e,t,r){return function lm(n,e,t,r){const o=Ff(n);if(0===o.length)return bt({});const u={};return(0,er.D)(o).pipe((0,qn.z)(h=>function nI(n,e,t,r){const o=Pf(n,e,r);return bi(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,Ei.b)(g=>{u[h]=g}))),wu(1),(0,qn.z)(()=>Ff(u).length===o.length?bt(u):Mo.E))}(n._resolve,n,e,r).pipe((0,Gt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),tm(n,t).resolve),null)))}(h.route,r,n,e)),(0,Ei.b)(()=>u++),wu(1),(0,qn.z)(h=>u===o.length?bt(t):Mo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ei.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,Ei.b)(E=>{const I=new wi(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}))}),Lf(g=>{const{targetSnapshot:E,id:I,extractedUrl:C,rawUrl:S,extras:{skipLocationChange:G,replaceUrl:W}}=g;return this.hooks.afterPreactivation(E,{navigationId:I,appliedUrlTree:C,rawUrlTree:S,skipLocationChange:!!G,replaceUrl:!!W})}),(0,Gt.U)(g=>{const E=function nm(n,e,t){const r=Ru(n,e._root,t?t._root:void 0);return new $c(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:E})}),(0,Ei.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,Gt.U)(r=>(new N(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,Ei.b)({next(){u=!0},complete(){u=!0}}),function D_(n){return(0,Qr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var g;u||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(g=this.currentNavigation)||void 0===g?void 0:g.id)===o.id&&(this.currentNavigation=null)}),is(g=>{if(h=!0,function C_(n){return n&&n[Tu]}(g)){const E=Rt(g.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const I=new lr(o.id,this.serializeUrl(o.extractedUrl),g.message);r.next(I),E?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),S={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$_(o.source)};this.scheduleNavigation(C,"imperative",null,S,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new bu(o.id,this.serializeUrl(o.extractedUrl),g);r.next(E);try{o.resolve(this.errorHandler(g))}catch(I){o.reject(I)}}return Mo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},h=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(h){const E=Object.assign({},h);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const g=this.parseUrl(t.url);this.scheduleNavigation(g,r,h,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){$o(t),this.config=t.map(ku),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:h,queryParamsHandling:g,preserveFragment:E}=r,I=o||this.routerState.root,C=E?this.currentUrlTree.fragment:h;let S=null;switch(g){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}return null!==S&&(S=this.removeEmptyProps(S)),function as(n,e,t,r,o){if(0===t.length)return Df(e.root,e.root,e.root,r,o);const u=function Tf(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new sm(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return $n(u.outlets,(E,I)=>{g[I]="string"==typeof E?E.split("/"):E}),[...o,{outlets:g}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===h?(u.split("/").forEach((g,E)=>{0==E&&"."===g||(0==E&&""===g?t=!0:".."===g?e++:""!=g&&o.push(g))}),o):[...o,u]},[]);return new sm(t,e,r)}(t);if(u.toRoot())return Df(e.root,e.root,new sn([],{}),r,o);const h=function bd(n,e,t){if(n.isAbsolute)return new Af(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Af(u,u===e.root,0)}const r=Ks(n.commands[0])?0:1;return function Sf(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Af(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),g=h.processChildren?qc(h.segmentGroup,h.index,u.commands):xf(h.segmentGroup,h.index,u.commands);return Df(e.root,h.segmentGroup,g,r,o)}(I,this.currentUrlTree,t,S,null!=C?C:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Rt(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function iI(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},rI):!1===r?Object.assign({},fm):r,Rt(t))return Fo(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Fo(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ra(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,h){var g,E;if(this.disposed)return Promise.resolve(!1);let I,C,S;h?(I=h.resolve,C=h.reject,S=h.promise):S=new Promise((he,Ze)=>{I=he,C=Ze});const G=++this.navigationId;let W;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),W=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):W=0,this.setTransition({id:G,targetPageId:W,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:I,reject:C,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(he=>Promise.reject(he))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new lr(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function $_(n){return"imperative"!==n}let Vf=(()=>{class n{constructor(t,r,o,u,h){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=h,this.commands=null,this.onChanges=new ys.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Kc(this.skipLocationChange),replaceUrl:Kc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Kc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xi),l.Y36(Fa),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})(),ja=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new ys.x,this.subscription=t.events.subscribe(u=>{u instanceof Ra&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,h){if(0!==t||r||o||u||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const g={skipLocationChange:Kc(this.skipLocationChange),replaceUrl:Kc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Kc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xi),l.Y36(Fa),l.Y36(_e))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function Kc(n){return""===n||!!n}class gm{}class H_{preload(e,t){return bt(null)}}let G_=(()=>{class n{constructor(t,r,o,u){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=new Uf(o,r,E=>t.triggerEvent(new Du(E)),E=>t.triggerEvent(new Cu(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(Jr(t=>t instanceof Ra),Pc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const h=u._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,er.D)(o).pipe((0,xo.J)(),(0,Gt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?bt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,qn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xi),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(gm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Bf=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Oo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ra&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Wg&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Wg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Gi=new l.OlP("ROUTER_CONFIGURATION"),ym=new l.OlP("ROUTER_FORROOT_GUARD"),q_=[Oe,{provide:Ws,useClass:wf},{provide:xi,useFactory:function _m(n,e,t,r,o,u,h={},g,E){const I=new xi(null,n,e,t,r,o,Lc(u));return g&&(I.urlHandlingStrategy=g),E&&(I.routeReuseStrategy=E),function K_(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,I),h.enableTracing&&I.events.subscribe(C=>{var S,G;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${C.constructor.name}`),console.log(C.toString()),console.log(C),null===(G=console.groupEnd)||void 0===G||G.call(console)}),I},deps:[Ws,Va,Oe,l.zs3,l.Sil,xd,Gi,[class j_{},new l.FiY],[class Sd{},new l.FiY]]},Va,{provide:Fa,useFactory:function jf(n){return n.routerState.root},deps:[xi]},G_,H_,class mm{preload(e,t){return t().pipe(is(()=>bt(null)))}},{provide:Gi,useValue:{enableTracing:!1}}];function oI(){return new l.PXZ("Router",xi)}let Md=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[q_,vm(t),{provide:ym,useFactory:W_,deps:[[xi,new l.FiY,new l.tp0]]},{provide:Gi,useValue:r||{}},{provide:_e,useFactory:z_,deps:[ue,[new l.tBr(et),new l.FiY],Gi]},{provide:Bf,useFactory:aI,deps:[xi,ga,Gi]},{provide:gm,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:H_},{provide:l.PXZ,multi:!0,useFactory:oI},[Yc,{provide:l.ip1,multi:!0,useFactory:Y_,deps:[Yc]},{provide:wm,useFactory:Em,deps:[Yc]},{provide:l.tb,multi:!0,useExisting:wm}]]}}static forChild(t){return{ngModule:n,providers:[vm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ym,8),l.LFG(xi,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function aI(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Bf(n,e,t)}function z_(n,e,t={}){return t.useHash?new Ne(n,e):new qe(n,e)}function W_(n){return"guarded"}function vm(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:xd,multi:!0,useValue:n}]}let Yc=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ys.x}appInitializer(){return this.injector.get(Z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(g=>r=g),u=this.injector.get(xi),h=this.injector.get(Gi);return"disabled"===h.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?bt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Gi),o=this.injector.get(G_),u=this.injector.get(Bf),h=this.injector.get(xi),g=this.injector.get(l.z2F);t===g.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),u.init(),h.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Y_(n){return n.appInitializer.bind(n)}function Em(n){return n.bootstrapListener.bind(n)}const wm=new l.OlP("Router Initializer");let uI=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-careers"]],decls:70,vars:0,consts:[[1,"card","bg-dark","text-white"],["src","assets/img/careers.jpg","alt","...",1,"card-img"],[1,"card-img-overlay",2,"display","wrap","justify-content","center","align-items","center","text-align","center","background","rgba(6, 3, 21, 0.591)","padding-top","10px"],[1,"card-title",2,"display","flex","justify-content","center","align-items","center","text-align","center","color","white"],[1,"card","mb-3"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"row"],[1,"col-sm-6"],[1,"card"],["href","#",1,"btn","btn-primary"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"div",2)(3,"h1",3),l._uU(4,"Careers"),l.qZA(),l._UZ(5,"br")(6,"br"),l.qZA()(),l.TgZ(7,"div",4)(8,"div",5)(9,"h5",6),l._uU(10,"Card title"),l.qZA(),l.TgZ(11,"p",7),l._uU(12,"En el centro de la econom\xeda global, el shipbroking ofrece una carrera internacional emocionante y acelerada para aquellos que est\xe1n dispuestos a trabajar duro y poner las necesidades de sus clientes por encima de las suyas."),l.qZA()()(),l.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",5)(17,"h5",6),l._uU(18,"Valaparaiso"),l.qZA(),l.TgZ(19,"p",7),l._uU(20,"With supporting text below as a natural lead-in to additional content."),l.qZA(),l.TgZ(21,"a",11),l._uU(22,"Go somewhere"),l.qZA()()()(),l.TgZ(23,"div",9)(24,"div",10)(25,"div",5)(26,"h5",6),l._uU(27,"Talcahuano"),l.qZA(),l.TgZ(28,"p",7),l._uU(29,"With supporting text below as a natural lead-in to additional content."),l.qZA(),l.TgZ(30,"a",11),l._uU(31,"Go somewhere"),l.qZA()()()()(),l.TgZ(32,"div",8)(33,"div",9)(34,"div",10)(35,"div",5)(36,"h5",6),l._uU(37,"China"),l.qZA(),l.TgZ(38,"p",7),l._uU(39,"With supporting text below as a natural lead-in to additional content."),l.qZA(),l.TgZ(40,"a",11),l._uU(41,"Go somewhere"),l.qZA()()()(),l.TgZ(42,"div",9)(43,"div",10)(44,"div",5)(45,"h5",6),l._uU(46,"Japon"),l.qZA(),l.TgZ(47,"p",7),l._uU(48,"With supporting text below as a natural lead-in to additional content."),l.qZA(),l.TgZ(49,"a",11),l._uU(50,"Go somewhere"),l.qZA()()()()(),l.TgZ(51,"div",8)(52,"div",9)(53,"div",10)(54,"div",5)(55,"h5",6),l._uU(56,"Nueva York"),l.qZA(),l.TgZ(57,"p",7),l._uU(58,"With supporting text below as a natural lead-in to additional content."),l.qZA(),l.TgZ(59,"a",11),l._uU(60,"Go somewhere"),l.qZA()()()(),l.TgZ(61,"div",9)(62,"div",10)(63,"div",5)(64,"h5",6),l._uU(65,"Estados Unidos"),l.qZA(),l.TgZ(66,"p",7),l._uU(67,"With supporting text below as a natural lead-in to additional content."),l.qZA(),l.TgZ(68,"a",11),l._uU(69,"Go somewhere"),l.qZA()()()()())},styles:[""]}),n})(),Q_=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-que-hacemos"]],decls:40,vars:0,consts:[[1,"card","bg-dark","text-white"],["src","assets/img/carousel-5.jpg","alt","...",1,"card-img"],[1,"card-img-overlay",2,"display","flex","justify-content","center","align-items","center","text-align","center"],[1,"card-title",2,"display","flex","justify-content","center","align-items","center","text-align","center","color","white"],[1,"container",2,"display","flex","justify-content","center","align-items","center","flex-wrap","wrap","flex-direction","column"],[1,"card","text-center",2,"max-width","95%"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card","mb-3",2,"max-width","95%","margin-bottom","0 !important"],[1,"row","g-0"],[1,"col-md-4"],["src","assets/img/quehacemos01.jpg","alt","...",1,"img-fluid","rounded-start"],[1,"col-md-8",2,"display","flex","justify-content","center","align-items","center","flex-wrap","wrap"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"div",2),l._UZ(3,"h1",3),l.qZA()(),l.TgZ(4,"div",4)(5,"div",5)(6,"div",6),l._UZ(7,"br"),l.TgZ(8,"h4",7),l._uU(9,"\xbfQu\xe9 hacemos?"),l.qZA(),l._UZ(10,"br"),l.TgZ(11,"p",8),l._uU(12,"En Panamericanshipbrokers nos mueve un factor com\xfan \u201cpreocuparnos sobre su negocio\u201d, queremos entregar un sello de calidad basado en servicio de excelencia a nuestros clientes. Nuestra actividad principal es el servicio de intermediaci\xf3n entre las distintas partes de la industria involucradas en el transporte de distintos tipos de cargamentos . Servimos as\xed de enlace entre traders y armadores de cualquier lugar del mundo, facilitando la labor comercial del shipping y su operativa. "),l._UZ(13,"br"),l._uU(14," Ofrecemos un servicio personal y de garant\xeda gracias a la amplia experiencia acumulada a lo largo de estos a\xf1os."),l.qZA(),l._UZ(15,"br"),l.qZA()(),l.TgZ(16,"div",9)(17,"div",10)(18,"div",11),l._UZ(19,"img",12),l.qZA(),l.TgZ(20,"div",13)(21,"div",6)(22,"h4",7),l._uU(23,"Nuestro Negocio Principal - SHIPBROKING"),l.qZA(),l._UZ(24,"br"),l.TgZ(25,"p",8),l._uU(26,"Panamericanhipbrokers est\xe1 especializada tanto en aquellos de tipo \u201cSpot\u201d o \u201cPor Viaje\u201d, como en los fletamentos por periodo (Time Charter). En este mercado tan din\xe1mico y ligado sinerg\xe9ticamente entre s\xed, nos distinguimos por contar con la informaci\xf3n m\xe1s precisa y actualizada. Para ello realizamos un seguimiento exhaustivo de dichos mercados y de los factores externos que sin duda afectan a estos. "),l._UZ(27,"br")(28,"br"),l._uU(29," Adem\xe1s aportamos un amplio valor a\xf1adido gracias a nuestro Know How del mercado y de las distintas p\xf3lizas de fletamento, ayudando a nuestros clientes en su an\xe1lisis e interpretaci\xf3n. "),l._UZ(30,"br")(31,"br"),l._uU(32," Nuestra cobertura del mercado mar\xedtimo es una de las m\xe1s completas del mercado e incluye actividades de Nueva Construcci\xf3n, Compra y Venta y Fletamento en todos los principales segmentos navieros: Buques Cisterna, Graneles Secos, Qu\xedmicos, GNL y GLP . "),l._UZ(33,"br")(34,"br"),l._uU(35," La relaci\xf3n entrelazada entre el corretaje mar\xedtimo y la tecnolog\xeda de la informaci\xf3n nos ha llevado a ser una parte integral de los equipos de env\xedo de muchos clientes industriales. Tomar decisiones estrat\xe9gicas sobre las cl\xe1usulas del contrato, los mecanismos y la duraci\xf3n les ha demostrado a muchos clientes que tener asesores en su equipo desde el principio puede prepararse para lo imprevisto. "),l._UZ(36,"br")(37,"br"),l._uU(38," Nuestros equipos de activos est\xe1n monitoreando de cerca cada segmento del mercado para garantizar que las tendencias y operaciones espec\xedficas est\xe9n a la vista de los clientes al tomar decisiones de inversi\xf3n."),l.qZA(),l._UZ(39,"br"),l.qZA()()()()())},styles:[""]}),n})(),cI=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-bulk"]],decls:23,vars:0,consts:[[1,"card","bg-dark","text-white"],["src","assets/img/bulkportada.jpg","alt","...",1,"card-img"],[1,"card-img-overlay",2,"display","flex","justify-content","center","align-items","center","text-align","center","background","rgba(6, 3, 21, 0.591)"],[1,"card-title",2,"display","flex","justify-content","center","align-items","center","text-align","center","color","white"],[1,"card","mb-3",2,"max-width","100%"],[1,"row","g-0"],[1,"col-md-3"],["src","assets/img/bulklateral.jpg","alt","...",1,"img-fluid","rounded-start"],[1,"col-md-9"],[1,"card-body"],[1,"card-title",2,"padding-left","12px","padding-right","12px"],[1,"card-text",2,"padding-left","12px","padding-right","12px"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"div",2)(3,"h1",3),l._uU(4,"Bulk"),l.qZA()()(),l.TgZ(5,"div",4)(6,"div",5)(7,"div",6),l._UZ(8,"img",7),l.qZA(),l.TgZ(9,"div",8)(10,"div",9),l._UZ(11,"br"),l.TgZ(12,"h4",10),l._uU(13," Una cobertura global las 24 horas "),l.qZA(),l._UZ(14,"br"),l.TgZ(15,"p",11),l._uU(16,"Sirviendo a una s\xf3lida base industrial, utilizando herramientas de comunicaci\xf3n sofisticadas, el departamento de fletamento de carga seca cubre todos los tama\xf1os de carga desde sus seis bases, en Par\xeds, Londres, Shangh\xe1i, Dub\xe1i, Bombay y Singapur, todas totalmente integradas, lo que permite una cobertura global las 24 horas. "),l._UZ(17,"br")(18,"br"),l._uU(19," Al trabajar con todas las cargas secas a granel, incluidas carteras extensas de mineral de hierro y carb\xf3n, el equipo tiene una larga experiencia en la estructuraci\xf3n de acuerdos a largo plazo, construidos con una s\xf3lida cartera de contratos. "),l._UZ(20,"br")(21,"br"),l._uU(22," Al combinar el conocimiento y agregar la participaci\xf3n en el proceso de toma de decisiones y un paquete completo de servicio posterior al arreglo, los clientes de PanamericanShipBrokers apreciamos y continuamos buscando este experimentado equipo interno de expertos comprometidos con la excelencia y el pensamiento innovador. "),l.qZA()()()()())},styles:[""]}),n})(),lI=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-liner"]],decls:24,vars:0,consts:[[1,"card","bg-dark","text-white"],["src","assets/img/linerportada.jpg","alt","...",1,"card-img"],[1,"card-img-overlay",2,"display","flex","justify-content","center","align-items","center","text-align","center","background","rgba(6, 3, 21, 0.591)"],[1,"card-title",2,"display","flex","justify-content","center","align-items","center","text-align","center","color","white"],[1,"card","mb-3",2,"max-width","100%"],[1,"row","g-0"],[1,"col-md-3"],["src","assets/img/linerlateral.jpg","alt","...",1,"img-fluid","rounded-start"],[1,"col-md-9"],[1,"card-body"],[1,"card-title",2,"padding-left","12px","padding-right","12px"],[1,"card-text",2,"padding-left","12px","padding-right","12px"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"div",2)(3,"h1",3),l._uU(4,"Liner"),l.qZA()()(),l.TgZ(5,"div",4)(6,"div",5)(7,"div",6),l._UZ(8,"img",7),l.qZA(),l.TgZ(9,"div",8)(10,"div",9),l._UZ(11,"br")(12,"h4",10)(13,"br"),l.TgZ(14,"p",11),l._uU(15,"El departamento Liner brinda una cobertura global integral de los sectores Car Carrier (PCTC), Container, Multiprop\xf3sito / Heavy Lift, RoPax / Ferry y RoRo. "),l._UZ(16,"br")(17,"br"),l._uU(18," Desde sus oficinas en Par\xeds, Shangh\xe1i, Ginebra y Hamburgo, el equipo ofrece su experiencia t\xe9cnica y comercial y su dilatada experiencia en todo el espectro de actividades de fletamento, desde el lugar hasta el proyecto, pasando por acuerdos a largo plazo y desde operaciones de corta distancia a alta mar. "),l._UZ(19,"br")(20,"br"),l._uU(21," A trav\xe9s de sinergias con el equipo de Activos del Grupo, tambi\xe9n atendemos las demandas de nuestros clientes en t\xe9rminos de operaciones de compraventa y obra nueva, as\xed como valoraciones. Armados con una inteligencia de mercado insuperable, nos enorgullecemos de brindar la m\xe1s alta calidad de servicio e informaci\xf3n. "),l._UZ(22,"br")(23,"br"),l.qZA()()()()())},styles:[""]}),n})(),J_=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-lng"]],decls:25,vars:0,consts:[[1,"card","bg-dark","text-white"],["src","assets/img/lngportada.jpg","alt","...",1,"card-img"],[1,"card-img-overlay",2,"display","flex","justify-content","center","align-items","center","text-align","center","background","rgba(6, 3, 21, 0.591)"],[1,"card-title",2,"display","flex","justify-content","center","align-items","center","text-align","center","color","white"],[1,"card","mb-3",2,"max-width","100%"],[1,"row","g-0"],[1,"col-md-3"],["src","assets/img/lnglateral.jpg","alt","...",1,"img-fluid","rounded-start"],[1,"col-md-9"],[1,"card-body"],[1,"card-title",2,"padding-left","12px","padding-right","12px"],[1,"card-text",2,"padding-left","12px","padding-right","12px"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"div",2)(3,"h1",3),l._uU(4,"LNG"),l.qZA()()(),l.TgZ(5,"div",4)(6,"div",5)(7,"div",6),l._UZ(8,"img",7),l.qZA(),l.TgZ(9,"div",8)(10,"div",9),l._UZ(11,"br"),l.TgZ(12,"h4",10),l._uU(13," Una de las consultoras de GNL m\xe1s respetadas y buscadas de la industria "),l.qZA(),l._UZ(14,"br"),l.TgZ(15,"p",11),l._uU(16,"El departamento de GNL incorpora una de las consultor\xedas de GNL m\xe1s respetadas y buscadas de la industria. "),l._UZ(17,"br")(18,"br"),l._uU(19," El departamento asesora a los clientes en proyectos de nueva construcci\xf3n, fletamento, compra y venta, gesti\xf3n de buques y todos los aspectos comerciales del comercio de GNL. Adem\xe1s, ofrece servicios de gesti\xf3n de proyectos y an\xe1lisis sectoriales. "),l._UZ(20,"br")(21,"br"),l._uU(22," El departamento atiende a cualquier empresa, instituci\xf3n financiera o intermediario que busque informaci\xf3n actualizada sobre la din\xe1mica del sector del GNL. "),l._UZ(23,"br")(24,"br"),l.qZA()()()()())},styles:[""]}),n})(),Im=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-lpg"]],decls:25,vars:0,consts:[[1,"card","bg-dark","text-white"],["src","assets/img/lpgportada.jpg","alt","...",1,"card-img"],[1,"card-img-overlay",2,"display","flex","justify-content","center","align-items","center","text-align","center","background","rgba(6, 3, 21, 0.591)"],[1,"card-title",2,"display","flex","justify-content","center","align-items","center","text-align","center","color","white"],[1,"card","mb-3",2,"max-width","100%"],[1,"row","g-0"],[1,"col-md-3"],["src","assets/img/lpglateral.jpg","alt","...",1,"img-fluid","rounded-start"],[1,"col-md-9"],[1,"card-body"],[1,"card-title",2,"padding-left","12px","padding-right","12px"],[1,"card-text",2,"padding-left","12px","padding-right","12px"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"div",2)(3,"h1",3),l._uU(4,"LPG"),l.qZA()()(),l.TgZ(5,"div",4)(6,"div",5)(7,"div",6),l._UZ(8,"img",7),l.qZA(),l.TgZ(9,"div",8)(10,"div",9),l._UZ(11,"br"),l.TgZ(12,"h4",10),l._uU(13," Un centro de excelencia bien establecido en el transporte de gases licuados "),l.qZA(),l._UZ(14,"br"),l.TgZ(15,"p",11),l._uU(16,"El departamento de Gas es un centro de excelencia bien establecido en el transporte de gases licuados como GLP, productos petroqu\xedmicos y amon\xedaco anhidro. "),l._UZ(17,"br")(18,"br"),l._uU(19," Con m\xe1s de 30 a\xf1os de experiencia y una base de clientes bien establecida que se extiende a todas las \xe1reas de env\xedo y comercializaci\xf3n de GLP, PanamericanShipBrokers mantiene la m\xe1s alta calidad de informaci\xf3n y relaciones con los clientes. "),l._UZ(20,"br")(21,"br"),l._uU(22," El departamento de Gas sigue todos los segmentos de este mercado cada vez m\xe1s diverso y cambiante; los corredores se dedican a brindar un servicio preciso y oportuno a sus clientes. "),l._UZ(23,"br")(24,"br"),l.qZA()()()()())},styles:[""]}),n})(),X_=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-nuevas-construcciones"]],decls:22,vars:0,consts:[[1,"card","bg-dark","text-white"],["src","assets/img/buildshipportada.jpg","alt","...",1,"card-img"],[1,"card-img-overlay",2,"display","flex","justify-content","center","align-items","center","text-align","center","background","rgba(6, 3, 21, 0.591)"],[1,"card-title",2,"display","flex","justify-content","center","align-items","center","text-align","center","color","white"],[1,"card","mb-3",2,"max-width","100%"],[1,"row","g-0"],[1,"col-md-3"],["src","assets/img/marine-service04.jpg","alt","...",1,"img-fluid","rounded-start"],[1,"col-md-9"],[1,"card-body"],[1,"card-title",2,"padding-left","12px","padding-right","12px"],[1,"card-text",2,"padding-left","12px","padding-right","12px"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"div",2)(3,"h1",3),l._uU(4,"Nuevas Construcciones"),l.qZA()()(),l.TgZ(5,"div",4)(6,"div",5)(7,"div",6),l._UZ(8,"img",7),l.qZA(),l.TgZ(9,"div",8)(10,"div",9),l._UZ(11,"br"),l.TgZ(12,"h4",10),l._uU(13," Con corredores mar\xedtimos en Asia, Europa y las Americas, PanamericanShipBrokers tiene una larga historia en los mercados de construcci\xf3n naval."),l.qZA(),l._UZ(14,"br"),l.TgZ(15,"p",11),l._uU(16,"Nuestros clientes se benefician de la experiencia del Equipo que se gana a trav\xe9s de la presencia continua en los mercados de Nueva Construcci\xf3n y Venta & Compra. Esto nos permite estar a la vanguardia del conocimiento y la experiencia en innovaci\xf3n legal, financiera, t\xe9cnica y comercial, as\xed como conocer \xedntimamente la capacidad, capacidad y precios de los astilleros en todo el mundo. Nuestra estrecha relaci\xf3n y contacto constante con los Armadores en todo el mundo nos brinda la informaci\xf3n que necesitan los Compradores y Vendedores para ayudarlos en su toma de decisiones y transacciones eventuales. "),l._UZ(17,"br")(18,"br"),l._uU(19,' Nos enorgullecemos de acompa\xf1ar a nuestros clientes durante todo el proceso de Newbuilding, desde el an\xe1lisis inicial del mercado hasta la identificaci\xf3n del astillero, la elecci\xf3n del dise\xf1o, la eventual negociaci\xf3n y la firma del contrato hasta el momento de la entrega. Nuestro servicio oportuno, discreto y confidencial est\xe1 garantizado y nuestro objetivo final es la satisfacci\xf3n total de nuestros clientes. "\xa1No rendirse nunca!" es nuestro lema que tratamos de seguir al m\xe1ximo de nuestra capacidad. '),l._UZ(20,"br")(21,"br"),l.qZA()()()()())},styles:[""]}),n})(),wA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-offshore"]],decls:25,vars:0,consts:[[1,"card","bg-dark","text-white"],["src","assets/img/offshoreportada.jpg","alt","...",1,"card-img"],[1,"card-img-overlay",2,"display","flex","justify-content","center","align-items","center","text-align","center","background","rgba(6, 3, 21, 0.591)"],[1,"card-title",2,"display","flex","justify-content","center","align-items","center","text-align","center","color","white"],[1,"card","mb-3",2,"max-width","100%"],[1,"row","g-0"],[1,"col-md-3"],["src","assets/img/marine-service04.jpg","alt","...",1,"img-fluid","rounded-start"],[1,"col-md-9"],[1,"card-body"],[1,"card-title",2,"padding-left","12px","padding-right","12px"],[1,"card-text",2,"padding-left","12px","padding-right","12px"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"div",2)(3,"h1",3),l._uU(4,"Offshore"),l.qZA()()(),l.TgZ(5,"div",4)(6,"div",5)(7,"div",6),l._UZ(8,"img",7),l.qZA(),l.TgZ(9,"div",8)(10,"div",9),l._UZ(11,"br"),l.TgZ(12,"h4",10),l._uU(13," Un socio estrat\xe9gico para servicios de corretaje y consultor\xeda en proyectos de naves offshore y unidades especializadas "),l.qZA(),l._UZ(14,"br"),l.TgZ(15,"p",11),l._uU(16," El equipo de Offshore es un socio estrat\xe9gico para los servicios de corretaje y consultor\xeda (incluyendo valoraciones y estudios de mercado) en proyectos de buques y unidades especializadas en alta mar. "),l._UZ(17,"br")(18,"br"),l._uU(19," La participaci\xf3n con empresas de petr\xf3leo y gas, contratistas, armadores, empresas de ingenier\xeda y constructores navales de todo el mundo ha permitido al equipo de Offshore desarrollar habilidades dedicadas para servir a los mercados de nueva construcci\xf3n y de segunda mano. "),l._UZ(20,"br")(21,"br"),l._uU(22," La cobertura incluye requisitos de fletamento a corto y largo plazo en segmentos diversificados, como remolque portuario y en aguas profundas, tendidos de cables, dragado y recuperaci\xf3n de tierras, embarcaciones de apoyo en alta mar, construcci\xf3n e instalaci\xf3n submarina, perforaci\xf3n y producci\xf3n. "),l._UZ(23,"br")(24,"br"),l.qZA()()()()())},styles:[""]}),n})(),e0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-quimicos-tanqueros-pequenos"]],decls:22,vars:0,consts:[[1,"card","bg-dark","text-white"],["src","assets/img/quimicosportada.jpg","alt","...",1,"card-img"],[1,"card-img-overlay",2,"display","flex","justify-content","center","align-items","center","text-align","center","background","rgba(6, 3, 21, 0.591)"],[1,"card-title",2,"display","flex","justify-content","center","align-items","center","text-align","center","color","white"],[1,"card","mb-3",2,"max-width","100%"],[1,"row","g-0"],[1,"col-md-3"],["src","assets/img/quimicoslateral.jpg","alt","...",1,"img-fluid","rounded-start"],[1,"col-md-9"],[1,"card-body"],[1,"card-title",2,"padding-left","12px","padding-right","12px"],[1,"card-text",2,"padding-left","12px","padding-right","12px"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"div",2)(3,"h1",3),l._uU(4,"Qu\xedmicos y tanqueros peque\xf1os"),l.qZA()()(),l.TgZ(5,"div",4)(6,"div",5)(7,"div",6),l._UZ(8,"img",7),l.qZA(),l.TgZ(9,"div",8)(10,"div",9),l._UZ(11,"br"),l.TgZ(12,"h4",10),l._uU(13," Un equipo bien calificado dedicado a las cargas l\xedquidas "),l.qZA(),l._UZ(14,"br"),l.TgZ(15,"p",11),l._uU(16," El tr\xe1fico de los distintos mercados conecta las refiner\xedas con innumerables zonas de consumo de combustible y con la industria petroqu\xedmica del planeta. La naturaleza de los distintos productos provoca un mercado de distribuci\xf3n atomizada que exige tener en cuenta, computar y decidir adecuadamente entre multitud de factores particulares para el eficaz cumplimiento de cada viaje. De nuevo, nuestra experiencia junto con una metodolog\xeda propia de r\xe1pida respuesta ante contingencias es el valor a\xf1adido en el que se apoyan nuestros clientes, ya sea en los tr\xe1ficos de Small Tankers, Flexies, Handymax, MR o LR. "),l._UZ(17,"br")(18,"br"),l._uU(19," Este equipo bien calificado ofrece servicios de intermediaci\xf3n mar\xedtima para las necesidades \xfanicas de fletamento de cargas l\xedquidas especiales en paquetes de 300 toneladas a 30.000 toneladas. El equipo qu\xedmico se dedica a los nichos de mercado de valor agregado, como los camiones cisterna de abastecimiento de combustible y los intercambios que involucran restricciones de puertos y atracaderos donde los camiones cisterna peque\xf1os son \xfatiles. El equipo maneja todo tipo de fletamentos de embarcaciones, desde contratos de viaje hasta contratos de fletamento (COA) y fletamentos por tiempo. (TC). "),l._UZ(20,"br")(21,"br"),l.qZA()()()()())},styles:[""]}),n})(),dI=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-tanqueros"]],decls:25,vars:0,consts:[[1,"card","bg-dark","text-white"],["src","assets/img/tanquerosportada.jpg","alt","...",1,"card-img"],[1,"card-img-overlay",2,"display","flex","justify-content","center","align-items","center","text-align","center","background","rgba(6, 3, 21, 0.591)"],[1,"card-title",2,"display","flex","justify-content","center","align-items","center","text-align","center","color","white"],[1,"card","mb-3",2,"max-width","100%"],[1,"row","g-0"],[1,"col-md-3"],["src","assets/img/tanklateral.jpg","alt","...",1,"img-fluid","rounded-start"],[1,"col-md-9"],[1,"card-body"],[1,"card-title",2,"padding-left","12px","padding-right","12px"],[1,"card-text",2,"padding-left","12px","padding-right","12px"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"div",2)(3,"h1",3),l._uU(4,"Tanqueros"),l.qZA()()(),l.TgZ(5,"div",4)(6,"div",5)(7,"div",6),l._UZ(8,"img",7),l.qZA(),l.TgZ(9,"div",8)(10,"div",9),l._UZ(11,"br"),l.TgZ(12,"h4",10),l._uU(13," Los servicios de alta calidad proporcionados por el departamento de Tanqueros ahora tienen m\xe1s demanda que nunca "),l.qZA(),l._UZ(14,"br"),l.TgZ(15,"p",11),l._uU(16,"El equipo participa activamente en el fletamento al contado de cargamentos de petr\xf3leo crudo, productos de petr\xf3leo refinado y aceites vegetales, y tambi\xe9n brinda servicios de consultor\xeda en proyectos a largo plazo. "),l._UZ(17,"br")(18,"br"),l._uU(19," Anualmente, este gran equipo maneja cientos de partidos puntuales, as\xed como contratos a largo plazo. Las actividades diarias incluyen fletamentos por tiempo, reparto de utilidades, esquemas de futuros de fletes y, cuando sea necesario, mecanismos innovadores para cumplir con los requisitos de operaciones \xfanicas y oportunidades especiales. "),l._UZ(20,"br")(21,"br"),l._uU(22," Este servicio integral es proporcionado por una red de oficinas en los principales centros de actividad de petroleros (Par\xeds/Ginebra/Dubai/Beijing), lo que permite una cobertura ininterrumpida del mercado mundial de petroleros. La estrecha cooperaci\xf3n entre todas las oficinas y los corredores del equipo garantiza un alto volumen de intercambio de informaci\xf3n y un servicio altamente receptivo en todo el mundo. "),l._UZ(23,"br")(24,"br"),l.qZA()()()()())},styles:[""]}),n})(),t0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-principal"]],decls:52,vars:0,consts:[["id","carouselExampleControlsNoTouching","data-bs-touch","false","data-bs-interval","false",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/img/carousel-4.jpg","alt","...",1,"d-block","w-100"],[1,"position-absolute","top-0","start-0","w-100","h-100","d-flex","align-items-center",2,"background","rgba(6, 3, 21, .5)"],[1,"container"],[1,"row","justify-content-start"],[1,"col-10","col-lg-8"],[1,"text-white","text-uppercase","mb-3","animated","slideInDown"],[1,"display-3","text-white","animated","slideInDown","mb-4"],[1,"text-primary"],[1,"fs-5","fw-medium","mb-4","pb-2"],["routerLink","/que-hacemos",1,"btn","btn-primary","py-md-3","px-md-5","me-3","animated","slideInLeft"],[1,"carousel-item"],["src","assets/img/carousel-3.jpg","alt","...",1,"d-block","w-100"],["routerLink","/shipbroking",1,"btn","btn-primary","py-md-3","px-md-5","me-3","animated","slideInLeft"],["src","assets/img/carousel-1.jpg","alt","...",1,"d-block","w-100"],["routerLink","market-intelligence",1,"btn","btn-primary","py-md-3","px-md-5","me-3","animated","slideInLeft"],["type","button","data-bs-target","#carouselExampleControlsNoTouching","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleControlsNoTouching","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._UZ(3,"img",3),l.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),l._UZ(8,"h5",8),l.TgZ(9,"h1",9)(10,"span",10),l._uU(11," Activa participaci\xf3n"),l.qZA()(),l.TgZ(12,"p",11),l._uU(13,"en los principales puertos internacionales."),l.qZA(),l.TgZ(14,"a",12),l._uU(15,"Leer m\xe1s"),l.qZA()()()()()(),l.TgZ(16,"div",13),l._UZ(17,"img",14),l.TgZ(18,"div",4)(19,"div",5)(20,"div",6)(21,"div",7),l._UZ(22,"h5",8),l.TgZ(23,"h1",9)(24,"span",10),l._uU(25,"Panamericanhiprokers"),l.qZA()(),l.TgZ(26,"p",11),l._uU(27,"Nos preocupamos por tu negocio."),l.qZA(),l.TgZ(28,"a",15),l._uU(29,"Leer m\xe1s"),l.qZA()()()()()(),l.TgZ(30,"div",13),l._UZ(31,"img",16),l.TgZ(32,"div",4)(33,"div",5)(34,"div",6)(35,"div",7),l._UZ(36,"h5",8),l.TgZ(37,"h1",9)(38,"span",10),l._uU(39," Tenemos"),l.qZA()(),l.TgZ(40,"p",11),l._uU(41,"las mejores opciones del mercado."),l.qZA(),l.TgZ(42,"a",17),l._uU(43,"Leer m\xe1s"),l.qZA()()()()()(),l.TgZ(44,"button",18),l._UZ(45,"span",19),l.TgZ(46,"span",20),l._uU(47,"Previous"),l.qZA()(),l.TgZ(48,"button",21),l._UZ(49,"span",22),l.TgZ(50,"span",20),l._uU(51,"Next"),l.qZA()()()())},directives:[ja],styles:["p[_ngcontent-%COMP%]{color:#fff;font-size:24px!important;font-weight:700!important}.row[_ngcontent-%COMP%]{padding-left:40px}.btn[_ngcontent-%COMP%]{background-color:#04a!important;border-color:#9dc3fc!important;font-weight:800!important}.text-primary[_ngcontent-%COMP%]{color:#9abcef!important}@media (max-width: 500px){.row[_ngcontent-%COMP%]{padding-left:30px}h1[_ngcontent-%COMP%]{font-size:23px!important;font-weight:800!important;padding-bottom:0!important;margin-bottom:8px!important}p[_ngcontent-%COMP%]{font-size:13px!important;font-weight:600!important;padding-bottom:0!important;margin-bottom:8px!important}.btn[_ngcontent-%COMP%]{font-size:14px!important;font-weight:700!important;padding:5px!important;margin-bottom:10px!important;background-color:#04a!important}}@media (min-width: 501px) and (max-width: 740px){.row[_ngcontent-%COMP%]{padding-left:35px}h1[_ngcontent-%COMP%]{font-size:33px!important;font-weight:800!important;padding-bottom:0!important;margin-bottom:15px!important}p[_ngcontent-%COMP%]{font-size:17px!important;font-weight:600!important;padding-bottom:0!important;margin-bottom:15px!important}.btn[_ngcontent-%COMP%]{font-size:17px!important;font-weight:800!important;padding:10px!important;margin-bottom:10px!important}}"]}),n})(),hI=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-departments3"]],decls:63,vars:0,consts:[["id","departamento",1,"container-xxl","py-5"],[1,"container","py-5"],["data-wow-delay","0.1s",1,"text-center","wow","fadeInUp"],[1,"mb-5",2,"font-weight","700","color","#646464"],[1,"container"],[1,"img-grid"],["routerLink","/bulk",1,"grid_item","grid_item-1"],[1,"text",2,"text-align","center"],["routerLink","/bulk"],["src","assets/img/galeria/bulk.jpg","alt",""],["routerLink","/bulk",2,"text-decoration","none"],[2,"text-align","center","margin-top","0","margin-bottom","0.5rem","font-weight","700","color","#154b7a"],[1,"grid_item","grid_item-1"],["routerLink","/tanqueros"],["src","assets/img/galeria/tanker.jpg","alt",""],["routerLink","/tanqueros",2,"text-decoration","none"],["routerLink","/liner"],["src","assets/img/galeria/liner.jpg","alt",""],["routerLink","/liner",2,"text-decoration","none"],["routerLink","/quimicos-tanqueros-pequenos"],["src","assets/img/galeria/chemicalandsmalltanker.jpg","alt",""],["routerLink","/quimicos-tanqueros-pequenos",2,"text-decoration","none"],["routerLink","/lpg"],["src","assets/img/galeria/LPG.jpg","alt",""],["routerLink","/lpg",2,"text-decoration","none"],["routerLink","/lng"],["src","assets/img/galeria/LNG.jpg","alt",""],["routerLink","/lng",2,"text-decoration","none"],["routerLink","/offshore"],["src","assets/img/galeria/offshore.jpg","alt",""],["routerLink","/offshore",2,"text-decoration","none"],["routerLink","/nuevas-construcciones"],["src","assets/img/galeria/newbuilding.jpg","alt",""],["routerLink","/nuevas-construcciones",2,"text-decoration","none"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),l._uU(4,"Departamentos"),l.qZA()(),l.TgZ(5,"div",4)(6,"div",5)(7,"figure",6),l._UZ(8,"div",7),l.TgZ(9,"a",8),l._UZ(10,"img",9),l.qZA(),l.TgZ(11,"a",10)(12,"p",11),l._uU(13,"BULK"),l.qZA()()(),l.TgZ(14,"figure",12),l._UZ(15,"div",7),l.TgZ(16,"a",13),l._UZ(17,"img",14),l.qZA(),l.TgZ(18,"a",15)(19,"p",11),l._uU(20,"TANQUEROS"),l.qZA()()(),l.TgZ(21,"figure",12),l._UZ(22,"div",7),l.TgZ(23,"a",16),l._UZ(24,"img",17),l.qZA(),l.TgZ(25,"a",18)(26,"p",11),l._uU(27,"LINER"),l.qZA()()(),l.TgZ(28,"figure",12),l._UZ(29,"div",7),l.TgZ(30,"a",19),l._UZ(31,"img",20),l.qZA(),l.TgZ(32,"a",21)(33,"p",11),l._uU(34,"QUIMICOS/TANQUEROS PEQUE\xd1OS"),l.qZA()()(),l.TgZ(35,"figure",12),l._UZ(36,"div",7),l.TgZ(37,"a",22),l._UZ(38,"img",23),l.qZA(),l.TgZ(39,"a",24)(40,"p",11),l._uU(41,"LPG"),l.qZA()()(),l.TgZ(42,"figure",12),l._UZ(43,"div",7),l.TgZ(44,"a",25),l._UZ(45,"img",26),l.qZA(),l.TgZ(46,"a",27)(47,"p",11),l._uU(48,"LNG"),l.qZA()()(),l.TgZ(49,"figure",12),l._UZ(50,"div",7),l.TgZ(51,"a",28),l._UZ(52,"img",29),l.qZA(),l.TgZ(53,"a",30)(54,"p",11),l._uU(55,"OFFSHORE"),l.qZA()()(),l.TgZ(56,"figure",12),l._UZ(57,"div",7),l.TgZ(58,"a",31),l._UZ(59,"img",32),l.qZA(),l.TgZ(60,"a",33)(61,"p",11),l._uU(62,"NUEVAS CONSTRUCCIONES"),l.qZA()()()()()()())},directives:[Vf,ja],styles:[".container[_ngcontent-%COMP%]{margin:auto;border:#fff solid 5px;background:#fff}.grid_image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:.5s ease-in}.grid_item[_ngcontent-%COMP%]{position:relative;overflow:hidden}.grid_item[_ngcontent-%COMP%]:hover   .grid_image[_ngcontent-%COMP%]{transform:scale(1.1);filter:rgba(255,0,0,.486) blur(2px)}img[_ngcontent-%COMP%]:hover{opacity:.35;cursor:pointer}.text[_ngcontent-%COMP%]{font-size:1.5rem;position:absolute;top:40%;left:50%;transform:translate(-50%,-50%);color:#c0392b;font-weight:900;display:none}.a[_ngcontent-%COMP%]{font-size:1.5rem;position:absolute;top:40%;left:50%;transform:translate(-50%,-50%);color:#c0392b;font-weight:900;display:none;text-decoration:none!important}.grid_item[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;z-index:999;animation:slide .7s ease}img[_ngcontent-%COMP%]{max-width:100%}img[_ngcontent-%COMP%]:hover{opacity:.5;cursor:pointer}.img-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);grid-gap:5px}@media only screen and (min-width: 750px){.img-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media only screen and (min-width: 970px){.img-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}"]}),n})(),fI=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-service-start"]],decls:30,vars:0,consts:[["id","servicio",1,"container-xxl","py-5",2,"background-color","#154b7a","margin","0","padding-bottom","40px","max-width","100% !important"],[1,"container","py-5"],["data-wow-delay","0.1s",1,"text-center","wow","fadeInUp",2,"background-color","#154b7a"],[1,"mb-5",2,"font-weight","700","color","#ffffff"],[1,"row","g-4",2,"background-color","#154b7a"],["data-wow-delay","0.3s",1,"col-md-6","col-lg-6","wow","fadeInUp"],[1,"service-item","p-4",2,"background-color","#ffffff"],[1,"overflow-hidden","mb-4"],["src","assets/img/service-1.jpg","alt","",1,"img-fluid"],[1,"mb-3",2,"font-weight","700","color","#646464"],["routerLink","shipbroking",1,"btn-slide","mt-2",2,"text-decoration","none !important"],[1,"fa","fa-arrow-right"],[2,"text-decoration","none !important"],["data-wow-delay","0.5s",1,"col-md-6","col-lg-6","wow","fadeInUp"],[1,"overflow-hidden","mb-4",2,"font-weight","700","color","#646464"],["src","assets/img/service-2.jpg","alt","",1,"img-fluid"],["routerLink","/market-intelligence",1,"btn-slide","mt-2",2,"text-decoration","none !important"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),l._uU(4,"Nuestros Servicios"),l.qZA()(),l.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),l._UZ(9,"img",8),l.qZA(),l.TgZ(10,"h4",9),l._uU(11,"SHIPBROKING"),l.qZA(),l.TgZ(12,"p"),l._uU(13,"Nuevas construcciones, compra y venta y charteo en el principal sector marino. "),l.qZA(),l.TgZ(14,"a",10),l._UZ(15,"i",11),l.TgZ(16,"span",12),l._uU(17,"Leer m\xe1s"),l.qZA()()()(),l.TgZ(18,"div",13)(19,"div",6)(20,"div",14),l._UZ(21,"img",15),l.qZA(),l.TgZ(22,"h4",9),l._uU(23,"MARKET INTELLIGENCE"),l.qZA(),l.TgZ(24,"p"),l._uU(25,"Incisivo, informado con data actualizada, reportes y an\xe1lisis en todos los sectores de shipping."),l.qZA(),l.TgZ(26,"a",16),l._UZ(27,"i",11),l.TgZ(28,"span",12),l._uU(29,"Leer m\xe1s"),l.qZA()()()()()()())},directives:[ja],styles:[""]}),n})(),bs=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-about"]],decls:32,vars:0,consts:[["id","nosotros",1,"container-fluid","overflow-hidden","py-5","px-lg-0"],[1,"container","about","py-5","px-lg-0"],[1,"row","g-5","mx-lg-0"],["data-wow-delay","0.1s",1,"col-lg-6","ps-lg-0","wow","fadeInLeft",2,"min-height","400px"],[1,"position-relative","h-100"],["src","assets/img/about.jpg","alt","",1,"position-absolute","img-fluid","w-100","h-100",2,"object-fit","cover"],["data-wow-delay","0.3s",1,"col-lg-6","about-text","wow","fadeInUp"],[1,"text-secondary","text-uppercase","mb-3"],[1,"mb-5",2,"font-weight","700","color","#646464"],[1,"mb-5"],[1,"row","g-4","mb-5"],["data-wow-delay","0.5s",1,"col-sm-6","wow","fadeIn"],[1,"fa","fa-globe","fa-3x","mb-3",2,"color","#154b7a"],[1,"m-0"],["data-wow-delay","0.7s",1,"col-sm-6","wow","fadeIn"],[1,"fa","fa-ship","fa-2x","mb-3",2,"color","#154b7a"],["href","",1,"btn","py-3","px-5",2,"background-color","#154b7a","color","white"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),l._UZ(5,"img",5),l.qZA()(),l.TgZ(6,"div",6)(7,"h6",7),l._uU(8,"Sobre Nosotros"),l.qZA(),l.TgZ(9,"h1",8),l._uU(10,"Panamericanshipbrokers"),l.qZA(),l.TgZ(11,"p",9),l._uU(12,"En Panamericanshipbrokers nos mueve un factor com\xfan \u201cpreocuparnos sobre su negocio\u201d, queremos entregar un sello de calidad basado en servicio de excelencia a nuestros clientes. "),l._UZ(13,"br"),l._uU(14," Nuestra actividad principal es el servicio de intermediaci\xf3n entre las distintas partes de la industria involucradas en el transporte de cargamentos . Servimos as\xed de enlace entre traders y armadores de cualquier lugar del mundo, facilitando la labor comercial del shipping y su operativa. "),l._UZ(15,"br"),l._uU(16," Ofrecemos un servicio personal y de garant\xeda gracias a la amplia experiencia acumulada a lo largo de estos a\xf1os. "),l.qZA(),l.TgZ(17,"div",10)(18,"div",11),l._UZ(19,"i",12),l.TgZ(20,"h5"),l._uU(21,"Cobertura global"),l.qZA(),l.TgZ(22,"p",13),l._uU(23,"Contamos con una red de apoyo internacional"),l.qZA()(),l.TgZ(24,"div",14),l._UZ(25,"i",15),l.TgZ(26,"h5"),l._uU(27,"Env\xedos Confiables"),l.qZA(),l.TgZ(28,"p",13),l._uU(29,"Entregamos nuestros servicios de manera confiable directa, eficaz y eficiente."),l.qZA()()(),l.TgZ(30,"a",16),l._uU(31,"Leer M\xe1s"),l.qZA()()()()())},styles:[""]}),n})(),pI=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-feature"]],decls:25,vars:0,consts:[[1,"container-fluid","overflow-hidden","py-5","px-lg-0",2,"background-color","#154b7a"],[1,"container","feature","py-5","px-lg-0"],[1,"row","g-5","mx-lg-0"],["data-wow-delay","0.1s",1,"col-lg-6","feature-text","wow","fadeInUp"],[1,"mb-3",2,"color","#9fc3fa"],[1,"mb-5",2,"color","white"],["data-wow-delay","0.3s",1,"d-flex","mb-5","wow","fadeInUp"],[1,"fa","fa-globe","text-white","fa-3x","flex-shrink-0"],[1,"ms-4"],[2,"color","#9fc3fa"],[1,"mb-0",2,"color","white"],["data-wow-delay","0.5s",1,"d-flex","mb-5","wow","fadeIn"],[1,"fa","fa-ship","fa-2x","text-white","fa-3x","flex-shrink-0"],["data-wow-delay","0.1s",1,"col-lg-6","pe-lg-0","wow","fadeInRight",2,"min-height","400px"],[1,"position-relative","h-100"],["src","assets/img/feature.jpg","alt","",1,"position-absolute","img-fluid","w-100","h-100",2,"object-fit","cover"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6",4),l._uU(5,"Caracteristicas"),l.qZA(),l.TgZ(6,"h1",5),l._uU(7,"\xbfPorqu\xe9 confiar en nosotros?"),l.qZA(),l.TgZ(8,"div",6),l._UZ(9,"i",7),l.TgZ(10,"div",8)(11,"h5",9),l._uU(12,"Red de Apoyo"),l.qZA(),l.TgZ(13,"p",10),l._uU(14,"Panamericanshipbrokers mantiene una red de apoyo de 18 oficinas en Europa, Asia, Medio Oriente, Am\xe9rica del Norte y del Sur. "),l.qZA()()(),l.TgZ(15,"div",11),l._UZ(16,"i",12),l.TgZ(17,"div",8)(18,"h5",9),l._uU(19,"Experiencia y alcance"),l.qZA(),l.TgZ(20,"p",10),l._uU(21,"Estamos activos en todos los segmentos de la industria naviera: graneles secos, petroleros, transatl\xe1nticos, qu\xedmicos, de gas, costa afuera, de nueva construcci\xf3n y S&P."),l.qZA()()()(),l.TgZ(22,"div",13)(23,"div",14),l._UZ(24,"img",15),l.qZA()()()()())},styles:[""]}),n})(),r0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Bu=(()=>{class n extends r0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Js=new l.OlP("NgValueAccessor"),mI={provide:Js,useExisting:(0,l.Gpc)(()=>Ot),multi:!0},vI=new l.OlP("CompositionEventMode");let Ot=(()=>{class n extends r0{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yI(){const n=M()?M().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(vI,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[l._Bn([mI]),l.qOj]}),n})();function Zo(n){return null==n||0===n.length}function Cm(n){return null!=n&&"number"==typeof n.length}const Xr=new l.OlP("NgValidators"),Is=new l.OlP("NgAsyncValidators"),Ds=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qc{static min(e){return function s0(n){return e=>{if(Zo(e.value)||Zo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Zf(n){return e=>{if(Zo(e.value)||Zo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Xs(n){return Zo(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Hf(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Tm(n){return Zo(n.value)||Ds.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Gf(n){return e=>Zo(e.value)||!Cm(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function _I(n){return e=>Cm(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Am(n){if(!n)return Sm;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Zo(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return o0(e)}static composeAsync(e){return a0(e)}}function Sm(n){return null}function Rd(n){return null!=n}function Od(n){const e=(0,l.QGY)(n)?(0,er.D)(n):n;return(0,l.CqO)(e),e}function qf(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function zf(n,e){return e.map(t=>t(n))}function EI(n){return n.map(e=>function xm(n){return!n.validate}(e)?e:t=>e.validate(t))}function o0(n){if(!n)return null;const e=n.filter(Rd);return 0==e.length?null:function(t){return qf(zf(t,e))}}function Mm(n){return null!=n?o0(EI(n)):null}function a0(n){if(!n)return null;const e=n.filter(Rd);return 0==e.length?null:function(t){return function n0(...n){const e=(0,Mc.jO)(n),{args:t,keys:r}=To(n),o=new ui.y(u=>{const{length:h}=t;if(!h)return void u.complete();const g=new Array(h);let E=h,I=h;for(let C=0;C<h;C++){let S=!1;(0,Hs.Xf)(t[C]).subscribe((0,jn.x)(u,G=>{S||(S=!0,I--),g[C]=G},()=>E--,void 0,()=>{(!E||!S)&&(I||u.next(r?ff(r,g):g),u.complete())}))}});return e?o.pipe(ld(e)):o}(zf(t,e).map(Od)).pipe((0,Gt.U)(qf))}}function Rm(n){return null!=n?a0(EI(n)):null}function Om(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function wI(n){return n._rawValidators}function u0(n){return n._rawAsyncValidators}function c0(n){return n?Array.isArray(n)?n:[n]:[]}function Nd(n,e){return Array.isArray(n)?n.includes(e):n===e}function Nm(n,e){const t=c0(e);return c0(n).forEach(o=>{Nd(t,o)||t.push(o)}),t}function l0(n,e){return c0(e).filter(t=>!Nd(n,t))}class Wf{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Mm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Rm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ju extends Wf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Mi extends Wf{get formDirective(){return null}get path(){return null}}class bI{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let II=(()=>{class n extends bI{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ju,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),n})(),DI=(()=>{class n extends bI{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Mi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),n})();function kd(n,e){Fd(n,e),e.valueAccessor.writeValue(n.value),function Ld(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&p0(n,e)})}(n,e),function g0(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Xc(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&p0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Jc(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Kf(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ho(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Za(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Fd(n,e){const t=wI(n);null!==e.validator?n.setValidators(Om(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=u0(n);null!==e.asyncValidator?n.setAsyncValidators(Om(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Za(e._rawValidators,o),Za(e._rawAsyncValidators,o)}function Ho(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=wI(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(h=>h!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=u0(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(h=>h!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Za(e._rawValidators,r),Za(e._rawAsyncValidators,r),t}function p0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function jm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Vd="VALID",hi="INVALID",el="PENDING",Bd="DISABLED";function v0(n){return(tl(n)?n.validators:n)||null}function Zm(n){return Array.isArray(n)?Mm(n):n||null}function _0(n,e){return(tl(e)?e.asyncValidators:n)||null}function E0(n){return Array.isArray(n)?Rm(n):n||null}function tl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Jf=n=>n instanceof Gm,Xf=n=>n instanceof tp,w0=n=>n instanceof qm;function b0(n){return Jf(n)?n.value:n.getRawValue()}function Hm(n,e){const t=Xf(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[e])throw new l.vHH(1001,"")}function I0(n,e){Xf(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new l.vHH(1002,"")})}class ep{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Zm(this._rawValidators),this._composedAsyncValidatorFn=E0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Vd}get invalid(){return this.status===hi}get pending(){return this.status==el}get disabled(){return this.status===Bd}get enabled(){return this.status!==Bd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Zm(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=E0(e)}addValidators(e){this.setValidators(Nm(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Nm(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(l0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(l0(e,this._rawAsyncValidators))}hasValidator(e){return Nd(this._rawValidators,e)}hasAsyncValidator(e){return Nd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=el,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bd,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Vd,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vd||this.status===el)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bd:Vd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=el,this._hasOwnPendingAsyncValidator=!0;const t=Od(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function AA(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=Xf(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:w0(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Bd:this.errors?hi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(el)?el:this._anyControlsHaveStatus(hi)?hi:Vd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Gm extends ep{constructor(e=null,t,r){super(v0(t),_0(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tl(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class tp extends ep{constructor(e,t,r){super(v0(t),_0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){I0(this,e),Object.keys(e).forEach(r=>{Hm(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=b0(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class qm extends ep{constructor(e,t,r){super(v0(t),_0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){I0(this,e),e.forEach((r,o)=>{Hm(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>b0(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let A0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),op=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const R0=new l.OlP("NgModelWithFormControlWarning"),O0={provide:Mi,useExisting:(0,l.Gpc)(()=>$d)};let $d=(()=>{class n extends Mi{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ho(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return kd(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Kf(t.control||null,t,!1),jm(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Bm(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Kf(r||null,t),Jf(o)&&(kd(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Um(n,e){Fd(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Vm(n,e){return Ho(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fd(this.form,this),this._oldForm&&Ho(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Xr,10),l.Y36(Is,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([O0]),l.qOj,l.TTD]}),n})();const FI={provide:ju,useExisting:(0,l.Gpc)(()=>k0)};let k0=(()=>{class n extends ju{constructor(t,r,o,u,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Qf(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Ot?t=u:function TA(n){return Object.getPrototypeOf(n.constructor)===Bu}(u)?r=u:o=u}),o||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Yf(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Pd(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Mi,13),l.Y36(Xr,10),l.Y36(Is,10),l.Y36(Js,10),l.Y36(R0,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([FI]),l.qOj,l.TTD]}),n})(),GI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[op]]}),n})(),H0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[GI]}),n})(),G0=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:R0,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[GI]}),n})(),OA=(()=>{class n{group(t,r=null){const o=this._reduceControls(t);let g,u=null,h=null;return null!=r&&(function qI(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(u=null!=r.validators?r.validators:null,h=null!=r.asyncValidators?r.asyncValidators:null,g=null!=r.updateOn?r.updateOn:void 0):(u=null!=r.validator?r.validator:null,h=null!=r.asyncValidator?r.asyncValidator:null)),new tp(o,{asyncValidators:h,updateOn:g,validators:u})}control(t,r,o){return new Gm(t,r,o)}array(t,r,o){const u=t.map(h=>this._createControl(h));return new qm(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return Jf(t)||Xf(t)||w0(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:G0}),n})();var sy=x(4986),Ht=x(880);function Zd(){return(0,Qr.e)((n,e)=>{let t,r=!1;n.subscribe((0,jn.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function oy(n,e=Zs.y){return n=null!=n?n:NA,(0,Qr.e)((t,r)=>{let o,u=!0;t.subscribe((0,jn.x)(r,h=>{const g=e(h);(u||!n(o,g))&&(u=!1,o=g,r.next(h))}))})}function NA(n,e){return n===e}var ht,Er=x(2011),PA=(x(5881),x(3942)),Se=x(5861),to=x(9681),Hd=x(4859),Ha=x(1877),an=x(2090),q0="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ts={},Gd=Gd||{},jt=q0||self;function lp(){}function ay(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function qd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var uy="closure_uid_"+(1e9*Math.random()>>>0),dp=0;function rl(n,e,t){return n.call.apply(n.bind,arguments)}function WI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function wr(n,e,t){return(wr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rl:WI).apply(null,arguments)}function hp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ei(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var h=Array(arguments.length-2),g=2;g<arguments.length;g++)h[g-2]=arguments[g];return e.prototype[o].apply(r,h)}}function no(){this.s=this.s,this.o=this.o}var zd={};no.prototype.s=!1,no.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function zI(n){return Object.prototype.hasOwnProperty.call(n,uy)&&n[uy]||(n[uy]=++dp)}(this);delete zd[n]}},no.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ti=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Ga=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function qi(n){return Array.prototype.concat.apply([],arguments)}function Wd(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function qo(n){return/^[\s\xa0]*$/.test(n)}var Mr,Hu=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function xr(n,e){return-1!=n.indexOf(e)}function qa(n,e){return n<e?-1:n>e?1:0}e:{var Gu=jt.navigator;if(Gu){var qu=Gu.userAgent;if(qu){Mr=qu;break e}}Mr=""}function za(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function zu(n){const e={};for(const t in n)e[t]=n[t];return e}var cy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ly(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<cy.length;u++)t=cy[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function pp(n){return pp[" "](n),n}pp[" "]=lp;var mp,n,W0=xr(Mr,"Opera"),Wu=xr(Mr,"Trident")||xr(Mr,"MSIE"),dy=xr(Mr,"Edge"),gp=dy||Wu,hy=xr(Mr,"Gecko")&&!(xr(Mr.toLowerCase(),"webkit")&&!xr(Mr,"Edge"))&&!(xr(Mr,"Trident")||xr(Mr,"MSIE"))&&!xr(Mr,"Edge"),KI=xr(Mr.toLowerCase(),"webkit")&&!xr(Mr,"Edge");function fy(){var n=jt.document;return n?n.documentMode:void 0}e:{var py="",yp=(n=Mr,hy?/rv:([^\);]+)(\)|;)/.exec(n):dy?/Edge\/([\d\.]+)/.exec(n):Wu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):KI?/WebKit\/(\S+)/.exec(n):W0?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(yp&&(py=yp?yp[1]:""),Wu){var gy=fy();if(null!=gy&&gy>parseFloat(py)){mp=String(gy);break e}}mp=py}var YI={};var QI=jt.document&&Wu&&(fy()||parseInt(mp,10))||void 0,JI=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",lp,e),jt.removeEventListener("test",lp,e)}catch(t){}return n}();function Ii(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Kd(n,e){if(Ii.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(hy){e:{try{pp(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:vy[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Kd.Z.h.call(this)}}Ii.prototype.h=function(){this.defaultPrevented=!0},ei(Kd,Ii);var vy={2:"touch",3:"pen",4:"mouse"};Kd.prototype.h=function(){Kd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ku="closure_listenable_"+(1e6*Math.random()|0),XI=0;function kA(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++XI,this.ca=this.fa=!1}function _y(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Ey(n){this.src=n,this.g={},this.h=0}function wy(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=ti(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(_y(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function vp(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}Ey.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var h=vp(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new kA(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var Y0="closure_lm_"+(1e6*Math.random()|0),by={};function Yu(n,e,t,r,o){if(r&&r.once)return X0(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Yu(n,e[u],t,r,o);return null}return t=Ty(t),n&&n[Ku]?n.N(e,t,qd(r)?!!r.capture:!!r,o):Q0(n,e,t,!1,r,o)}function Q0(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var h=qd(o)?!!o.capture:!!o,g=Dy(n);if(g||(n[Y0]=g=new Ey(n)),(t=g.add(e,t,r,h,u)).proxy)return t;if(r=function J0(){var e=tE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)JI||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(eE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function X0(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)X0(n,e[u],t,r,o);return null}return t=Ty(t),n&&n[Ku]?n.O(e,t,qd(r)?!!r.capture:!!r,o):Q0(n,e,t,!0,r,o)}function Iy(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)Iy(n,e[u],t,r,o);else r=qd(r)?!!r.capture:!!r,t=Ty(t),n&&n[Ku]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=vp(u=n.g[e],t,r,o))&&(_y(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Dy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=vp(e,t,r,o)),(t=-1<n?e[n]:null)&&il(t))}function il(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ku])wy(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(eE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Dy(e))?(wy(t,n),0==t.h&&(t.src=null,e[Y0]=null)):_y(n)}}}function eE(n){return n in by?by[n]:by[n]="on"+n}function tE(n,e){if(n.ca)n=!0;else{e=new Kd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&il(n),n=t.call(r,e)}return n}function Dy(n){return(n=n[Y0])instanceof Ey?n:null}var Cy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ty(n){return"function"==typeof n?n:(n[Cy]||(n[Cy]=function(e){return n.handleEvent(e)}),n[Cy])}function Hr(){no.call(this),this.i=new Ey(this),this.P=this,this.I=null}function ni(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ii(e,n);else if(e instanceof Ii)e.target=e.target||n;else{var o=e;ly(e=new Ii(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var h=e.g=t[u];o=Yd(h,r,!0,e)&&o}if(o=Yd(h=e.g=n,r,!0,e)&&o,o=Yd(h,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Yd(h=e.g=t[u],r,!1,e)&&o}function Yd(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.ca&&h.capture==t){var g=h.listener,E=h.ia||h.src;h.fa&&wy(n.i,h),o=!1!==g.call(E,r)&&o}}return o&&!r.defaultPrevented}ei(Hr,no),Hr.prototype[Ku]=!0,Hr.prototype.removeEventListener=function(n,e,t,r){Iy(this,n,e,t,r)},Hr.prototype.M=function(){if(Hr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)_y(t[r]);delete n.g[e],n.h--}}this.I=null},Hr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Hr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ay=jt.JSON.stringify;function nE(){var n=wp;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var iE,_p=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new FA,n=>n.reset());class FA{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Sy(n){jt.setTimeout(()=>{throw n},0)}function xy(n,e){iE||function Qd(){var n=jt.Promise.resolve(void 0);iE=function(){n.then(My)}}(),Ep||(iE(),Ep=!0),wp.add(n,e)}var Ep=!1,wp=new class rE{constructor(){this.h=this.g=null}add(e,t){const r=_p.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function My(){for(var n;n=nE();){try{n.h.call(n.g)}catch(t){Sy(t)}var e=_p;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ep=!1}function bp(n,e){Hr.call(this),this.h=n||1,this.g=e||jt,this.j=wr(this.kb,this),this.l=Date.now()}function sl(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function ol(n,e,t){if("function"==typeof n)t&&(n=wr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=wr(n.handleEvent,n)}return 2147483647<Number(e)?-1:jt.setTimeout(n,e||0)}function Ip(n){n.g=ol(()=>{n.g=null,n.i&&(n.i=!1,Ip(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ei(bp,Hr),(ht=bp.prototype).da=!1,ht.S=null,ht.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ni(this,"tick"),this.da&&(sl(this),this.start()))}},ht.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ht.M=function(){bp.Z.M.call(this),sl(this),delete this.g};class LA extends no{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ip(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jd(n){no.call(this),this.h=n,this.g={}}ei(Jd,no);var Dp=[];function Cp(n,e,t,r){Array.isArray(t)||(t&&(Dp[0]=t.toString()),t=Dp);for(var o=0;o<t.length;o++){var u=Yu(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Ry(n){za(n.g,function(e,t){this.g.hasOwnProperty(t)&&il(e)},n),n.g={}}function Tp(){this.g=!0}function Qu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function oE(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var h=1;h<o.length;h++)o[h]=""}}}return Ay(t)}catch(g){return e}}(n,t)+(r?" "+r:"")})}Jd.prototype.M=function(){Jd.Z.M.call(this),Ry(this)},Jd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tp.prototype.Aa=function(){this.g=!1},Tp.prototype.info=function(){};var Ju={},Py=null;function Xd(){return Py=Py||new Hr}function Ap(n){Ii.call(this,Ju.Ma,n)}function al(n){const e=Xd();ni(e,new Ap(e,n))}function aE(n,e){Ii.call(this,Ju.STAT_EVENT,n),this.stat=e}function Di(n){const e=Xd();ni(e,new aE(e,n))}function uE(n,e){Ii.call(this,Ju.Na,n),this.size=e}function ul(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},e)}Ju.Ma="serverreachability",ei(Ap,Ii),Ju.STAT_EVENT="statevent",ei(aE,Ii),Ju.Na="timingevent",ei(uE,Ii);var cl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ky={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Sp(){}function Ly(){}Sp.prototype.h=null;var Rp,ll={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function xp(){Ii.call(this,"d")}function Mp(){Ii.call(this,"c")}function Uy(){}function eh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Jd(this),this.P=lE,this.W=new bp(n=gp?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new cE}function cE(){this.i=null,this.g="",this.h=!1}ei(xp,Ii),ei(Mp,Ii),ei(Uy,Sp),Uy.prototype.g=function(){return new XMLHttpRequest},Uy.prototype.i=function(){return{}},Rp=new Uy;var lE=45e3,Vy={},hr={};function Op(n,e,t){n.K=1,n.v=Fp(Gr(e)),n.s=t,n.U=!0,dE(n,null)}function dE(n,e){n.F=Date.now(),dl(n),n.A=Gr(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Vp(t.h,"t",r),n.C=0,t=n.l.H,n.h=new cE,n.g=NE(n.l,t?e:null,!n.s),0<n.O&&(n.L=new LA(wr(n.Ia,n,n.g),n.O)),Cp(n.V,n.g,"readystatechange",n.gb),e=n.H?zu(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),al(1),function Oy(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var h="",g=u.split("&"),E=0;E<g.length;E++){var I=g[E].split("=");if(1<I.length){var C=I[0];I=I[1];var S=C.split("_");h=2<=S.length&&"type"==S[1]?h+(C+"=")+I+"&":h+(C+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function hE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function By(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=eD(n,t),o==hr){4==e&&(n.o=4,Di(14),r=!1),Qu(n.j,n.m,null,"[Incomplete Response]");break}if(o==Vy){n.o=4,Di(15),Qu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Qu(n.j,n.m,o,null),Np(n,o)}hE(n)&&o!=hr&&o!=Vy&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Di(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),hl(e),e.L=!0,Di(11))):(Qu(n.j,n.m,t,"[Invalid Chunked Response]"),Xu(n),th(n))}function eD(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?hr:(t=Number(e.substring(t,r)),isNaN(t)?Vy:(r+=1)+t>e.length?hr:(e=e.substr(r,t),n.C=r+t,e))}function dl(n){n.Y=Date.now()+n.P,jy(n,n.P)}function jy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ul(wr(n.eb,n),e)}function zo(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function th(n){0==n.l.G||n.I||dh(n.l,n)}function Xu(n){zo(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,sl(n.W),Ry(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Np(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Bp(t.i,n)))if(t.I=n.N,!n.J&&Bp(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(I){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=ul(wr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;rc(t),nv(t)}rv(t),Di(18)}if(1>=zy(t.i)&&t.ka){try{t.ka()}catch(I){}t.ka=void 0}}else fl(t,11)}else if((n.J||t.g==n)&&rc(t),!qo(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let I=o[e];if(t.U=I[0],I=I[1],2==t.G)if("c"==I[0]){t.J=I[1],t.la=I[2];const C=I[3];null!=C&&(t.ma=C,t.h.info("VER="+t.ma));const S=I[4];null!=S&&(t.za=S,t.h.info("SVER="+t.za));const G=I[5];null!=G&&"number"==typeof G&&0<G&&(t.K=r=1.5*G,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const W=n.g;if(W){const he=W.g?W.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(he){var u=r.i;!u.g&&(xr(he,"spdy")||xr(he,"quic")||xr(he,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Wy(u,u.h),u.h=null))}if(r.D){const Ze=W.g?W.g.getResponseHeader("X-HTTP-Session-Id"):null;Ze&&(r.sa=Ze,Kn(r.F,r.D,Ze))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=OE(r,r.H?r.la:null,r.W),h.J){vE(r.i,h);var g=h,E=r.K;E&&g.setTimeout(E),g.B&&(zo(g),dl(g)),r.g=h}else ME(r);0<t.l.length&&lh(t)}else"stop"!=I[0]&&"close"!=I[0]||fl(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?fl(t,7):Wa(t):"noop"!=I[0]&&t.j&&t.j.wa(I),t.A=0)}al(4)}catch(I){}}function Pp(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ay(n)||"string"==typeof n)Ga(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(ay(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function tD(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(ay(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function nh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof nh)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function kp(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Wo(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Wo(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Wo(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ht=eh.prototype).setTimeout=function(n){this.P=n},ht.gb=function(n){n=n.target;const e=this.L;e&&3==io(n)?e.l():this.Ia(n)},ht.Ia=function(n){try{if(n==this.g)e:{const C=io(this.g);var e=this.g.Da();const S=this.g.ba();if(!(3>C)&&(3!=C||gp||this.g&&(this.h.h||this.g.ga()||tv(this.g)))){this.I||4!=C||7==e||al(8==e||0>=S?3:2),zo(this);var t=this.g.ba();this.N=t;t:if(hE(this)){var r=tv(this.g);n="";var o=r.length,u=4==io(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Xu(this),th(this);var h="";break t}this.h.i=new jt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function sE(n,e,t,r,o,u,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+h})}(this.j,this.u,this.A,this.m,this.X,C,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,E=this.g;if((g=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qo(g)){var I=g;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,Di(12),Xu(this),th(this);break e}Qu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Np(this,t)}this.U?(By(this,C,h),gp&&this.i&&3==C&&(Cp(this.V,this.W,"tick",this.fb),this.W.start())):(Qu(this.j,this.m,h,null),Np(this,h)),4==C&&Xu(this),this.i&&!this.I&&(4==C?dh(this.l,this):(this.i=!1,dl(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Di(12)):(this.o=0,Di(13)),Xu(this),th(this)}}}catch(C){}},ht.fb=function(){if(this.g){var n=io(this.g),e=this.g.ga();this.C<e.length&&(zo(this),By(this,n,e),this.i&&4!=n&&dl(this))}},ht.cancel=function(){this.I=!0,Xu(this)},ht.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Ny(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(al(3),Di(17)),Xu(this),this.o=2,th(this)):jy(this,this.Y-n)},(ht=nh.prototype).R=function(){kp(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ht.T=function(){return kp(this),this.g.concat()},ht.get=function(n,e){return Wo(this.h,n)?this.h[n]:e},ht.set=function(n,e){Wo(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ht.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var As=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ec(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ec){this.g=void 0!==e?e:n.g,Ri(this,n.j),this.s=n.s,Oi(this,n.i),rh(this,n.m),this.l=n.l,e=n.h;var t=new ih;t.i=e.i,e.g&&(t.g=new nh(e.g),t.h=e.h),$y(this,t),this.o=n.o}else n&&(t=String(n).match(As))?(this.g=!!e,Ri(this,t[1]||"",!0),this.s=tc(t[2]||""),Oi(this,t[3]||"",!0),rh(this,t[4]),this.l=tc(t[5]||"",!0),$y(this,t[6]||"",!0),this.o=tc(t[7]||"")):(this.g=!!e,this.h=new ih(null,this.g))}function Gr(n){return new ec(n)}function Ri(n,e,t){n.j=t?tc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Oi(n,e,t){n.i=t?tc(e,!0):e}function rh(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $y(n,e,t){e instanceof ih?(n.h=e,function gE(n,e){e&&!n.j&&(Yo(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Hy(this,r),Vp(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Ko(e,pE)),n.h=new ih(e,n.g))}function Kn(n,e,t){n.h.set(e,t)}function Fp(n){return Kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function tc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ko(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,sD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function sD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ec.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ko(e,Zy,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ko(e,Zy,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ko(t,"/"==t.charAt(0)?fE:oD,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ko(t,Lp)),n.join("")};var Zy=/[#\/\?@]/g,oD=/[#\?:]/g,fE=/[#\?]/g,pE=/[#\?@]/g,Lp=/#/g;function ih(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Yo(n){n.g||(n.g=new nh,n.h=0,n.i&&function nD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Hy(n,e){Yo(n),e=nc(n,e),Wo(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Wo((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&kp(n)))}function Up(n,e){return Yo(n),e=nc(n,e),Wo(n.g.h,e)}function Vp(n,e,t){Hy(n,e),0<t.length&&(n.i=null,n.g.set(nc(n,e),Wd(t)),n.h+=t.length)}function nc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Gy(n){this.l=n||yE,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ea&&jt.g.Ea()&&jt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ht=ih.prototype).add=function(n,e){Yo(this),this.i=null,n=nc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ht.forEach=function(n,e){Yo(this),this.g.forEach(function(t,r){Ga(t,function(o){n.call(e,o,r,this)},this)},this)},ht.T=function(){Yo(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},ht.R=function(n){Yo(this);var e=[];if("string"==typeof n)Up(this,n)&&(e=qi(e,this.g.get(nc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=qi(e,n[t])}return e},ht.set=function(n,e){return Yo(this),this.i=null,Up(this,n=nc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ht.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ht.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var h=o;""!==r[u]&&(h+="="+encodeURIComponent(String(r[u]))),n.push(h)}}return this.i=n.join("&")};var yE=10;function qy(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zy(n){return n.h?1:n.g?n.g.size:0}function Bp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Wy(n,e){n.g?n.g.add(e):n.h=e}function vE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function _E(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Wd(n.i)}function Ky(){}function aD(){this.g=new Ky}function uD(n,e,t){const r=t||"";try{Pp(n,function(o,u){let h=o;qd(o)&&(h=Ay(o)),e.push(r+u+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function jp(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function sh(n){this.l=n.$b||null,this.j=n.ib||!1}function $p(n,e){Hr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Yy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gy.prototype.cancel=function(){if(this.i=_E(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ky.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},Ky.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},ei(sh,Sp),sh.prototype.g=function(){return new $p(this.l,this.j)},sh.prototype.i=function(n){return function(){return n}}({}),ei($p,Hr);var Yy=0;function EE(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function oh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ah(n)}function ah(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ht=$p.prototype).open=function(n,e){if(this.readyState!=Yy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ah(this)},ht.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||jt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ht.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,oh(this)),this.readyState=Yy},ht.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ah(this)),this.g&&(this.readyState=3,ah(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==jt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;EE(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ht.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?oh(this):ah(this),3==this.readyState&&EE(this)}},ht.Ua=function(n){this.g&&(this.response=this.responseText=n,oh(this))},ht.Ta=function(n){this.g&&(this.response=n,oh(this))},ht.ha=function(){this.g&&oh(this)},ht.setRequestHeader=function(n,e){this.v.append(n,e)},ht.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ht.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty($p.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var lD=jt.JSON.parse;function Rr(n){Hr.call(this),this.headers=new nh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wE,this.K=this.L=!1}ei(Rr,Hr);var wE="",dD=/^https?$/i,bE=["POST","PUT"];function DE(n){return"content-type"==n.toLowerCase()}function Qy(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Jy(n),uh(n)}function Jy(n){n.D||(n.D=!0,ni(n,"complete"),ni(n,"error"))}function Xy(n){if(n.h&&void 0!==Gd&&(!n.C[1]||4!=io(n)||2!=n.ba()))if(n.v&&4==io(n))ol(n.Fa,0,n);else if(ni(n,"readystatechange"),4==io(n)){n.h=!1;try{const g=n.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var o=String(n.H).match(As)[1]||null;if(!o&&jt.self&&jt.self.location){var u=jt.self.location.protocol;o=u.substr(0,u.length-1)}r=!dD.test(o?o.toLowerCase():"")}t=r}if(t)ni(n,"complete"),ni(n,"success");else{n.m=6;try{var h=2<io(n)?n.g.statusText:""}catch(E){h=""}n.j=h+" ["+n.ba()+"]",Jy(n)}}finally{uh(n)}}}function uh(n,e){if(n.g){ev(n);const t=n.g,r=n.C[0]?lp:null;n.g=null,n.C=null,e||ni(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function ev(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function io(n){return n.g?n.g.readyState:0}function tv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case wE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Qo(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function CE(n){let e="";return za(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Kn(n,e,t))}function ch(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function TE(n){this.za=0,this.l=[],this.h=new Tp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ch("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ch("baseRetryDelayMs",5e3,n),this.$a=ch("retryDelaySeedMs",1e4,n),this.Ya=ch("forwardChannelMaxRetries",2,n),this.ra=ch("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Gy(n&&n.concurrentRequestLimit),this.Ca=new aD,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Wa(n){if(Zp(n),3==n.G){var e=n.V++,t=Gr(n.F);Kn(t,"SID",n.J),Kn(t,"RID",e),Kn(t,"TYPE","terminate"),Dt(n,t),(e=new eh(n,n.h,e,void 0)).K=2,e.v=Fp(Gr(t)),t=!1,jt.navigator&&jt.navigator.sendBeacon&&(t=jt.navigator.sendBeacon(e.v.toString(),"")),!t&&jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=NE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),dl(e)}iv(n)}function nv(n){n.g&&(hl(n),n.g.cancel(),n.g=null)}function Zp(n){nv(n),n.u&&(jt.clearTimeout(n.u),n.u=null),rc(n),n.i.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function AE(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&lh(n)}function lh(n){qy(n.i)||n.m||(n.m=!0,xy(n.Ha,n),n.C=0)}function hD(n,e){var t;t=e?e.m:n.V++;const r=Gr(n.F);Kn(r,"SID",n.J),Kn(r,"RID",t),Kn(r,"AID",n.U),Dt(n,r),n.o&&n.s&&Qo(r,n.o,n.s),t=new eh(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=xE(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Wy(n.i,t),Op(t,r,e)}function Dt(n,e){n.j&&Pp({},function(t,r){Kn(e,r,t)})}function xE(n,e,t){t=Math.min(n.l.length,t);var r=n.j?wr(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const h=["count="+t];-1==u?0<t?(u=o[0].h,h.push("ofs="+u)):u=0:h.push("ofs="+u);let g=!0;for(let E=0;E<t;E++){let I=o[E].h;const C=o[E].g;if(I-=u,0>I)u=Math.max(0,o[E].h-100),g=!1;else try{uD(C,h,"req"+I+"_")}catch(S){r&&r(C)}}if(g){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function ME(n){n.g||n.u||(n.Y=1,xy(n.Ga,n),n.A=0)}function rv(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=ul(wr(n.Ga,n),tr(n,n.A)),n.A++,0))}function hl(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function RE(n){n.g=new eh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Gr(n.oa);Kn(e,"RID","rpc"),Kn(e,"SID",n.J),Kn(e,"CI",n.N?"0":"1"),Kn(e,"AID",n.U),Dt(n,e),Kn(e,"TYPE","xmlhttp"),n.o&&n.s&&Qo(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Fp(Gr(e)),t.s=null,t.U=!0,dE(t,n)}function rc(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function dh(n,e){var t=null;if(n.g==e){rc(n),hl(n),n.g=null;var r=2}else{if(!Bp(n.i,e))return;t=e.D,vE(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;ni(r=Xd(),new uE(r,t,e,o)),lh(n)}else ME(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function SE(n,e){return!(zy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=ul(wr(n.Ha,n,e),tr(n,n.C)),n.C++,0)))}(n,e)||2==r&&rv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:fl(n,5);break;case 4:fl(n,10);break;case 3:fl(n,6);break;default:fl(n,2)}}function tr(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function fl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=wr(n.jb,n);t||(t=new ec("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||Ri(t,"https"),Fp(t)),function cD(n,e){const t=new Tp;if(jt.Image){const r=new Image;r.onload=hp(jp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=hp(jp,t,r,"TestLoadImage: error",!1,e),r.onabort=hp(jp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=hp(jp,t,r,"TestLoadImage: timeout",!1,e),jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Di(2);n.G=0,n.j&&n.j.va(e),iv(n),Zp(n)}function iv(n){n.G=0,n.I=-1,n.j&&((0!=_E(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Wd(n.l),n.l.length=0),n.j.ua())}function OE(n,e,t){let r=function rD(n){return n instanceof ec?Gr(n):new ec(n,void 0)}(t);if(""!=r.i)e&&Oi(r,e+"."+r.i),rh(r,r.m);else{const o=jt.location;r=function iD(n,e,t,r){var o=new ec(null,void 0);return n&&Ri(o,n),e&&Oi(o,e),t&&rh(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&za(n.aa,function(o,u){Kn(r,u,o)}),t=n.sa,(e=n.D)&&t&&Kn(r,e,t),Kn(r,"VER",n.ma),Dt(n,r),r}function NE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rr(t&&n.Ba&&!n.qa?new sh({ib:!0}):n.qa)).L=n.H,e}function sv(){}function hh(){if(Wu&&!(10<=Number(QI)))throw Error("Environmental error: no available transport.")}function Ni(n,e){Hr.call(this),this.g=new TE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!qo(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qo(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new pl(this)}function ov(n){xp.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function PE(){Mp.call(this),this.status=1}function pl(n){this.g=n}(ht=Rr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rp.g(),this.C=function Fy(n){return n.h||(n.h=n.i())}(this.u?this.u:Rp),this.g.onreadystatechange=wr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void Qy(this,u)}n=t||"";const o=new nh(this.headers);r&&Pp(r,function(u,h){o.set(h,u)}),r=function fp(n){e:{var e=DE;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=jt.FormData&&n instanceof jt.FormData,!(0<=ti(bE,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,h){this.g.setRequestHeader(h,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ev(this),0<this.B&&((this.K=function IE(n){return Wu&&function K0(){return function z0(n){var e=YI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Hu(String(mp)).split("."),t=Hu("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",u=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=qa(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||qa(0==o[2].length,0==u[2].length)||qa(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wr(this.pa,this)):this.A=ol(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){Qy(this,u)}},ht.pa=function(){void 0!==Gd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ni(this,"timeout"),this.abort(8))},ht.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ni(this,"complete"),ni(this,"abort"),uh(this))},ht.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uh(this,!0)),Rr.Z.M.call(this)},ht.Fa=function(){this.s||(this.F||this.v||this.l?Xy(this):this.cb())},ht.cb=function(){Xy(this)},ht.ba=function(){try{return 2<io(this)?this.g.status:-1}catch(n){return-1}},ht.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ht.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),lD(e)}},ht.Da=function(){return this.m},ht.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ht=TE.prototype).ma=8,ht.G=1,ht.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ht.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new eh(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=zu(u),ly(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xE(this,o,e),Kn(t=Gr(this.F),"RID",n),Kn(t,"CVER",22),this.D&&Kn(t,"X-HTTP-Session-Id",this.D),Dt(this,t),this.o&&u&&Qo(t,this.o,u),Wy(this.i,o),this.Ra&&Kn(t,"TYPE","init"),this.ja?(Kn(t,"$req",e),Kn(t,"SID","null"),o.$=!0,Op(o,t,null)):Op(o,t,e),this.G=2}}else 3==this.G&&(n?hD(this,n):0==this.l.length||qy(this.i)||hD(this))},ht.Ga=function(){if(this.u=null,RE(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=ul(wr(this.bb,this),n)}},ht.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Di(10),nv(this),RE(this))},ht.ab=function(){null!=this.v&&(this.v=null,nv(this),rv(this),Di(19))},ht.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Di(2)):(this.h.info("Failed to ping google.com"),Di(1))},(ht=sv.prototype).xa=function(){},ht.wa=function(){},ht.va=function(){},ht.ua=function(){},ht.Oa=function(){},hh.prototype.g=function(n,e){return new Ni(n,e)},ei(Ni,Hr),Ni.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),xy(wr(n.hb,n,e))),Di(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=OE(n,null,n.W),lh(n)},Ni.prototype.close=function(){Wa(this.g)},Ni.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,AE(this.g,e)}else this.v?((e={}).__data__=Ay(n),AE(this.g,e)):AE(this.g,n)},Ni.prototype.M=function(){this.g.j=null,delete this.j,Wa(this.g),delete this.g,Ni.Z.M.call(this)},ei(ov,xp),ei(PE,Mp),ei(pl,sv),pl.prototype.xa=function(){ni(this.g,"a")},pl.prototype.wa=function(n){ni(this.g,new ov(n))},pl.prototype.va=function(n){ni(this.g,new PE(n))},pl.prototype.ua=function(){ni(this.g,"b")},hh.prototype.createWebChannel=hh.prototype.g,Ni.prototype.send=Ni.prototype.u,Ni.prototype.open=Ni.prototype.m,Ni.prototype.close=Ni.prototype.close,cl.NO_ERROR=0,cl.TIMEOUT=8,cl.HTTP_ERROR=6,ky.COMPLETE="complete",Ly.EventType=ll,ll.OPEN="a",ll.CLOSE="b",ll.ERROR="c",ll.MESSAGE="d",Hr.prototype.listen=Hr.prototype.N,Rr.prototype.listenOnce=Rr.prototype.O,Rr.prototype.getLastError=Rr.prototype.La,Rr.prototype.getLastErrorCode=Rr.prototype.Da,Rr.prototype.getStatus=Rr.prototype.ba,Rr.prototype.getResponseJson=Rr.prototype.Qa,Rr.prototype.getResponseText=Rr.prototype.ga,Rr.prototype.send=Rr.prototype.ea;var fD=Ts.createWebChannelTransport=function(){return new hh},fh=Ts.getStatEventTarget=function(){return Xd()},av=Ts.ErrorCode=cl,pD=Ts.EventType=ky,gD=Ts.Event=Ju,ph=Ts.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kE=Ts.FetchXmlHttpFactory=sh,gh=Ts.WebChannel=Ly,FE=Ts.XhrIo=Rr;const LE="@firebase/firestore";class fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");let so="9.8.4";const Ka=new Ha.Yd("@firebase/firestore");function uv(){return Ka.logLevel}function He(n,...e){if(Ka.logLevel<=Ha.in.DEBUG){const t=e.map(cv);Ka.debug(`Firestore (${so}): ${n}`,...t)}}function br(n,...e){if(Ka.logLevel<=Ha.in.ERROR){const t=e.map(cv);Ka.error(`Firestore (${so}): ${n}`,...t)}}function gl(n,...e){if(Ka.logLevel<=Ha.in.WARN){const t=e.map(cv);Ka.warn(`Firestore (${so}): ${n}`,...t)}}function cv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ft(n="Unexpected state"){const e=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: `+n;throw br(e),new Error(e)}function Mt(n,e){n||ft()}function ut(n,e){return n}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends an.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class lv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hp{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fr.UNAUTHENTICATED))}shutdown(){}}class vD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _D{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=I=>this.i!==o?(o=this.i,t(I)):Promise.resolve();let h=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ri,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const I=h;e.enqueueRetryable((0,Se.Z)(function*(){yield I.promise,yield u(r.currentUser)}))},E=I=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(I=>E(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?E(I):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ri)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mt("string"==typeof r.accessToken),new lv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mt(null===e||"string"==typeof e),new fr(e)}}class UE{constructor(e,t,r){this.type="FirstParty",this.user=fr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class mh{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new UE(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ED{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.p;return this.p=u.token,He("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mt("string"==typeof t.token),this.p=t.token,new VE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function wD(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class BE{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=wD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function qt(n,e){return n<e?-1:n>e?1:0}function ml(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function jE(n){return n+"\0"}class bn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ve(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ve(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ve(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bn.fromMillis(Date.now())}static fromDate(e){return bn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new bn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xt(e)}static min(){return new xt(new bn(0,0))}static max(){return new xt(new bn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yl{constructor(e,t,r){void 0===t?t=0:t>e.length&&ft(),void 0===r?r=e.length-t:r>e.length-t&&ft(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===yl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hn extends yl{construct(e,t,r){return new hn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ve(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new hn(t)}static emptyPath(){return new hn([])}}const $E=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ir extends yl{construct(e,t,r){return new Ir(e,t,r)}static isValidIdentifier(e){return $E.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ir(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Ve(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const g=e[o];if("\\"===g){if(o+1===e.length)throw new Ve(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Ve(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===g?(h=!h,o++):"."!==g||h?(r+=g,o++):(u(),o++)}if(u(),h)throw new Ve(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ir(t)}static emptyPath(){return new Ir([])}}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(hn.fromString(e))}static fromName(e){return new nt(hn.fromString(e).popFirst(5))}static empty(){return new nt(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new hn(e.slice()))}}class Gp{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function yh(n){return n.fields.find(e=>2===e.kind)}function ic(n){return n.fields.filter(e=>2!==e.kind)}Gp.UNKNOWN_ID=-1;class vh{constructor(e,t){this.fieldPath=e,this.kind=t}}class vl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vl(0,zi.min())}}function ZE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=xt.fromTimestamp(1e9===r?new bn(t+1,0):new bn(t,r));return new zi(o,nt.empty(),e)}function HE(n){return new zi(n.readTime,n.key,-1)}class zi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new zi(xt.min(),nt.empty(),-1)}static max(){return new zi(xt.max(),nt.empty(),-1)}}function _h(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=nt.comparator(n.documentKey,e.documentKey),0!==t?t:qt(n.largestBatchId,e.largestBatchId))}const GE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ya(n){return hv.apply(this,arguments)}function hv(){return hv=(0,Se.Z)(function*(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==GE)throw n;He("LocalStore","Unexpectedly lost primary lease")}),hv.apply(this,arguments)}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let o=0,u=0,h=!1;e.forEach(g=>{++o,g.next(()=>{++u,h&&u===o&&t()},E=>r(E))}),h=!0,u===o&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(o=>o?pe.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new pe((r,o)=>{const u=e.length,h=new Array(u);let g=0;for(let E=0;E<u;E++){const I=E;t(e[I]).next(C=>{h[I]=C,++g,g===u&&r(h)},C=>o(C))}})}static doWhile(e,t){return new pe((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class qp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new ri,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Eh(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const o=fv(r.target.error);this.T.reject(new Eh(e,o))}}static open(e,t,r,o){try{return new qp(t,e.transaction(o,r))}catch(u){throw new Eh(t,u)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(He("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new qE(t)}}class Ss{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===Ss.v((0,an.z$)())&&br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return He("SimpleDb","Removing database:",e),Ja(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,an.hl)())return!1;if(Ss.S())return!0;const e=(0,an.z$)(),t=Ss.v(e),r=0<t&&t<10,o=Ss.D(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,Se.Z)(function*(){return t.db||(He("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=h=>{r(h.target.result)},u.onblocked=()=>{o(new Eh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=h=>{const g=h.target.error;o("VersionError"===g.name?new Ve(Ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Ve(Ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new Eh(e,g))},u.onupgradeneeded=h=>{He("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.P.O(h.target.result,u.transaction,h.oldVersion,t.version).next(()=>{He("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=r=>t.M(r)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,Se.Z)(function*(){const h="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.k(e);const E=qp.open(u.db,e,h?"readonly":"readwrite",r),I=o(E).next(C=>(E.R(),C)).catch(C=>(E.abort(C),pe.reject(C))).toPromise();return I.catch(()=>{}),yield E.A,I}catch(E){const I=E,C="FirebaseError"!==I.name&&g<3;if(He("SimpleDb","Transaction failed with error:",I.message,"Retrying:",C),u.close(),!C)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bD{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Ja(this.$.delete())}}class Eh extends Ve{constructor(e,t){super(Ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Qa(n){return"IndexedDbTransactionError"===n.name}class qE{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(He("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ja(r)}add(e){return He("SimpleDb","ADD",this.store.name,e,e),Ja(this.store.add(e))}get(e){return Ja(this.store.get(e)).next(t=>(void 0===t&&(t=null),He("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return He("SimpleDb","DELETE",this.store.name,e),Ja(this.store.delete(e))}count(){return He("SimpleDb","COUNT",this.store.name),Ja(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.G(o,(h,g)=>{u.push(g)}).next(()=>u)}{const o=this.store.getAll(r.range);return new pe((u,h)=>{o.onerror=g=>{h(g.target.error)},o.onsuccess=g=>{u(g.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new pe((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}W(e,t){He("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const o=this.cursor(r);return this.G(o,(u,h,g)=>g.delete())}J(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.G(o,t)}Y(e){const t=this.cursor({});return new pe((r,o)=>{t.onerror=u=>{const h=fv(u.target.error);o(h)},t.onsuccess=u=>{const h=u.target.result;h?e(h.primaryKey,h.value).next(g=>{g?h.continue():r()}):r()}})}G(e,t){const r=[];return new pe((o,u)=>{e.onerror=h=>{u(h.target.error)},e.onsuccess=h=>{const g=h.target.result;if(!g)return void o();const E=new bD(g),I=t(g.primaryKey,g.value,E);if(I instanceof pe){const C=I.catch(S=>(E.done(),pe.reject(S)));r.push(C)}E.isDone?o():null===E.U?g.continue():g.continue(E.U)}}).next(()=>pe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ja(n){return new pe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=fv(r.target.error);t(o)}})}let zE=!1;function fv(n){const e=Ss.v((0,an.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zE||(zE=!0,setTimeout(()=>{throw r},0)),r}}return n}class WE{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;He("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Se.Z)(function*(){t.task=null;try{He("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){Qa(r)?He("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ya(r)}yield t.Z(1)}))}}class ID{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Se.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let o=t,u=!0;return pe.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(h=>{if(null!==h&&!r.has(h))return He("IndexBackiller",`Processing collection: ${h}`),this.nt(e,h,o).next(g=>{o-=g,r.add(h)});u=!1})).next(()=>t-o)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const h=u.changes;return this.localStore.indexManager.updateIndexEntries(e,h).next(()=>this.st(o,u)).next(g=>(He("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>h.size)}))}st(e,t){let r=e;return t.changes.forEach((o,u)=>{const h=HE(u);_h(h,r)>0&&(r=h)}),new zi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Pi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function KE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Jo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zp(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Pi.ot=-1;class nr{constructor(e,t){this.comparator=e,this.root=t||ii.EMPTY}insert(e,t){return new nr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ii.BLACK,null,null))}remove(e){return new nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ii.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _l(this.root,e,this.comparator,!1)}getReverseIterator(){return new _l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _l(this.root,e,this.comparator,!0)}}class _l{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ii{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:ii.RED,this.left=null!=o?o:ii.EMPTY,this.right=null!=u?u:ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new ii(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return ii.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}ii.EMPTY=null,ii.RED=!0,ii.BLACK=!1,ii.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,e,t,r,o){return this}insert(n,e,t){return new ii(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sn{constructor(e){this.comparator=e,this.data=new nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wp(this.data.getIterator())}getIteratorFrom(e){return new Wp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Sn(this.comparator);return t.data=e,t}}class Wp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function El(n){return n.hasNext()?n.getNext():void 0}class ki{constructor(e){this.fields=e,e.sort(Ir.comparator)}static empty(){return new ki([])}unionWith(e){let t=new Sn(Ir.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ki(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Or{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Or(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Or(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Or.EMPTY_BYTE_STRING=new Or("");const CD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(n){if(Mt(!!n),"string"==typeof n){let e=0;const t=CD.exec(n);if(Mt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dr(n.seconds),nanos:Dr(n.nanos)}}function Dr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sc(n){return"string"==typeof n?Or.fromBase64String(n):Or.fromUint8Array(n)}function wl(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function YE(n){const e=n.mapValue.fields.__previous_value__;return wl(e)?YE(e):e}function oo(n){const e=Xo(n.mapValue.fields.__local_write_time__.timestampValue);return new bn(e.seconds,e.nanos)}class wh{constructor(e,t,r,o,u,h,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.useFetchStreams=E}}class ea{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ea("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ea&&e.projectId===this.projectId&&e.database===this.database}}function Kp(n){return null==n}function bl(n){return 0===n&&1/n==-1/0}function QE(n){return"number"==typeof n&&Number.isInteger(n)&&!bl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Xa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yp={nullValue:"NULL_VALUE"};function oc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wl(n)?4:XE(n)?9007199254740991:10:ft()}function xs(n,e){if(n===e)return!0;const t=oc(n);if(t!==oc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return oo(n).isEqual(oo(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Xo(r.timestampValue),h=Xo(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,sc(n.bytesValue).isEqual(sc(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Dr(r.geoPointValue.latitude)===Dr(o.geoPointValue.latitude)&&Dr(r.geoPointValue.longitude)===Dr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Dr(r.integerValue)===Dr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Dr(r.doubleValue),h=Dr(o.doubleValue);return u===h?bl(u)===bl(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return ml(n.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:return function(r,o){const u=r.mapValue.fields||{},h=o.mapValue.fields||{};if(KE(u)!==KE(h))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===h[g]||!xs(u[g],h[g])))return!1;return!0}(n,e);default:return ft()}var o}function Il(n,e){return void 0!==(n.values||[]).find(t=>xs(t,e))}function ao(n,e){if(n===e)return 0;const t=oc(n),r=oc(e);if(t!==r)return qt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=Dr(o.integerValue||o.doubleValue),g=Dr(u.integerValue||u.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1}(n,e);case 3:return bh(n.timestampValue,e.timestampValue);case 4:return bh(oo(n),oo(e));case 5:return qt(n.stringValue,e.stringValue);case 6:return function(o,u){const h=sc(o),g=sc(u);return h.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),g=u.split("/");for(let E=0;E<h.length&&E<g.length;E++){const I=qt(h[E],g[E]);if(0!==I)return I}return qt(h.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=qt(Dr(o.latitude),Dr(u.latitude));return 0!==h?h:qt(Dr(o.longitude),Dr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const h=o.values||[],g=u.values||[];for(let E=0;E<h.length&&E<g.length;++E){const I=ao(h[E],g[E]);if(I)return I}return qt(h.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Xa.mapValue&&u===Xa.mapValue)return 0;if(o===Xa.mapValue)return 1;if(u===Xa.mapValue)return-1;const h=o.fields||{},g=Object.keys(h),E=u.fields||{},I=Object.keys(E);g.sort(),I.sort();for(let C=0;C<g.length&&C<I.length;++C){const S=qt(g[C],I[C]);if(0!==S)return S;const G=ao(h[g[C]],E[I[C]]);if(0!==G)return G}return qt(g.length,I.length)}(n.mapValue,e.mapValue);default:throw ft()}}function bh(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qt(n,e);const t=Xo(n),r=Xo(e),o=qt(t.seconds,r.seconds);return 0!==o?o:qt(t.nanos,r.nanos)}function uo(n){return pv(n)}function pv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Xo(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sc(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const h of r.values||[])u?u=!1:o+=",",o+=pv(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const g of o)h?h=!1:u+=",",u+=`${g}:${pv(r.fields[g])}`;return u+"}"}(n.mapValue):ft();var e}function eu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Qp(n){return!!n&&"integerValue"in n}function Ih(n){return!!n&&"arrayValue"in n}function JE(n){return!!n&&"nullValue"in n}function Jp(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xp(n){return!!n&&"mapValue"in n}function eg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Jo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=eg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=eg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function XE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function TD(n){return"nullValue"in n?Yp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?eu(ea.empty(),nt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function Dl(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?eu(ea.empty(),nt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Xa:ft()}function gv(n,e){const t=ao(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function ac(n,e){const t=ao(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Xp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eg(t)}setAll(e){let t=Ir.emptyPath(),r={},o=[];e.forEach((h,g)=>{if(!t.isImmediateParentOf(g)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=g.popLast()}h?r[g.lastSegment()]=eg(h):o.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Xp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Xp(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Jo(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new fi(eg(this.value))}}function mv(n){const e=[];return Jo(n.fields,(t,r)=>{const o=new Ir([t]);if(Xp(r)){const u=mv(r.mapValue).fields;if(0===u.length)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new ki(e)}class Fn{constructor(e,t,r,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Fn(e,0,xt.min(),xt.min(),fi.empty(),0)}static newFoundDocument(e,t,r){return new Fn(e,1,t,xt.min(),r,0)}static newNoDocument(e,t){return new Fn(e,2,t,xt.min(),fi.empty(),0)}static newUnknownDocument(e,t){return new Fn(e,3,t,xt.min(),fi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class VA{constructor(e,t=null,r=[],o=[],u=null,h=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=g,this.ut=null}}function yv(n,e=null,t=[],r=[],o=null,u=null,h=null){return new VA(n,e,t,r,o,u,h)}function Cl(n){const e=ut(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+uo(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Kp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>uo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>uo(r)).join(",")),e.ut=t}return e.ut}function uc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!ow(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!xs(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uw(n.startAt,e.startAt)&&uw(n.endAt,e.endAt)}function tg(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ng(n,e){return n.filters.filter(t=>t instanceof si&&t.field.isEqual(e))}function tw(n,e,t){let r=Yp,o=!0;for(const u of ng(n,e)){let h=Yp,g=!0;switch(u.op){case"<":case"<=":h=TD(u.value);break;case"==":case"in":case">=":h=u.value;break;case">":h=u.value,g=!1;break;case"!=":case"not-in":h=Yp}gv({value:r,inclusive:o},{value:h,inclusive:g})<0&&(r=h,o=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const h=t.position[u];gv({value:r,inclusive:o},{value:h,inclusive:t.inclusive})<0&&(r=h,o=t.inclusive);break}return{value:r,inclusive:o}}function nw(n,e,t){let r=Xa,o=!0;for(const u of ng(n,e)){let h=Xa,g=!0;switch(u.op){case">=":case">":h=Dl(u.value),g=!1;break;case"==":case"in":case"<=":h=u.value;break;case"<":h=u.value,g=!1;break;case"!=":case"not-in":h=Xa}ac({value:r,inclusive:o},{value:h,inclusive:g})>0&&(r=h,o=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const h=t.position[u];ac({value:r,inclusive:o},{value:h,inclusive:t.inclusive})>0&&(r=h,o=t.inclusive);break}return{value:r,inclusive:o}}class si extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new AD(e,t,r):"array-contains"===t?new MD(e,r):"in"===t?new Dh(e,r):"not-in"===t?new iw(e,r):"array-contains-any"===t?new sw(e,r):new si(e,t,r)}static ct(e,t,r){return"in"===t?new SD(e,r):new xD(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(ao(t,this.value)):null!==t&&oc(this.value)===oc(t)&&this.at(ao(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ft()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class AD extends si{constructor(e,t,r){super(e,t,r),this.key=nt.fromName(r.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.at(t)}}class SD extends si{constructor(e,t){super(e,"in",t),this.keys=rw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xD extends si{constructor(e,t){super(e,"not-in",t),this.keys=rw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>nt.fromName(r.referenceValue))}class MD extends si{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ih(t)&&Il(t.arrayValue,this.value)}}class Dh extends si{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Il(this.value.arrayValue,t)}}class iw extends si{constructor(e,t){super(e,"not-in",t)}matches(e){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Il(this.value.arrayValue,t)}}class sw extends si{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ih(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Il(this.value.arrayValue,r))}}class ta{constructor(e,t){this.position=e,this.inclusive=t}}class cc{constructor(e,t="asc"){this.field=e,this.dir=t}}function ow(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function aw(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],h=n.position[o];if(r=u.field.isKeyField()?nt.comparator(nt.fromName(h.referenceValue),t.key):ao(h,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function uw(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xs(n.position[t],e.position[t]))return!1;return!0}class na{constructor(e,t=null,r=[],o=[],u=null,h="F",g=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=g,this.endAt=E,this.lt=null,this.ft=null}}function cw(n,e,t,r,o,u,h,g){return new na(n,e,t,r,o,u,h,g)}function Tl(n){return new na(n)}function vv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function lc(n){for(const e of n.filters)if(e.ht())return e.field;return null}function _v(n){return null!==n.collectionGroup}function tu(n){const e=ut(n);if(null===e.lt){e.lt=[];const t=lc(e),r=vv(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new cc(t)),e.lt.push(new cc(Ir.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.lt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new cc(Ir.keyField(),u))}}}return e.lt}function Cr(n){const e=ut(n);if(!e.ft)if("F"===e.limitType)e.ft=yv(e.path,e.collectionGroup,tu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of tu(e))t.push(new cc(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new ta(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new ta(e.startAt.position,e.startAt.inclusive):null;e.ft=yv(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.ft}function lw(n,e,t){return new na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dc(n,e){return uc(Cr(n),Cr(e))&&n.limitType===e.limitType}function Al(n){return`${Cl(Cr(n))}|lt:${n.limitType}`}function Ev(n){return`Query(target=${function ew(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${uo(r.value)}`;var r}).join(", ")}]`),Kp(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>uo(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>uo(t)).join(",")),`Target(${e})`}(Cr(n))}; limitType=${n.limitType})`}function wv(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):nt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,h){const g=aw(o,u,h);return o.inclusive?g<=0:g<0}(t.startAt,tu(t),r)||t.endAt&&!function(o,u,h){const g=aw(o,u,h);return o.inclusive?g>=0:g>0}(t.endAt,tu(t),r)));var t,r}function dw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ch(n){return(e,t)=>{let r=!1;for(const o of tu(n)){const u=rg(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function rg(n,e,t){const r=n.field.isKeyField()?nt.comparator(e.key,t.key):function(o,u,h){const g=u.data.field(o),E=h.data.field(o);return null!==g&&null!==E?ao(g,E):ft()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}function hw(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bl(e)?"-0":e}}function fw(n){return{integerValue:""+n}}function bv(n,e){return QE(e)?fw(e):hw(n,e)}class Th{constructor(){this._=void 0}}function Iv(n,e,t){return n instanceof Sl?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof xl?ig(n,e):n instanceof ra?Dv(n,e):function(r,o){const u=gw(r,o),h=sg(u)+sg(r._t);return Qp(u)&&Qp(r._t)?fw(h):hw(r.wt,h)}(n,e)}function pw(n,e,t){return n instanceof xl?ig(n,e):n instanceof ra?Dv(n,e):t}function gw(n,e){return n instanceof nu?Qp(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Sl extends Th{}class xl extends Th{constructor(e){super(),this.elements=e}}function ig(n,e){const t=mw(e);for(const r of n.elements)t.some(o=>xs(o,r))||t.push(r);return{arrayValue:{values:t}}}class ra extends Th{constructor(e){super(),this.elements=e}}function Dv(n,e){let t=mw(e);for(const r of n.elements)t=t.filter(o=>!xs(o,r));return{arrayValue:{values:t}}}class nu extends Th{constructor(e,t){super(),this.wt=e,this._t=t}}function sg(n){return Dr(n.integerValue||n.doubleValue)}function mw(n){return Ih(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ah{constructor(e,t){this.field=e,this.transform=t}}class ND{constructor(e,t){this.version=e,this.transformResults=t}}class Yn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ml(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Sh{}function yw(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ms(n.key,Yn.none()):new hc(n.key,n.data,Yn.none());{const t=n.data,r=fi.empty();let o=new Sn(Ir.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);null===h&&u.length>1&&(u=u.popLast(),h=t.field(u)),null===h?r.delete(u):r.set(u,h),o=o.add(u)}return new ia(n.key,r,new ki(o.toArray()),Yn.none())}}function vw(n,e,t){n instanceof hc?function(r,o,u){const h=r.value.clone(),g=_w(r.fieldTransforms,o,u.transformResults);h.setAll(g),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ia?function(r,o,u){if(!Ml(r.precondition,o))return void o.convertToUnknownDocument(u.version);const h=_w(r.fieldTransforms,o,u.transformResults),g=o.data;g.setAll(Tv(r)),g.setAll(h),o.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Rl(n,e,t,r){return n instanceof hc?function(o,u,h,g){if(!Ml(o.precondition,u))return h;const E=o.value.clone(),I=pi(o.fieldTransforms,g,u);return E.setAll(I),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),null}(n,e,t,r):n instanceof ia?function(o,u,h,g){if(!Ml(o.precondition,u))return h;const E=pi(o.fieldTransforms,g,u),I=u.data;return I.setAll(Tv(o)),I.setAll(E),u.convertToFoundDocument(u.version,I).setHasLocalMutations(),null===h?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(C=>C.field))}(n,e,t,r):(h=t,Ml(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h);var u,h}function PD(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=gw(r.transform,o||null);null!=u&&(null===t&&(t=fi.empty()),t.set(r.field,u))}return t||null}function Cv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ml(t,r,(o,u)=>function OD(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof xl&&r instanceof xl||t instanceof ra&&r instanceof ra?ml(t.elements,r.elements,xs):t instanceof nu&&r instanceof nu?xs(t._t,r._t):t instanceof Sl&&r instanceof Sl);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class hc extends Sh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ia extends Sh{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Tv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function _w(n,e,t){const r=new Map;Mt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],h=u.transform,g=e.data.field(u.field);r.set(u.field,pw(h,g,t[o]))}return r}function pi(n,e,t){const r=new Map;for(const o of n){const u=o.transform,h=t.data.field(o.field);r.set(o.field,Iv(u,h,e))}return r}class Ms extends Sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Av extends Sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kD{constructor(e){this.count=e}}var kr,on;function Ew(n){switch(n){default:return ft();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function og(n){if(void 0===n)return br("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case kr.OK:return Ee.OK;case kr.CANCELLED:return Ee.CANCELLED;case kr.UNKNOWN:return Ee.UNKNOWN;case kr.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case kr.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case kr.INTERNAL:return Ee.INTERNAL;case kr.UNAVAILABLE:return Ee.UNAVAILABLE;case kr.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case kr.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case kr.NOT_FOUND:return Ee.NOT_FOUND;case kr.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case kr.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case kr.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case kr.ABORTED:return Ee.ABORTED;case kr.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case kr.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case kr.DATA_LOSS:return Ee.DATA_LOSS;default:return ft()}}(on=kr||(kr={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";class ru{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Jo(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return zp(this.inner)}size(){return this.innerSize}}const ww=new nr(nt.comparator);function Fi(){return ww}const bw=new nr(nt.comparator);function fc(...n){let e=bw;for(const t of n)e=e.insert(t.key,t);return e}function Sv(n){let e=bw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Rs(){return pc()}function xh(){return pc()}function pc(){return new ru(n=>n.toString(),(n,e)=>n.isEqual(e))}const BA=new nr(nt.comparator),Iw=new Sn(nt.comparator);function Kt(...n){let e=Iw;for(const t of n)e=e.add(t);return e}const Dw=new Sn(qt);function gc(){return Dw}class Ol{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Mh.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ol(xt.min(),r,gc(),Fi(),Kt())}}class Mh{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Mh(Or.EMPTY_BYTE_STRING,t,Kt(),Kt(),Kt())}}class Nl{constructor(e,t,r,o){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=o}}class ag{constructor(e,t){this.targetId=e,this.It=t}}class FD{constructor(e,t,r=Or.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Cw{constructor(){this.Tt=0,this.Et=Mv(),this.At=Or.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Kt(),t=Kt(),r=Kt();return this.Et.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ft()}}),new Mh(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=Mv()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class LD{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Fi(),this.Bt=xv(),this.Lt=new Sn(qt)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,o)=>{this.jt(o)&&t(o)})}zt(e){const t=e.targetId,r=e.It.count,o=this.Ht(t);if(o){const u=o.target;if(tg(u))if(0===r){const h=new nt(u.path);this.Kt(t,h,Fn.newNoDocument(h,xt.min()))}else Mt(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((u,h)=>{const g=this.Ht(h);if(g){if(u.current&&tg(g.target)){const E=new nt(g.target.path);null!==this.$t.get(E)||this.Xt(h,E)||this.Kt(h,E,Fn.newNoDocument(E,e))}u.vt&&(t.set(h,u.St()),u.Dt())}});let r=Kt();this.Bt.forEach((u,h)=>{let g=!0;h.forEachWhile(E=>{const I=this.Ht(E);return!I||2===I.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.$t.forEach((u,h)=>h.setReadTime(e));const o=new Ol(e,t,this.Lt,this.$t,r);return this.$t=Fi(),this.Bt=xv(),this.Lt=new Sn(qt),o}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const o=this.Qt(e);this.Xt(e,t)?o.Ct(t,1):o.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new Cw,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Sn(qt),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||He("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new Cw),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function xv(){return new nr(nt.comparator)}function Mv(){return new nr(nt.comparator)}const UD={asc:"ASCENDING",desc:"DESCENDING"},Tw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Aw{constructor(e,t){this.databaseId=e,this.dt=t}}function Rh(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sw(n,e){return n.dt?e.toBase64():e.toUint8Array()}function xw(n,e){return Rh(n,e.toTimestamp())}function qr(n){return Mt(!!n),xt.fromTimestamp(function(e){const t=Xo(e);return new bn(t.seconds,t.nanos)}(n))}function ug(n,e){return(t=n,new hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Rv(n){const e=hn.fromString(n);return Mt(ZD(e)),e}function Pl(n,e){return ug(n.databaseId,e.path)}function Os(n,e){const t=Rv(e);if(t.get(1)!==n.databaseId.projectId)throw new Ve(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ve(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nt(Nv(t))}function Ov(n,e){return ug(n.databaseId,e)}function Mw(n){const e=Rv(n);return 4===e.length?hn.emptyPath():Nv(e)}function cg(n){return new hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Nv(n){return Mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function VD(n,e,t){return{name:Pl(n,e),fields:t.value.mapValue.fields}}function BD(n,e,t){const r=Os(n,e.name),o=qr(e.updateTime),u=new fi({mapValue:{fields:e.fields}}),h=Fn.newFoundDocument(r,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function lg(n,e){let t;if(e instanceof hc)t={update:VD(n,e.key,e.value)};else if(e instanceof Ms)t={delete:Pl(n,e.key)};else if(e instanceof ia)t={update:VD(n,e.key,e.data),updateMask:Lw(e.fieldMask)};else{if(!(e instanceof Av))return ft();t={verify:Pl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof Sl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof xl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ra)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof nu)return{fieldPath:u.field.canonicalString(),increment:h._t};throw ft()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:xw(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ft()),t;var o}function Rw(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Yn.updateTime(qr(o.updateTime)):void 0!==o.exists?Yn.exists(o.exists):Yn.none():Yn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,h){let g=null;"setToServerValue"in h?(Mt("REQUEST_TIME"===h.setToServerValue),g=new Sl):"appendMissingElements"in h?g=new xl(h.appendMissingElements.values||[]):"removeAllFromArray"in h?g=new ra(h.removeAllFromArray.values||[]):"increment"in h?g=new nu(u,h.increment):ft();const E=Ir.fromServerFormat(h.fieldPath);return new Ah(E,g)}(n,o)):[];var o;if(e.update){const o=Os(n,e.update.name),u=new fi({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new ki((e.updateMask.fieldPaths||[]).map(I=>Ir.fromServerFormat(I)));return new ia(o,u,h,t,r)}return new hc(o,u,t,r)}if(e.delete){const o=Os(n,e.delete);return new Ms(o,t)}if(e.verify){const o=Os(n,e.verify);return new Av(o,t)}return ft()}function jD(n,e){return{documents:[Ov(n,e.path)]}}function Oh(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Ov(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ov(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0===E.length)return;const I=E.map(C=>function(S){if("=="===S.op){if(Jp(S.value))return{unaryFilter:{field:Nh(S.field),op:"IS_NAN"}};if(JE(S.value))return{unaryFilter:{field:Nh(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(Jp(S.value))return{unaryFilter:{field:Nh(S.field),op:"IS_NOT_NAN"}};if(JE(S.value))return{unaryFilter:{field:Nh(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nh(S.field),op:Pw(S.op),value:S.value}}}(C));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(E){if(0!==E.length)return E.map(I=>{return{field:Nh((C=I).field),direction:Nw(C.dir)};var C})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=(I=e.limit,n.dt||Kp(I)?I:{value:I});var I,g,E;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function $D(n){let e=Mw(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Mt(1===r);const C=t.from[0];C.allDescendants?o=C.collectionId:e=e.child(C.collectionId)}let u=[];t.where&&(u=dg(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(C=>{return new cc(iu((S=C).field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let g=null;t.limit&&(g=function(C){let S;return S="object"==typeof C?C.value:C,Kp(S)?null:S}(t.limit));let E=null;var C;t.startAt&&(E=new ta((C=t.startAt).values||[],!!C.before));let I=null;return t.endAt&&(I=function(C){return new ta(C.values||[],!C.before)}(t.endAt)),cw(e,o,h,u,g,"F",E,I)}function dg(n){return n?void 0!==n.unaryFilter?[Fw(n)]:void 0!==n.fieldFilter?[kw(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>dg(e)).reduce((e,t)=>e.concat(t)):ft():[]}function Nw(n){return UD[n]}function Pw(n){return Tw[n]}function Nh(n){return{fieldPath:n.canonicalString()}}function iu(n){return Ir.fromServerFormat(n.fieldPath)}function kw(n){return si.create(iu(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(n.fieldFilter.op),n.fieldFilter.value)}function Fw(n){switch(n.unaryFilter.op){case"IS_NAN":const e=iu(n.unaryFilter.field);return si.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=iu(n.unaryFilter.field);return si.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=iu(n.unaryFilter.field);return si.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=iu(n.unaryFilter.field);return si.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}function Lw(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ZD(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function gi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hg(e)),e=HD(n.get(t),e);return hg(e)}function HD(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function hg(n){return n+"\x01\x01"}function co(n){const e=n.length;if(Mt(e>=2),2===e)return Mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),hn.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const h=n.indexOf("\x01",u);switch((h<0||h>t)&&ft(),n.charAt(h+1)){case"\x01":const g=n.substring(u,h);let E;0===o.length?E=g:(o+=g,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(u,h),o+="\0";break;case"\x11":o+=n.substring(u,h+1);break;default:ft()}u=h+2}return new hn(r)}const GD=["userId","batchId"];function Pv(n,e){return[n,gi(e)]}function qD(n,e,t){return[n,gi(e),t]}const zD={},WD=["prefixPath","collectionGroup","readTime","documentId"],KD=["prefixPath","collectionGroup","documentId"],HA=["collectionGroup","readTime","prefixPath","documentId"],YD=["canonicalId","targetId"],kv=["targetId","path"],QD=["path","targetId"],Ns=["collectionId","parent"],JD=["indexId","uid"],Fv=["uid","sequenceNumber"],XD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],eC=["indexId","uid","orderedDocumentKey"],Lv=["userId","collectionPath","documentId"],Uw=["userId","collectionPath","largestBatchId"],Vw=["userId","collectionGroup","largestBatchId"],Bw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jw=[...Bw,"documentOverlays"],Uv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$w=Uv,tC=[...$w,"indexConfiguration","indexState","indexEntries"];class Ph extends dv{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function xn(n,e){const t=ut(n);return Ss.N(t.ee,e)}class Vv{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&vw(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Rl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Rl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=xh();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let g=this.applyToLocalView(h,u.mutatedFields);g=t.has(o.key)?null:g;const E=yw(h,g);null!==E&&r.set(o.key,E),h.isValidDocument()||h.convertToNoDocument(xt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Kt())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,(t,r)=>Cv(t,r))&&ml(this.baseMutations,e.baseMutations,(t,r)=>Cv(t,r))}}class Zw{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Mt(e.mutations.length===r.length);let o=BA;const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Zw(e,t,r,o)}}class Bv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sa{constructor(e,t,r,o,u=xt.min(),h=xt.min(),g=Or.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g}withSequenceNumber(e){return new sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Hw{constructor(e){this.ne=e}}function jv(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:fg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Pl(o=n.ne,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Rh(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:kl(e.version)};else{if(!e.isUnknownDocument())return ft();r.unknownDocument={path:t.path.toArray(),version:kl(e.version)}}var o,u;return r}function fg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function kl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function su(n){const e=new bn(n.seconds,n.nanoseconds);return xt.fromTimestamp(e)}function ou(n,e){const t=(e.baseMutations||[]).map(u=>Rw(n.ne,u));for(let u=0;u<e.mutations.length-1;++u){const h=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(h.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Rw(n.ne,u)),o=bn.fromMillis(e.localWriteTimeMs);return new Vv(e.batchId,o,t,r)}function kh(n){const e=su(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?su(n.lastLimboFreeSnapshotVersion):xt.min();let r;var o;return void 0!==n.query.documents?(Mt(1===(o=n.query).documents.length),r=Cr(Tl(Mw(o.documents[0])))):r=Cr($D(n.query)),new sa(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Or.fromBase64String(n.resumeToken))}function Gw(n,e){const t=kl(e.snapshotVersion),r=kl(e.lastLimboFreeSnapshotVersion);let o;o=tg(e.target)?jD(n.ne,e.target):Oh(n.ne,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Cl(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function pg(n){const e=$D({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?lw(e,e.limit,"L"):e}function Fh(n,e){return new Bv(e.largestBatchId,Rw(n.ne,e.overlayMutation))}function gg(n,e){const t=e.path.lastSegment();return[n,gi(e.path.popLast()),t]}function $v(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:kl(r.readTime),documentKey:gi(r.documentKey.path),largestBatchId:r.largestBatchId}}class rC{getBundleMetadata(e,t){return Zv(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:su(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Zv(e).put({bundleId:(r=t).id,createTime:kl(qr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Hv(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:pg(o.bundledQuery),readTime:su(o.readTime)};var o})}saveNamedQuery(e,t){return Hv(e).put({name:(r=t).name,readTime:kl(qr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Zv(n){return xn(n,"bundles")}function Hv(n){return xn(n,"namedQueries")}class mg{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new mg(e,t.uid||"")}getOverlay(e,t){return Lh(e).get(gg(this.userId,t)).next(r=>r?Fh(this.wt,r):null)}getOverlays(e,t){const r=Rs();return pe.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,h)=>{const g=new Bv(t,h);o.push(this.ie(e,g))}),pe.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(h=>o.add(gi(h.getCollectionPath())));const u=[];return o.forEach(h=>{const g=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);u.push(Lh(e).W("collectionPathOverlayIndex",g))}),pe.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Rs(),u=gi(t),h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Lh(e).K("collectionPathOverlayIndex",h).next(g=>{for(const E of g){const I=Fh(this.wt,E);o.set(I.getKey(),I)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Rs();let h;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Lh(e).J({index:"collectionGroupOverlayIndex",range:g},(E,I,C)=>{const S=Fh(this.wt,I);u.size()<o||S.largestBatchId===h?(u.set(S.getKey(),S),h=S.largestBatchId):C.done()}).next(()=>u)}ie(e,t){return Lh(e).put(function(r,o,u){const[h,g,E]=gg(o,u.mutation.key);return{userId:o,collectionPath:g,documentId:E,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:lg(r.ne,u.mutation)}}(this.wt,this.userId,t))}}function Lh(n){return xn(n,"documentOverlays")}class Fl{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Dr(e.integerValue));else if("doubleValue"in e){const r=Dr(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),bl(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(sc(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?XE(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):ft()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const o of Object.keys(r))this.le(o,t),this.oe(r[o],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const o of r)this.oe(o,t)}_e(e,t){this.ce(t,37),nt.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function GA(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Gv(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=GA(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Fl.ye=new Fl;class iC{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const o=t.codePointAt(0);this.Ie(240|o>>>18),this.Ie(128|63&o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}ve(e){const t=this.Ve(e),r=Gv(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}De(e){const t=this.Ve(e),r=Gv(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class sC{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class oC{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class yg{constructor(){this.Me=new iC,this.Fe=new sC(this.Me),this.$e=new oC(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Ll{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ll(this.indexId,this.documentKey,this.arrayValue,r)}}function Ul(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=aC(n.arrayValue,e.arrayValue),0!==t?t:(t=aC(n.directionalValue,e.directionalValue),0!==t?t:nt.comparator(n.documentKey,e.documentKey)))}function aC(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class qA{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=yh(e);if(void 0!==t&&!this.Qe(t))return!1;const r=ic(e);let o=0,u=0;for(;o<r.length&&this.Qe(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Ke){const h=r[o];if(!this.je(this.Ke,h)||!this.We(this.Ue[u++],h))return!1;++o}for(;o<r.length;++o){const h=r[o];if(u>=this.Ue.length||!this.We(this.Ue[u++],h))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class uC{constructor(){this.ze=new Vl}addToCollectionParentIndex(e,t){return this.ze.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(zi.min())}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class Vl{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Sn(hn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Sn(hn.comparator)).toArray()}}const vg=new Uint8Array(0);class cC{constructor(e,t){this.user=e,this.databaseId=t,this.He=new Vl,this.Je=new ru(r=>Cl(r),(r,o)=>uc(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const u={collectionId:r,parent:gi(o)};return qv(e).put(u)}return pe.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[jE(t),""],!1,!0);return qv(e).K(o).next(u=>{for(const h of u){if(h.collectionId!==t)break;r.push(co(h.parent))}return r})}addFieldIndex(e,t){const r=Uh(e),o={indexId:(h=t).indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var h;delete o.indexId;const u=r.add(o);if(t.indexState){const h=mc(e);return u.next(g=>{h.put($v(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Uh(e),o=mc(e),u=Ps(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ps(e);let o=!0;const u=new Map;return pe.forEach(this.Ye(t),h=>this.Xe(e,h).next(g=>{o&&(o=!!g),u.set(h,g)})).next(()=>{if(o){let h=Kt();const g=[];return pe.forEach(u,(E,I)=>{var C;He("IndexedDbIndexManager",`Using index ${C=E,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(ln=>`${ln.fieldPath}:${ln.kind}`).join(",")}`} to execute ${Cl(t)}`);const S=function(ln,Yt){const un=yh(Yt);if(void 0===un)return null;for(const In of ng(ln,un.fieldPath))switch(In.op){case"array-contains-any":return In.value.arrayValue.values||[];case"array-contains":return[In.value]}return null}(I,E),G=function(ln,Yt){const un=new Map;for(const In of ic(Yt))for(const Ui of ng(ln,In.fieldPath))switch(Ui.op){case"==":case"in":un.set(In.fieldPath.canonicalString(),Ui.value);break;case"not-in":case"!=":return un.set(In.fieldPath.canonicalString(),Ui.value),Array.from(un.values())}return null}(I,E),W=function(ln,Yt){const un=[];let In=!0;for(const Ui of ic(Yt)){const g_=0===Ui.kind?tw(ln,Ui.fieldPath,ln.startAt):nw(ln,Ui.fieldPath,ln.startAt);un.push(g_.value),In&&(In=g_.inclusive)}return new ta(un,In)}(I,E),he=function(ln,Yt){const un=[];let In=!0;for(const Ui of ic(Yt)){const g_=0===Ui.kind?nw(ln,Ui.fieldPath,ln.endAt):tw(ln,Ui.fieldPath,ln.endAt);un.push(g_.value),In&&(In=g_.inclusive)}return new ta(un,In)}(I,E),Ze=this.Ze(E,I,W),Je=this.Ze(E,I,he),Nt=this.tn(E,I,G),Pt=this.en(E.indexId,S,Ze,W.inclusive,Je,he.inclusive,Nt);return pe.forEach(Pt,ln=>r.j(ln,t.limit).next(Yt=>{Yt.forEach(un=>{const In=nt.fromSegments(un.documentKey);h.has(In)||(h=h.add(In),g.push(In))})}))}).next(()=>g)}return pe.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,o,u,h,g){const E=(null!=t?t.length:1)*Math.max(r.length,u.length),I=E/(null!=t?t.length:1),C=[];for(let S=0;S<E;++S){const G=t?this.nn(t[S/I]):vg,W=this.sn(e,G,r[S%I],o),he=this.rn(e,G,u[S%I],h),Ze=g.map(Je=>this.sn(e,G,Je,!0));C.push(...this.createRange(W,he,Ze))}return C}sn(e,t,r,o){const u=new Ll(e,nt.empty(),t,r);return o?u:u.Le()}rn(e,t,r,o){const u=new Ll(e,nt.empty(),t,r);return o?u.Le():u}Xe(e,t){const r=new qA(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let h=null;for(const g of u)r.Ge(g)&&(!h||g.fields.length>h.fields.length)&&(h=g);return h})}getIndexType(e,t){let r=2;return pe.forEach(this.Ye(t),o=>this.Xe(e,o).next(u=>{u?0!==r&&u.fields.length<function(h){let g=new Sn(Ir.comparator),E=!1;for(const I of h.filters){const C=I;C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?E=!0:g=g.add(C.field))}for(const I of h.orderBy)I.field.isKeyField()||(g=g.add(I.field));return g.size+(E?1:0)}(o)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new yg;for(const o of ic(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const h=r.Be(o.kind);Fl.ye.re(u,h)}return r.Oe()}nn(e){const t=new yg;return Fl.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const r=new yg;return Fl.ye.re(eu(this.databaseId,t),r.Be(function(o){const u=ic(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Oe()}tn(e,t,r){if(null===r)return[];let o=[];o.push(new yg);let u=0;for(const h of ic(e)){const g=r[u++];for(const E of o)if(this.cn(t,h.fieldPath)&&Ih(g))o=this.an(o,h,g);else{const I=E.Be(h.kind);Fl.ye.re(g,I)}}return this.hn(o)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Oe();return t}an(e,t,r){const o=[...e],u=[];for(const h of r.arrayValue.values||[])for(const g of o){const E=new yg;E.seed(g.Oe()),Fl.ye.re(h,E.Be(t.kind)),u.push(E)}return u}cn(e,t){return!!e.filters.find(r=>r instanceof si&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Uh(e),o=mc(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(u=>{const h=[];return pe.forEach(u,g=>o.get([g.indexId,this.uid]).next(E=>{h.push(function(I,C){const S=C?new vl(C.sequenceNumber,new zi(su(C.readTime),new nt(co(C.documentKey)),C.largestBatchId)):vl.empty(),G=I.fields.map(([W,he])=>new vh(Ir.fromServerFormat(W),he));return new Gp(I.indexId,I.collectionGroup,G,S)}(g,E))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:qt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Uh(e),u=mc(e);return this.ln(e).next(h=>o.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>pe.forEach(g,E=>u.put($v(E.indexId,this.user,h,r)))))}updateIndexEntries(e,t){const r=new Map;return pe.forEach(t,(o,u)=>{const h=r.get(o.collectionGroup);return(h?pe.resolve(h):this.getFieldIndexes(e,o.collectionGroup)).next(g=>(r.set(o.collectionGroup,g),pe.forEach(g,E=>this.fn(e,o,E).next(I=>{const C=this.dn(u,E);return I.isEqual(C)?pe.resolve():this._n(e,u,E,I,C)}))))})}wn(e,t,r,o){return Ps(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,o){return Ps(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const o=Ps(e);let u=new Sn(Ul);return o.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(h,g)=>{u=u.add(new Ll(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}dn(e,t){let r=new Sn(Ul);const o=this.on(t,e);if(null==o)return r;const u=yh(t);if(null!=u){const h=e.data.field(u.fieldPath);if(Ih(h))for(const g of h.arrayValue.values||[])r=r.add(new Ll(t.indexId,e.key,this.nn(g),o))}else r=r.add(new Ll(t.indexId,e.key,vg,o));return r}_n(e,t,r,o,u){He("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(g,E,I,C,S){const G=g.getIterator(),W=E.getIterator();let he=El(G),Ze=El(W);for(;he||Ze;){let Je=!1,Nt=!1;if(he&&Ze){const Pt=I(he,Ze);Pt<0?Nt=!0:Pt>0&&(Je=!0)}else null!=he?Nt=!0:Je=!0;Je?(C(Ze),Ze=El(W)):Nt?(S(he),he=El(G)):(he=El(G),Ze=El(W))}}(o,u,Ul,g=>{h.push(this.wn(e,t,r,g))},g=>{h.push(this.mn(e,t,r,g))}),pe.waitFor(h)}ln(e){let t=1;return mc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,g)=>Ul(h,g)).filter((h,g,E)=>!g||0!==Ul(h,E[g-1]));const o=[];o.push(e);for(const h of r){const g=Ul(h,e),E=Ul(h,t);if(0===g)o[0]=e.Le();else if(g>0&&E<0)o.push(h),o.push(h.Le());else if(E>0)break}o.push(t);const u=[];for(let h=0;h<o.length;h+=2)u.push(IDBKeyRange.bound([o[h].indexId,this.uid,o[h].arrayValue,o[h].directionalValue,vg,[]],[o[h+1].indexId,this.uid,o[h+1].arrayValue,o[h+1].directionalValue,vg,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(_g)}getMinOffset(e,t){return pe.mapArray(this.Ye(t),r=>this.Xe(e,r).next(o=>o||ft())).next(_g)}}function qv(n){return xn(n,"collectionParents")}function Ps(n){return xn(n,"indexEntries")}function Uh(n){return xn(n,"indexConfiguration")}function mc(n){return xn(n,"indexState")}function _g(n){Mt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;_h(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new zi(e.readTime,e.documentKey,t)}const qw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new mi(e,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Eg(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],h=IDBKeyRange.only(t.batchId);let g=0;const E=r.J({range:h},(C,S,G)=>(g++,G.delete()));u.push(E.next(()=>{Mt(1===g)}));const I=[];for(const C of t.mutations){const S=qD(e,C.key.path,t.batchId);u.push(o.delete(S)),I.push(C.key)}return pe.waitFor(u).next(()=>I)}function yc(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ft();e=n.noDocument}return JSON.stringify(e).length}mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(41943040,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);class zv{constructor(e,t,r,o){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=o,this.gn={}}static se(e,t,r,o){Mt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new zv(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vc(e).J({index:"userMutationsIndex",range:r},(o,u,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Vh(e),h=vc(e);return h.add({}).next(g=>{Mt("number"==typeof g);const E=new Vv(g,t,r,o),I=function(G,W,he){const Ze=he.baseMutations.map(Nt=>lg(G.ne,Nt)),Je=he.mutations.map(Nt=>lg(G.ne,Nt));return{userId:W,batchId:he.batchId,localWriteTimeMs:he.localWriteTime.toMillis(),baseMutations:Ze,mutations:Je}}(this.wt,this.userId,E),C=[];let S=new Sn((G,W)=>qt(G.canonicalString(),W.canonicalString()));for(const G of o){const W=qD(this.userId,G.key.path,g);S=S.add(G.key.path.popLast()),C.push(h.put(I)),C.push(u.put(W,zD))}return S.forEach(G=>{C.push(this.indexManager.addToCollectionParentIndex(e,G))}),e.addOnCommittedListener(()=>{this.gn[g]=E.keys()}),pe.waitFor(C).next(()=>E)})}lookupMutationBatch(e,t){return vc(e).get(t).next(r=>r?(Mt(r.userId===this.userId),ou(this.wt,r)):null)}yn(e,t){return this.gn[t]?pe.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.gn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return vc(e).J({index:"userMutationsIndex",range:o},(h,g,E)=>{g.userId===this.userId&&(Mt(g.batchId>=r),u=ou(this.wt,g)),E.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return vc(e).J({index:"userMutationsIndex",range:t,reverse:!0},(o,u,h)=>{r=u.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vc(e).K("userMutationsIndex",t).next(r=>r.map(o=>ou(this.wt,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Pv(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Vh(e).J({range:o},(h,g,E)=>{const[I,C,S]=h,G=co(C);if(I===this.userId&&t.path.isEqual(G))return vc(e).get(S).next(W=>{if(!W)throw ft();Mt(W.userId===this.userId),u.push(ou(this.wt,W))});E.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Sn(qt);const o=[];return t.forEach(u=>{const h=Pv(this.userId,u.path),g=IDBKeyRange.lowerBound(h),E=Vh(e).J({range:g},(I,C,S)=>{const[G,W,he]=I,Ze=co(W);G===this.userId&&u.path.isEqual(Ze)?r=r.add(he):S.done()});o.push(E)}),pe.waitFor(o).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Pv(this.userId,r),h=IDBKeyRange.lowerBound(u);let g=new Sn(qt);return Vh(e).J({range:h},(E,I,C)=>{const[S,G,W]=E,he=co(G);S===this.userId&&r.isPrefixOf(he)?he.length===o&&(g=g.add(W)):C.done()}).next(()=>this.pn(e,g))}pn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(vc(e).get(u).next(h=>{if(null===h)throw ft();Mt(h.userId===this.userId),r.push(ou(this.wt,h))}))}),pe.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Eg(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),pe.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Vh(e).J({range:r},(u,h,g)=>{if(u[0]===this.userId){const E=co(u[1]);o.push(E)}else g.done()}).next(()=>{Mt(0===o.length)})})}containsKey(e,t){return lC(e,this.userId,t)}Tn(e){return Wv(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function lC(n,e,t){const r=Pv(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let h=!1;return Vh(n).J({range:u,H:!0},(g,E,I)=>{const[C,S,G]=g;C===e&&S===o&&(h=!0),I.done()}).next(()=>h)}function vc(n){return xn(n,"mutations")}function Vh(n){return xn(n,"documentMutations")}function Wv(n){return xn(n,"mutationQueues")}class _c{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new _c(0)}static Rn(){return new _c(-1)}}class dC{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new _c(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>xt.fromTimestamp(new bn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Pn(e,o)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Bl(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(Mt(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Bl(e).J((h,g)=>{const E=kh(g);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,u.push(this.removeTargetData(e,E)))}).next(()=>pe.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Bl(e).J((r,o)=>{const u=kh(o);t(u)})}bn(e){return zw(e).get("targetGlobalKey").next(t=>(Mt(null!==t),t))}Pn(e,t){return zw(e).put("targetGlobalKey",t)}vn(e,t){return Bl(e).put(Gw(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Cl(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Bl(e).J({range:o,index:"queryTargetsIndex"},(h,g,E)=>{const I=kh(g);uc(t,I.target)&&(u=I,E.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=oa(e);return t.forEach(h=>{const g=gi(h.path);o.push(u.put({targetId:r,path:g})),o.push(this.referenceDelegate.addReference(e,r,h))}),pe.waitFor(o)}removeMatchingKeys(e,t,r){const o=oa(e);return pe.forEach(t,u=>{const h=gi(u.path);return pe.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=oa(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=oa(e);let u=Kt();return o.J({range:r,H:!0},(h,g,E)=>{const I=co(h[1]),C=new nt(I);u=u.add(C)}).next(()=>u)}containsKey(e,t){const r=gi(t.path),o=IDBKeyRange.bound([r],[jE(r)],!1,!0);let u=0;return oa(e).J({index:"documentTargetsIndex",H:!0,range:o},([h,g],E,I)=>{0!==h&&(u++,I.done())}).next(()=>u>0)}te(e,t){return Bl(e).get(t).next(r=>r?kh(r):null)}}function Bl(n){return xn(n,"targets")}function zw(n){return xn(n,"targetGlobal")}function oa(n){return xn(n,"targetDocuments")}function Kv([n,e],[t,r]){const o=qt(n,t);return 0===o?qt(e,r):o}class Ww{constructor(e){this.Sn=e,this.buffer=new Sn(Kv),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Kv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;He("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Se.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Qa(r)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ya(r)}yield t.kn(3e5)}))}}class fC{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return pe.resolve(Pi.ot);const r=new Ww(t);return this.On.forEachTarget(e,o=>r.xn(o.sequenceNumber)).next(()=>this.On.Fn(e,o=>r.xn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.On.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(qw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qw):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let r,o,u,h,g,E,I;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(r=S,g=Date.now(),this.removeTargets(e,r,t))).next(S=>(u=S,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(I=Date.now(),uv()<=Ha.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-C}ms\n\tDetermined least recently used ${o} in `+(g-h)+`ms\n\tRemoved ${u} targets in `+(E-g)+`ms\n\tRemoved ${S} documents in `+(I-E)+`ms\nTotal Duration: ${I-C}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}class Kw{constructor(e,t){this.db=e,this.garbageCollector=new fC(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,o)=>t(o))}addReference(e,t,r){return jl(e,r)}removeReference(e,t,r){return jl(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return jl(e,t)}Un(e,t){return function(r,o){let u=!1;return Wv(r).Y(h=>lC(r,h,o).next(g=>(g&&(u=!0),pe.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Ln(e,(h,g)=>{if(g<=t){const E=this.Un(e,h).next(I=>{if(!I)return u++,r.getEntry(e,h).next(()=>(r.removeEntry(h,xt.min()),oa(e).delete([0,gi(h.path)])))});o.push(E)}}).next(()=>pe.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return jl(e,t)}Ln(e,t){const r=oa(e);let o,u=Pi.ot;return r.J({index:"documentTargetsIndex"},([h,g],{path:E,sequenceNumber:I})=>{0===h?(u!==Pi.ot&&t(new nt(co(o)),u),u=I,o=E):u=Pi.ot}).next(()=>{u!==Pi.ot&&t(new nt(co(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jl(n,e){return oa(n).put((r=n.currentSequenceNumber,{targetId:0,path:gi(e.path),sequenceNumber:r}));var r}class pC{constructor(){this.changes=new ru(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yw{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return $l(e).put(r)}removeEntry(e,t,r){return $l(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],fg(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=Fn.newInvalidDocument(t);return $l(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(bg(t))},(o,u)=>{r=this.Kn(t,u)}).next(()=>r)}Gn(e,t){let r={size:0,document:Fn.newInvalidDocument(t)};return $l(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(bg(t))},(o,u)=>{r={document:this.Kn(t,u),size:yc(u)}}).next(()=>r)}getEntries(e,t){let r=Fi();return this.Qn(e,t,(o,u)=>{const h=this.Kn(o,u);r=r.insert(o,h)}).next(()=>r)}jn(e,t){let r=Fi(),o=new nr(nt.comparator);return this.Qn(e,t,(u,h)=>{const g=this.Kn(u,h);r=r.insert(u,g),o=o.insert(u,yc(h))}).next(()=>({documents:r,Wn:o}))}Qn(e,t,r){if(t.isEmpty())return pe.resolve();let o=new Sn(Jw);t.forEach(E=>o=o.add(E));const u=IDBKeyRange.bound(bg(o.first()),bg(o.last())),h=o.getIterator();let g=h.getNext();return $l(e).J({index:"documentKeyIndex",range:u},(E,I,C)=>{const S=nt.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;g&&Jw(g,S)<0;)r(g,null),g=h.getNext();g&&g.isEqual(S)&&(r(g,I),g=h.hasNext()?h.getNext():null),g?C.q(bg(g)):C.done()}).next(()=>{for(;g;)r(g,null),g=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),fg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $l(e).K(IDBKeyRange.bound(o,u,!0)).next(h=>{let g=Fi();for(const E of h){const I=this.Kn(nt.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);g=g.insert(I.key,I)}return g})}getAllFromCollectionGroup(e,t,r,o){let u=Fi();const h=mC(t,r),g=mC(t,zi.max());return $l(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,g,!0)},(E,I,C)=>{const S=this.Kn(nt.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);u=u.insert(S.key,S),u.size===o&&C.done()}).next(()=>u)}newChangeBuffer(e){return new gC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Qw(e).get("remoteDocumentGlobalKey").next(t=>(Mt(!!t),t))}qn(e,t){return Qw(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function nC(n,e){let t;if(e.document)t=BD(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=nt.fromSegments(e.noDocument.path),o=su(e.noDocument.readTime);t=Fn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ft();{const r=nt.fromSegments(e.unknownDocument.path),o=su(e.unknownDocument.version);t=Fn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new bn(r[0],r[1]);return xt.fromTimestamp(o)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(xt.min()))return r}return Fn.newInvalidDocument(e)}}function wg(n){return new Yw(n)}class gC extends pC{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new ru(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Sn((u,h)=>qt(u.canonicalString(),h.canonicalString()));return this.changes.forEach((u,h)=>{const g=this.Hn.get(u);if(t.push(this.zn.removeEntry(e,u,g.readTime)),h.isValidDocument()){const E=jv(this.zn.wt,h);o=o.add(u.path.popLast()),r+=yc(E)-g.size,t.push(this.zn.addEntry(e,u,E))}else if(r-=g.size,this.trackRemovals){const E=jv(this.zn.wt,h.convertToNoDocument(xt.min()));t.push(this.zn.addEntry(e,u,E))}}),o.forEach(u=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.zn.updateMetadata(e,r)),pe.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:o})=>(o.forEach((u,h)=>{this.Hn.set(u,{size:h,readTime:r.get(u).readTime})}),r))}}function Qw(n){return xn(n,"remoteDocumentGlobal")}function $l(n){return xn(n,"remoteDocumentsV14")}function bg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mC(n,e){const t=e.documentKey.path.toArray();return[n,fg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Jw(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=qt(t[u],r[u]),o)return o;return o=qt(t.length,r.length),o||(o=qt(t[t.length-2],r[r.length-2]),o||qt(t[t.length-1],r[r.length-1]))}class yC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vC{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&Rl(r.mutation,o,ki.empty(),bn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Kt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Kt()){const o=Rs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let h=fc();return u.forEach((g,E)=>{h=h.insert(g,E.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const r=Rs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Kt()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,g)=>{t.set(h,g)})})}computeViews(e,t,r,o){let u=Fi();const h=pc(),g=pc();return t.forEach((E,I)=>{const C=r.get(I.key);o.has(I.key)&&(void 0===C||C.mutation instanceof ia)?u=u.insert(I.key,I):void 0!==C&&(h.set(I.key,C.mutation.getFieldMask()),Rl(C.mutation,I,C.mutation.getFieldMask(),bn.now()))}),this.recalculateAndSaveOverlays(e,u).next(E=>(E.forEach((I,C)=>h.set(I,C)),t.forEach((I,C)=>{var S;return g.set(I,new yC(C,null!==(S=h.get(I))&&void 0!==S?S:null))}),g))}recalculateAndSaveOverlays(e,t){const r=pc();let o=new nr((h,g)=>h-g),u=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const g of h)g.keys().forEach(E=>{const I=t.get(E);if(null===I)return;let C=r.get(E)||ki.empty();C=g.applyToLocalView(I,C),r.set(E,C);const S=(o.get(g.batchId)||Kt()).add(E);o=o.insert(g.batchId,S)})}).next(()=>{const h=[],g=o.getReverseIterator();for(;g.hasNext();){const E=g.getNext(),I=E.key,C=E.value,S=xh();C.forEach(G=>{if(!u.has(G)){const W=yw(t.get(G),r.get(G));null!==W&&S.set(G,W),u=u.add(G)}}),h.push(this.documentOverlayCache.saveOverlays(e,I,S))}return pe.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return nt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_v(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):pe.resolve(Rs());let g=-1,E=u;return h.next(I=>pe.forEach(I,(C,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(C)?pe.resolve():this.getBaseDocument(e,C,S).next(G=>{E=E.insert(C,G)}))).next(()=>this.populateOverlays(e,I,u)).next(()=>this.computeViews(e,E,I,Kt())).next(C=>({batchId:g,changes:Sv(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nt(t)).next(r=>{let o=fc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=fc();return this.indexManager.getCollectionParents(e,o).next(h=>pe.forEach(h,g=>{const E=(I=t,C=g.child(o),new na(C,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,C;return this.getDocumentsMatchingCollectionQuery(e,E,r).next(I=>{I.forEach((C,S)=>{u=u.insert(C,S)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((g,E)=>{const I=E.getKey();null===o.get(I)&&(o=o.insert(I,Fn.newInvalidDocument(I)))});let h=fc();return o.forEach((g,E)=>{const I=u.get(g);void 0!==I&&Rl(I.mutation,E,ki.empty(),bn.now()),wv(t,E)&&(h=h.insert(g,E))}),h})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):pe.resolve(Fn.newInvalidDocument(t))}}class zA{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return pe.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:qr(r.createTime)}),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:pg(r.bundledQuery),readTime:qr(r.readTime)}),pe.resolve();var r}}class WA{constructor(){this.overlays=new nr(nt.comparator),this.Xn=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Rs();return pe.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.ie(e,t,u)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Xn.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Xn.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const o=Rs(),u=t.length+1,h=new nt(t.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const E=g.getNext().value,I=E.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===u&&E.largestBatchId>r&&o.set(E.getKey(),E)}return pe.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new nr((I,C)=>I-C);const h=this.overlays.getIterator();for(;h.hasNext();){const I=h.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let C=u.get(I.largestBatchId);null===C&&(C=Rs(),u=u.insert(I.largestBatchId,C)),C.set(I.getKey(),I)}}const g=Rs(),E=u.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((I,C)=>g.set(I,C)),!(g.size()>=o)););return pe.resolve(g)}ie(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const h=this.Xn.get(o.largestBatchId).delete(r.key);this.Xn.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new Bv(t,r));let u=this.Xn.get(t);void 0===u&&(u=Kt(),this.Xn.set(t,u)),this.Xn.set(t,u.add(r.key))}}class Xw{constructor(){this.Zn=new Sn(oi.ts),this.es=new Sn(oi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new oi(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new oi(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new nt(new hn([])),r=new oi(t,e),o=new oi(t,e+1),u=[];return this.es.forEachInRange([r,o],h=>{this.rs(h),u.push(h.key)}),u}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new nt(new hn([])),r=new oi(t,e),o=new oi(t,e+1);let u=Kt();return this.es.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new oi(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class oi{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return nt.comparator(e.key,t.key)||qt(e.ls,t.ls)}static ns(e,t){return qt(e.ls,t.ls)||nt.comparator(e.key,t.key)}}class _C{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Sn(oi.ts)}checkEmpty(e){return pe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.fs;this.fs++;const h=new Vv(u,t,r,o);this.mutationQueue.push(h);for(const g of o)this.ds=this.ds.add(new oi(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return pe.resolve(h)}lookupMutationBatch(e,t){return pe.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ws(t+1),u=o<0?0:o;return pe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new oi(t,0),o=new oi(t,Number.POSITIVE_INFINITY),u=[];return this.ds.forEachInRange([r,o],h=>{const g=this._s(h.ls);u.push(g)}),pe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Sn(qt);return t.forEach(o=>{const u=new oi(o,0),h=new oi(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([u,h],g=>{r=r.add(g.ls)})}),pe.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;nt.isDocumentKey(u)||(u=u.child(""));const h=new oi(new nt(u),0);let g=new Sn(qt);return this.ds.forEachWhile(E=>{const I=E.key.path;return!!r.isPrefixOf(I)&&(I.length===o&&(g=g.add(E.ls)),!0)},h),pe.resolve(this.gs(g))}gs(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Mt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return pe.forEach(t.mutations,o=>{const u=new oi(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new oi(t,0),o=this.ds.firstAfterOrEqual(r);return pe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return pe.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class KA{constructor(e){this.ps=e,this.docs=new nr(nt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,h=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let r=Fi();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Fn.newInvalidDocument(o))}),pe.resolve(r)}getAllFromCollection(e,t,r){let o=Fi();const u=new nt(t.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:g,value:{document:E}}=h.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||_h(HE(E),r)<=0||(o=o.insert(E.key,E.mutableCopy()))}return pe.resolve(o)}getAllFromCollectionGroup(e,t,r,o){ft()}Is(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new YA(this)}getSize(e){return pe.resolve(this.size)}}class YA extends pC{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.zn.addEntry(e,o)):this.zn.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class QA{constructor(e){this.persistence=e,this.Ts=new ru(t=>Cl(t),uc),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Es=0,this.As=new Xw,this.targetCount=0,this.Rs=_c.An()}forEachTarget(e,t){return this.Ts.forEach((r,o)=>t(o)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),pe.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new _c(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.vn(t),pe.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Ts.forEach((h,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Ts.delete(h),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),pe.waitFor(u).next(()=>o)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),pe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.As.containsKey(t))}}class EC{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Pi(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new QA(this),this.indexManager=new uC,this.remoteDocumentCache=new KA(r=>this.referenceDelegate.Ss(r)),this.wt=new Hw(t),this.Ds=new zA(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new WA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new _C(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){He("MemoryPersistence","Starting transaction:",e);const o=new i(this.Ps.next());return this.referenceDelegate.Cs(),r(o).next(u=>this.referenceDelegate.xs(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ns(e,t){return pe.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class i extends dv{constructor(e){super(),this.currentSequenceNumber=e}}class s{constructor(e){this.persistence=e,this.ks=new Xw,this.Os=null}static Ms(e){return new s(e)}get Fs(){if(this.Os)return this.Os;throw ft()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),pe.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(o=>this.Fs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Fs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Fs,r=>{const o=nt.fromPath(r);return this.$s(e,o).next(u=>{u||t.removeEntry(o,xt.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return pe.or([()=>pe.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class a{constructor(e){this.wt=e}O(e,t,r,o){const u=new qp("createOrUpgrade",t);var g;r<1&&o>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",GD,{unique:!0}),g.createObjectStore("documentMutations"),c(e),function(g){g.createObjectStore("remoteDocuments")}(e));let h=pe.resolve();return r<3&&o>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),c(e)),h=h.next(()=>function(g){const E=g.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",I)}(u))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(g,E){return E.store("mutations").K().next(I=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",GD,{unique:!0});const C=E.store("mutations"),S=I.map(G=>C.put(G));return pe.waitFor(S)})}(e,u))),h=h.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Bs(u))),r<6&&o>=6&&(h=h.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(u)))),r<7&&o>=7&&(h=h.next(()=>this.Us(u))),r<8&&o>=8&&(h=h.next(()=>this.qs(e,u))),r<9&&o>=9&&(h=h.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(h=h.next(()=>this.Ks(u))),r<11&&o>=11&&(h=h.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(h=h.next(()=>{!function(g){const E=g.createObjectStore("documentOverlays",{keyPath:Lv});E.createIndex("collectionPathOverlayIndex",Uw,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",Vw,{unique:!1})}(e)})),r<13&&o>=13&&(h=h.next(()=>function(g){const E=g.createObjectStore("remoteDocumentsV14",{keyPath:WD});E.createIndex("documentKeyIndex",KD),E.createIndex("collectionGroupIndex",HA)}(e)).next(()=>this.Gs(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(h=h.next(()=>this.Qs(e,u))),r<15&&o>=15&&(h=h.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:JD}).createIndex("sequenceNumberIndex",Fv,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:XD}).createIndex("documentKeyIndex",eC,{unique:!1})}(e))),h}Ls(e){let t=0;return e.store("remoteDocuments").J((r,o)=>{t+=yc(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(o=>pe.forEach(o,u=>{const h=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",h).next(g=>pe.forEach(g,E=>{Mt(E.userId===u.userId);const I=ou(this.wt,E);return Eg(e,u.userId,I).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.J((h,g)=>{const E=new hn(h),I=[0,gi(E)];u.push(t.get(I).next(C=>C?pe.resolve():t.put({targetId:0,path:gi(E),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>pe.waitFor(u))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:Ns});const r=t.store("collectionParents"),o=new Vl,u=h=>{if(o.add(h)){const g=h.lastSegment(),E=h.popLast();return r.put({collectionId:g,parent:gi(E)})}};return t.store("remoteDocuments").J({H:!0},(h,g)=>{const E=new hn(h);return u(E.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([h,g,E],I)=>{const C=co(g);return u(C.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,o)=>{const u=kh(o),h=Gw(this.wt,u);return t.put(h)})}Gs(e,t){const r=t.store("remoteDocuments"),o=[];return r.J((u,h)=>{const g=t.store("remoteDocumentsV14"),E=(I=h,I.document?new nt(hn.fromString(I.document.name).popFirst(5)):I.noDocument?nt.fromSegments(I.noDocument.path):I.unknownDocument?nt.fromSegments(I.unknownDocument.path):ft()).path.toArray();var I;const C={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};o.push(g.put(C))}).next(()=>pe.waitFor(o))}Qs(e,t){const r=t.store("mutations"),o=wg(this.wt),u=new EC(s.Ms,this.wt.ne);return r.K().next(h=>{const g=new Map;return h.forEach(E=>{var I;let C=null!==(I=g.get(E.userId))&&void 0!==I?I:Kt();ou(this.wt,E).keys().forEach(S=>C=C.add(S)),g.set(E.userId,C)}),pe.forEach(g,(E,I)=>{const C=new fr(I),S=mg.se(this.wt,C),G=u.getIndexManager(C),W=zv.se(C,this.wt,G,u.referenceDelegate);return new vC(o,W,S,G).recalculateAndSaveOverlaysForDocumentKeys(new Ph(t,Pi.ot),E).next()})})}}function c(n){n.createObjectStore("targetDocuments",{keyPath:kv}).createIndex("documentTargetsIndex",QD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",YD,{unique:!0}),n.createObjectStore("targetGlobal")}const d="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class f{constructor(e,t,r,o,u,h,g,E,I,C,S=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=u,this.window=h,this.document=g,this.Ws=I,this.zs=C,this.Hs=S,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=G=>Promise.resolve(),!f.V())throw new Ve(Ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kw(this,o),this.ei=t+"main",this.wt=new Hw(E),this.ni=new Ss(this.ei,this.Hs,new a(this.wt)),this.Vs=new dC(this.referenceDelegate,this.wt),this.remoteDocumentCache=wg(this.wt),this.Ds=new rC,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===C&&br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(Ee.FAILED_PRECONDITION,d);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Pi(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,Se.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Se.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Se.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Qa(e))return He("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return y(e).get("owner").next(t=>pe.resolve(this.di(t)))}_i(e){return _(e).delete(this.clientId)}wi(){var e=this;return(0,Se.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=xn(r,"clientMetadata");return o.K().next(u=>{const h=e.gi(u,18e5),g=u.filter(E=>-1===h.indexOf(E));return pe.forEach(g,E=>o.delete(E.clientId)).next(()=>g)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?pe.resolve(!0):y(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Ve(Ee.FAILED_PRECONDITION,d);return!1}}return!(!this.networkEnabled||!this.inForeground)||_(e).K().next(r=>void 0===this.gi(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,g=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&He("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Se.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Ph(t,Pi.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>_(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return zv.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new cC(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return mg.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){He("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(h=this.Hs)?tC:14===h?$w:13===h?Uv:12===h?jw:11===h?Bw:void ft();var h;let g;return this.ni.runTransaction(e,o,u,E=>(g=new Ph(E,this.Ps?this.Ps.next():Pi.ot),"readwrite-primary"===t?this.ai(g).next(I=>!!I||this.hi(g)).next(I=>{if(!I)throw br(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Ve(Ee.FAILED_PRECONDITION,GE);return r(g)}).next(I=>this.fi(g).next(()=>I)):this.bi(g).next(()=>r(g)))).then(E=>(g.raiseOnCommittedEvent(),E))}bi(e){return y(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ve(Ee.FAILED_PRECONDITION,d)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return y(e).put("owner",t)}static V(){return Ss.V()}li(e){const t=y(e);return t.get("owner").next(r=>this.di(r)?(He("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pe.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(br(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,an.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return He("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return br("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){br("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function y(n){return xn(n,"owner")}function _(n){return xn(n,"clientMetadata")}function b(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class D{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=o}static Vi(e,t){let r=Kt(),o=Kt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new D(e,t.fromCache,r,o)}}class A{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ci(e,t).next(u=>u||this.xi(e,t,o,r)).next(u=>u||this.Ni(e,t))}Ci(e,t){return pe.resolve(null)}xi(e,t,r,o){return function RD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||o.isEqual(xt.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(u=>{const h=this.ki(t,u);return this.Oi(t,h,r,o)?this.Ni(e,t):(uv()<=Ha.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ev(t)),this.Mi(e,h,t,ZE(o,-1)))})}ki(e,t){let r=new Sn(Ch(e));return t.forEach((o,u)=>{wv(e,u)&&(r=r.add(u))}),r}Oi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ni(e,t){return uv()<=Ha.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",Ev(t)),this.Di.getDocumentsMatchingQuery(e,t,zi.min())}Mi(e,t,r,o){return this.Di.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}class P{constructor(e,t,r,o){this.persistence=e,this.Fi=t,this.wt=o,this.$i=new nr(qt),this.Bi=new ru(u=>Cl(u),uc),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vC(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function H(n,e,t,r){return new P(n,e,t,r)}function ne(n,e){return Ae.apply(this,arguments)}function Ae(){return Ae=(0,Se.Z)(function*(n,e){const t=ut(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const h=[],g=[];let E=Kt();for(const I of o){h.push(I.batchId);for(const C of I.mutations)E=E.add(C.key)}for(const I of u){g.push(I.batchId);for(const C of I.mutations)E=E.add(C.key)}return t.localDocuments.getDocuments(r,E).next(I=>({Ki:I,removedBatchIds:h,addedBatchIds:g}))})})}),Ae.apply(this,arguments)}function We(n,e){const t=ut(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Ui.newChangeBuffer({trackRemovals:!0});return function(h,g,E,I){const C=E.batch,S=C.keys();let G=pe.resolve();return S.forEach(W=>{G=G.next(()=>I.getEntry(g,W)).next(he=>{const Ze=E.docVersions.get(W);Mt(null!==Ze),he.version.compareTo(Ze)<0&&(C.applyToRemoteDocument(he,E),he.isValidDocument()&&(he.setReadTime(E.commitVersion),I.addEntry(he)))})}),G.next(()=>h.mutationQueue.removeMutationBatch(g,C))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let g=Kt();for(let E=0;E<h.mutationResults.length;++E)h.mutationResults[E].transformResults.length>0&&(g=g.add(h.batch.mutations[E].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function tt(n){const e=ut(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function pt(n,e){const t=ut(n),r=e.snapshotVersion;let o=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Ui.newChangeBuffer({trackRemovals:!0});o=t.$i;const g=[];e.targetChanges.forEach((C,S)=>{const G=o.get(S);if(!G)return;g.push(t.Vs.removeMatchingKeys(u,C.removedDocuments,S).next(()=>t.Vs.addMatchingKeys(u,C.addedDocuments,S)));let W=G.withSequenceNumber(u.currentSequenceNumber);var he,Ze,Je;e.targetMismatches.has(S)?W=W.withResumeToken(Or.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):C.resumeToken.approximateByteSize()>0&&(W=W.withResumeToken(C.resumeToken,r)),o=o.insert(S,W),Ze=W,Je=C,(0===(he=G).resumeToken.approximateByteSize()||Ze.snapshotVersion.toMicroseconds()-he.snapshotVersion.toMicroseconds()>=3e8||Je.addedDocuments.size+Je.modifiedDocuments.size+Je.removedDocuments.size>0)&&g.push(t.Vs.updateTargetData(u,W))});let E=Fi(),I=Kt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,C))}),g.push(ke(u,h,e.documentUpdates).next(C=>{E=C.Gi,I=C.Qi})),!r.isEqual(xt.min())){const C=t.Vs.getLastRemoteSnapshotVersion(u).next(S=>t.Vs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(C)}return pe.waitFor(g).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,E,I)).next(()=>E)}).then(u=>(t.$i=o,u))}function ke(n,e,t){let r=Kt(),o=Kt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let h=Fi();return t.forEach((g,E)=>{const I=u.get(g);E.isFoundDocument()!==I.isFoundDocument()&&(o=o.add(g)),E.isNoDocument()&&E.version.isEqual(xt.min())?(e.removeEntry(g,E.readTime),h=h.insert(g,E)):!I.isValidDocument()||E.version.compareTo(I.version)>0||0===E.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(E),h=h.insert(g,E)):He("LocalStore","Ignoring outdated watch update for ",g,". Current version:",I.version," Watch version:",E.version)}),{Gi:h,Qi:o}})}function Ct(n,e){const t=ut(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Wt(n,e){const t=ut(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Vs.getTargetData(r,e).next(u=>u?(o=u,pe.resolve(o)):t.Vs.allocateTargetId(r).next(h=>(o=new sa(e,h,0,r.currentSequenceNumber),t.Vs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.$i.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function cn(n,e,t){return Ci.apply(this,arguments)}function Ci(){return Ci=(0,Se.Z)(function*(n,e,t){const r=ut(n),o=r.$i.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Qa(h))throw h;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.$i=r.$i.remove(e),r.Bi.delete(o.target)}),Ci.apply(this,arguments)}function lo(n,e,t){const r=ut(n);let o=xt.min(),u=Kt();return r.persistence.runTransaction("Execute query","readonly",h=>function(g,E,I){const C=ut(g),S=C.Bi.get(I);return void 0!==S?pe.resolve(C.$i.get(S)):C.Vs.getTargetData(E,I)}(r,h,Cr(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(h,g.targetId).next(E=>{u=E})}).next(()=>r.Fi.getDocumentsMatchingQuery(h,e,t?o:xt.min(),t?u:Kt())).next(g=>(Cg(r,dw(e),g),{documents:g,ji:u})))}function Ig(n,e){const t=ut(n),r=ut(t.Vs),o=t.$i.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.te(u,e).next(h=>h?h.target:null))}function Dg(n,e){const t=ut(n),r=t.Li.get(e)||xt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Ui.getAllFromCollectionGroup(o,e,ZE(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(Cg(t,e,o),o))}function Cg(n,e,t){let r=xt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Li.set(e,r)}function Bh(){return Bh=(0,Se.Z)(function*(n,e,t,r){const o=ut(n);let u=Kt(),h=Fi();for(const I of t){const C=e.Wi(I.metadata.name);I.document&&(u=u.add(C));const S=e.zi(I);S.setReadTime(e.Hi(I.metadata.readTime)),h=h.insert(C,S)}const g=o.Ui.newChangeBuffer({trackRemovals:!0}),E=yield Wt(o,(I=r,Cr(Tl(hn.fromString(`__bundle__/docs/${I}`)))));var I;return o.persistence.runTransaction("Apply bundle documents","readwrite",I=>ke(I,g,h).next(C=>(g.apply(I),C)).next(C=>o.Vs.removeMatchingKeysForTargetId(I,E.targetId).next(()=>o.Vs.addMatchingKeys(I,u,E.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(I,C.Gi,C.Qi)).next(()=>C.Gi)))}),Bh.apply(this,arguments)}function Qv(n,e){return jh.apply(this,arguments)}function jh(){return jh=(0,Se.Z)(function*(n,e,t=Kt()){const r=yield Wt(n,Cr(pg(e.bundledQuery))),o=ut(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const h=qr(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Ds.saveNamedQuery(u,e);const g=r.withResumeToken(Or.EMPTY_BYTE_STRING,h);return o.$i=o.$i.insert(g.targetId,g),o.Vs.updateTargetData(u,g).next(()=>o.Vs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Vs.addMatchingKeys(u,t,r.targetId)).next(()=>o.Ds.saveNamedQuery(u,e))})}),jh.apply(this,arguments)}function Tg(n,e){return`firestore_clients_${n}_${e}`}function Ag(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function wC(n,e){return`firestore_targets_${n}_${e}`}class eb{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let u,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new Ve(o.error.code,o.error.message))),h?new eb(e,t,o.state,u):(br("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Ve(r.error.code,r.error.message))),u?new Jv(e,r.state,o):(br("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=gc();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=QE(r.activeTargetIds[h]),u=u.add(r.activeTargetIds[h]);return o?new tb(e,u):(br("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class bC{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new bC(t.clientId,t.onlineState):(br("SharedClientState",`Failed to parse online state: ${e}`),null)}}class IC{constructor(){this.activeTargetIds=gc()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DC{constructor(e,t,r,o,u){this.window=e,this.js=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new nr(qt),this.started=!1,this.ir=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=Tg(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new IC),this.cr=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Se.Z)(function*(){const t=yield e.syncEngine.Ri();for(const o of t){if(o===e.tr)continue;const u=e.getItem(Tg(e.persistenceKey,o));if(u){const h=tb.Ji(o,u);h&&(e.sr=e.sr.insert(h.clientId,h))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(wC(this.persistenceKey,e));if(r){const o=Jv.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(wC(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return He("SharedClientState","READ",e,t),t}setItem(e,t){He("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){He("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(He("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Se.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const o=t.vr(r.key,r.newValue);if(o)return t.Vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(u){let h=Pi.ot;if(null!=u)try{const g=JSON.parse(u);Mt("number"==typeof g),h=g}catch(g){br("SharedClientState","Failed to read sequence number from WebStorage",g)}return h}(r.newValue);o!==Pi.ot&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Nr(u)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new eb(this.currentUser,e,t,r),u=Ag(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Yi())}pr(e){const t=Ag(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=wC(this.persistenceKey,e),u=new Jv(e,t,r);this.setItem(o,u.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return tb.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),o=Number(r[1]);return eb.Ji(new fr(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return Jv.Ji(o,t)}wr(e){return bC.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Se.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);He("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),u=this.gr(r),h=[],g=[];return u.forEach(E=>{o.has(E)||h.push(E)}),o.forEach(E=>{u.has(E)||g.push(E)}),this.syncEngine.Mr(h,g).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=gc();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class JA{constructor(){this.Fr=new IC,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new IC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wx{Br(e){}shutdown(){}}class XA{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const bx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Ix{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Dx extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,u){const h=this.oo(e,t);He("RestConnection","Sending: ",h,r);const g={};return this.uo(g,o,u),this.co(e,h,g,r).then(E=>(He("RestConnection","Received: ",E),E),E=>{throw gl("RestConnection",`${e} failed with error: `,E,"url: ",h,"request:",r),E})}ao(e,t,r,o,u,h){return this.ro(e,t,r,o,u)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+so,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}oo(e,t){return`${this.so}/v1/${t}:${bx[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,o){return new Promise((u,h)=>{const g=new FE;g.listenOnce(pD.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case av.NO_ERROR:const I=g.getResponseJson();He("Connection","XHR received:",JSON.stringify(I)),u(I);break;case av.TIMEOUT:He("Connection",'RPC "'+e+'" timed out'),h(new Ve(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case av.HTTP_ERROR:const C=g.getStatus();if(He("Connection",'RPC "'+e+'" failed with status:',C,"response text:",g.getResponseText()),C>0){const S=g.getResponseJson().error;if(S&&S.status&&S.message){const G=function(W){const he=W.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(he)>=0?he:Ee.UNKNOWN}(S.status);h(new Ve(G,S.message))}else h(new Ve(Ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new Ve(Ee.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{He("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);g.send(t,"POST",E,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=fD(),h=fh(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new kE({})),this.uo(g.initMessageHeaders,t,r),(0,an.uI)()||(0,an.b$)()||(0,an.d)()||(0,an.w1)()||(0,an.Mn)()||(0,an.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");He("Connection","Creating WebChannel: "+E,g);const I=u.createWebChannel(E,g);let C=!1,S=!1;const G=new Ix({jr:he=>{S?He("Connection","Not sending because WebChannel is closed:",he):(C||(He("Connection","Opening WebChannel transport."),I.open(),C=!0),He("Connection","WebChannel sending:",he),I.send(he))},Wr:()=>I.close()}),W=(he,Ze,Je)=>{he.listen(Ze,Nt=>{try{Je(Nt)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return W(I,gh.EventType.OPEN,()=>{S||He("Connection","WebChannel transport opened.")}),W(I,gh.EventType.CLOSE,()=>{S||(S=!0,He("Connection","WebChannel transport closed"),G.eo())}),W(I,gh.EventType.ERROR,he=>{S||(S=!0,gl("Connection","WebChannel transport errored:",he),G.eo(new Ve(Ee.UNAVAILABLE,"The operation could not be completed")))}),W(I,gh.EventType.MESSAGE,he=>{var Ze;if(!S){const Je=he.data[0];Mt(!!Je);const Nt=Je,Pt=Nt.error||(null===(Ze=Nt[0])||void 0===Ze?void 0:Ze.error);if(Pt){He("Connection","WebChannel received error:",Pt);const ln=Pt.status;let Yt=function(In){const Ui=kr[In];if(void 0!==Ui)return og(Ui)}(ln),un=Pt.message;void 0===Yt&&(Yt=Ee.INTERNAL,un="Unknown error status: "+ln+" with message "+Pt.message),S=!0,G.eo(new Ve(Yt,un)),I.close()}else He("Connection","WebChannel received:",Je),G.no(Je)}}),W(h,gD.STAT_EVENT,he=>{he.stat===ph.PROXY?He("Connection","Detected buffering proxy"):he.stat===ph.NOPROXY&&He("Connection","Detected no buffering proxy")}),setTimeout(()=>{G.Zr()},0),G}}function eS(){return"undefined"!=typeof window?window:null}function nb(){return"undefined"!=typeof document?document:null}function Xv(n){return new Aw(n,!0)}class CC{constructor(e,t,r=1e3,o=1.5,u=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=o,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&He("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class tS{constructor(e,t,r,o,u,h,g,E){this.js=e,this.Ao=r,this.Ro=o,this.bo=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=E,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new CC(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Se.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,Se.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,Se.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===Ee.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new Ve(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,Se.Z)(function*(){e.state=0,e.start()}))}qo(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cx extends tS{constructor(e,t,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.wt=u}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function $A(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:ft(),o=e.targetChange.targetIds||[],u=function(E,I){return E.dt?(Mt(void 0===I||"string"==typeof I),Or.fromBase64String(I||"")):(Mt(void 0===I||I instanceof Uint8Array),Or.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(E){const I=void 0===E.code?Ee.UNKNOWN:og(E.code);return new Ve(I,E.message||"")}(h);t=new FD(r,o,u,g||null)}else if("documentChange"in e){const r=e.documentChange,o=Os(n,r.document.name),u=qr(r.document.updateTime),h=new fi({mapValue:{fields:r.document.fields}}),g=Fn.newFoundDocument(o,u,h);t=new Nl(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,o=Os(n,r.document),u=r.readTime?qr(r.readTime):xt.min(),h=Fn.newNoDocument(o,u);t=new Nl([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=Os(n,r.document);t=new Nl([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ft();{const r=e.filter,u=new kD(r.count||0);t=new ag(r.targetId,u)}}var E;return t}(this.wt,e),r=function(o){if(!("targetChange"in o))return xt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?xt.min():u.readTime?qr(u.readTime):xt.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=cg(this.wt),t.addTarget=function(o,u){let h;const g=u.target;return h=tg(g)?{documents:jD(o,g)}:{query:Oh(o,g)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?h.resumeToken=Sw(o,u.resumeToken):u.snapshotVersion.compareTo(xt.min())>0&&(h.readTime=Rh(o,u.snapshotVersion.toTimestamp())),h}(this.wt,e);const r=function Ow(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ft()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=cg(this.wt),t.removeTarget=e,this.Mo(t)}}class Tx extends tS{constructor(e,t,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.wt=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function ZA(n,e){return n&&n.length>0?(Mt(void 0!==e),n.map(t=>function(r,o){let u=qr(r.updateTime?r.updateTime:o);return u.isEqual(xt.min())&&(u=qr(o)),new ND(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.Jo(r,t)}return Mt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=cg(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>lg(this.wt,r))};this.Mo(t)}}class Ax extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=o,this.Zo=!1}tu(){if(this.Zo)throw new Ve(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ro(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ve(Ee.UNKNOWN,o.toString())})}ao(e,t,r,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.bo.ao(e,t,r,u,h,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ve(Ee.UNKNOWN,u.toString())})}terminate(){this.Zo=!0}}class Sx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(br(t),this.su=!1):He("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class xx{constructor(e,t,r,o,u){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(g=>{r.enqueueAndForget((0,Se.Z)(function*(){var E;Zl(h)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,Se.Z)(function*(I){const C=ut(I);C.lu.add(4),yield Sg(C),C._u.set("Unknown"),C.lu.delete(4),yield e_(C)}),function(I){return E.apply(this,arguments)})(h))}))}),this._u=new Sx(r,o)}}function e_(n){return TC.apply(this,arguments)}function TC(){return TC=(0,Se.Z)(function*(n){if(Zl(n))for(const e of n.fu)yield e(!0)}),TC.apply(this,arguments)}function Sg(n){return AC.apply(this,arguments)}function AC(){return AC=(0,Se.Z)(function*(n){for(const e of n.fu)yield e(!1)}),AC.apply(this,arguments)}function rb(n,e){const t=ut(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),MC(t)?xC(t):Mg(t).Co()&&SC(t,e))}function t_(n,e){const t=ut(n),r=Mg(t);t.hu.delete(e),r.Co()&&nS(t,e),0===t.hu.size&&(r.Co()?r.ko():Zl(t)&&t._u.set("Unknown"))}function SC(n,e){n.wu.Nt(e.targetId),Mg(n).Qo(e)}function nS(n,e){n.wu.Nt(e),Mg(n).jo(e)}function xC(n){n.wu=new LD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),Mg(n).start(),n._u.iu()}function MC(n){return Zl(n)&&!Mg(n).Do()&&n.hu.size>0}function Zl(n){return 0===ut(n).lu.size}function rS(n){n.wu=void 0}function Mx(n){return RC.apply(this,arguments)}function RC(){return RC=(0,Se.Z)(function*(n){n.hu.forEach((e,t)=>{SC(n,e)})}),RC.apply(this,arguments)}function Rx(n,e){return OC.apply(this,arguments)}function OC(){return OC=(0,Se.Z)(function*(n,e){rS(n),MC(n)?(n._u.uu(e),xC(n)):n._u.set("Unknown")}),OC.apply(this,arguments)}function Ox(n,e,t){return NC.apply(this,arguments)}function NC(){return NC=(0,Se.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof FD&&2===e.state&&e.cause)try{yield(r=(0,Se.Z)(function*(o,u){const h=u.cause;for(const g of u.targetIds)o.hu.has(g)&&(yield o.remoteSyncer.rejectListen(g,h),o.hu.delete(g),o.wu.removeTarget(g))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ib(n,r)}else if(e instanceof Nl?n.wu.Ut(e):e instanceof ag?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(xt.min()))try{const r=yield tt(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const h=o.wu.Yt(u);return h.targetChanges.forEach((g,E)=>{if(g.resumeToken.approximateByteSize()>0){const I=o.hu.get(E);I&&o.hu.set(E,I.withResumeToken(g.resumeToken,u))}}),h.targetMismatches.forEach(g=>{const E=o.hu.get(g);if(!E)return;o.hu.set(g,E.withResumeToken(Or.EMPTY_BYTE_STRING,E.snapshotVersion)),nS(o,g);const I=new sa(E.target,g,1,E.sequenceNumber);SC(o,I)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){He("RemoteStore","Failed to raise snapshot:",r),yield ib(n,r)}var r}),NC.apply(this,arguments)}function ib(n,e,t){return PC.apply(this,arguments)}function PC(){return PC=(0,Se.Z)(function*(n,e,t){if(!Qa(e))throw e;n.lu.add(1),yield Sg(n),n._u.set("Offline"),t||(t=()=>tt(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield e_(n)}))}),PC.apply(this,arguments)}function iS(n,e){return e().catch(t=>ib(n,t,e))}function xg(n){return kC.apply(this,arguments)}function kC(){return kC=(0,Se.Z)(function*(n){const e=ut(n),t=Hl(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;Nx(e);)try{const o=yield Ct(e.localStore,r);if(null===o){0===e.au.length&&t.ko();break}r=o.batchId,Px(e,o)}catch(o){yield ib(e,o)}sS(e)&&oS(e)}),kC.apply(this,arguments)}function Nx(n){return Zl(n)&&n.au.length<10}function Px(n,e){n.au.push(e);const t=Hl(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function sS(n){return Zl(n)&&!Hl(n).Do()&&n.au.length>0}function oS(n){Hl(n).start()}function kx(n){return FC.apply(this,arguments)}function FC(){return FC=(0,Se.Z)(function*(n){Hl(n).Xo()}),FC.apply(this,arguments)}function Fx(n){return LC.apply(this,arguments)}function LC(){return LC=(0,Se.Z)(function*(n){const e=Hl(n);for(const t of n.au)e.Ho(t.mutations)}),LC.apply(this,arguments)}function Lx(n,e,t){return UC.apply(this,arguments)}function UC(){return UC=(0,Se.Z)(function*(n,e,t){const r=n.au.shift(),o=Zw.from(r,e,t);yield iS(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield xg(n)}),UC.apply(this,arguments)}function Ux(n,e){return VC.apply(this,arguments)}function VC(){return VC=(0,Se.Z)(function*(n,e){var t;e&&Hl(n).zo&&(yield(t=(0,Se.Z)(function*(r,o){if(Ew(u=o.code)&&u!==Ee.ABORTED){const h=r.au.shift();Hl(r).No(),yield iS(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield xg(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),sS(n)&&oS(n)}),VC.apply(this,arguments)}function aS(n,e){return BC.apply(this,arguments)}function BC(){return BC=(0,Se.Z)(function*(n,e){const t=ut(n);t.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const r=Zl(t);t.lu.add(3),yield Sg(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield e_(t)}),BC.apply(this,arguments)}function jC(n,e){return $C.apply(this,arguments)}function $C(){return $C=(0,Se.Z)(function*(n,e){const t=ut(n);e?(t.lu.delete(2),yield e_(t)):e||(t.lu.add(2),yield Sg(t),t._u.set("Unknown"))}),$C.apply(this,arguments)}function Mg(n){return n.mu||(n.mu=function(e,t,r){const o=ut(e);return o.tu(),new Cx(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(n.datastore,n.asyncQueue,{zr:Mx.bind(null,n),Jr:Rx.bind(null,n),Go:Ox.bind(null,n)}),n.fu.push(function(){var e=(0,Se.Z)(function*(t){t?(n.mu.No(),MC(n)?xC(n):n._u.set("Unknown")):(yield n.mu.stop(),rS(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Hl(n){return n.gu||(n.gu=function(e,t,r){const o=ut(e);return o.tu(),new Tx(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(n.datastore,n.asyncQueue,{zr:kx.bind(null,n),Jr:Ux.bind(null,n),Yo:Fx.bind(null,n),Jo:Lx.bind(null,n)}),n.fu.push(function(){var e=(0,Se.Z)(function*(t){t?(n.gu.No(),yield xg(n)):(yield n.gu.stop(),n.au.length>0&&(He("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class ZC{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,u){const h=Date.now()+r,g=new ZC(e,t,h,o,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rg(n,e){if(br("AsyncQueue",`${e}: ${n}`),Qa(n))return new Ve(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}class Og{constructor(e){this.comparator=e?(t,r)=>e(t,r)||nt.comparator(t.key,r.key):(t,r)=>nt.comparator(t.key,r.key),this.keyedMap=fc(),this.sortedSet=new nr(this.comparator)}static emptySet(e){return new Og(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Og)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Og;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class uS{constructor(){this.yu=new nr(nt.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ft():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ng{constructor(e,t,r,o,u,h,g,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Ng(e,t,Og.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class Vx{constructor(){this.Iu=void 0,this.listeners=[]}}class Bx{constructor(){this.queries=new ru(e=>Al(e),dc),this.onlineState="Unknown",this.Tu=new Set}}function HC(n,e){return GC.apply(this,arguments)}function GC(){return GC=(0,Se.Z)(function*(n,e){const t=ut(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new Vx),o)try{u.Iu=yield t.onListen(r)}catch(h){const g=Rg(h,`Initialization of query '${Ev(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Eu(t.onlineState),u.Iu&&e.Au(u.Iu)&&WC(t)}),GC.apply(this,arguments)}function qC(n,e){return zC.apply(this,arguments)}function zC(){return zC=(0,Se.Z)(function*(n,e){const t=ut(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const h=u.listeners.indexOf(e);h>=0&&(u.listeners.splice(h,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),zC.apply(this,arguments)}function jx(n,e){const t=ut(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const g of h.listeners)g.Au(o)&&(r=!0);h.Iu=o}}r&&WC(t)}function $x(n,e,t){const r=ut(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function WC(n){n.Tu.forEach(e=>{e.next()})}class KC{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Ng(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Ng.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Zx{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class cS{constructor(e){this.wt=e}Wi(e){return Os(this.wt,e)}zi(e){return e.metadata.exists?BD(this.wt,e.document,!1):Fn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return qr(e)}}class Hx{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lS(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=hn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new cS(this.wt);for(const o of e)if(o.metadata.queries){const u=r.Wi(o.metadata.name);for(const h of o.metadata.queries){const g=(t.get(h)||Kt()).add(u);t.set(h,g)}}return t}complete(){var e=this;return(0,Se.Z)(function*(){const t=yield function Yv(n,e,t,r){return Bh.apply(this,arguments)}(e.localStore,new cS(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield Qv(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function lS(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class dS{constructor(e){this.key=e}}class hS{constructor(e){this.key=e}}class fS{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Kt(),this.mutatedKeys=Kt(),this.Lu=Ch(e),this.Uu=new Og(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new uS,o=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,g=!1;const E="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,I="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((C,S)=>{const G=o.get(C),W=wv(this.query,S)?S:null,he=!!G&&this.mutatedKeys.has(G.key),Ze=!!W&&(W.hasLocalMutations||this.mutatedKeys.has(W.key)&&W.hasCommittedMutations);let Je=!1;G&&W?G.data.isEqual(W.data)?he!==Ze&&(r.track({type:3,doc:W}),Je=!0):this.Qu(G,W)||(r.track({type:2,doc:W}),Je=!0,(E&&this.Lu(W,E)>0||I&&this.Lu(W,I)<0)&&(g=!0)):!G&&W?(r.track({type:0,doc:W}),Je=!0):G&&!W&&(r.track({type:1,doc:G}),Je=!0,(E||I)&&(g=!0)),Je&&(W?(h=h.add(W),u=Ze?u.add(C):u.delete(C)):(h=h.delete(C),u=u.delete(C)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const C="F"===this.query.limitType?h.last():h.first();h=h.delete(C.key),u=u.delete(C.key),r.track({type:1,doc:C})}return{Uu:h,Gu:r,Oi:g,mutatedKeys:u}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const u=e.Gu.pu();u.sort((I,C)=>function(S,G){const W=he=>{switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return W(S)-W(G)}(I.type,C.type)||this.Lu(I.doc,C.doc)),this.ju(r);const h=t?this.Wu():[],g=0===this.Bu.size&&this.current?1:0,E=g!==this.$u;return this.$u=g,0!==u.length||E?{snapshot:new Ng(this.query,e.Uu,o,u,e.mutatedKeys,0===g,E,!1),zu:h}:{zu:h}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new uS,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Kt(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new hS(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new dS(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=Kt();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Ng.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Gx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class qx{constructor(e){this.key=e,this.Xu=!1}}class zx{constructor(e,t,r,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Zu={},this.tc=new ru(g=>Al(g),dc),this.ec=new Map,this.nc=new Set,this.sc=new nr(nt.comparator),this.ic=new Map,this.rc=new Xw,this.oc={},this.uc=new Map,this.cc=_c.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function Wx(n,e){return YC.apply(this,arguments)}function YC(){return YC=(0,Se.Z)(function*(n,e){const t=_T(n);let r,o;const u=t.tc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.Yu();else{const h=yield Wt(t.localStore,Cr(e));t.isPrimaryClient&&rb(t.remoteStore,h);const g=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield QC(t,e,r,"current"===g)}return o}),YC.apply(this,arguments)}function QC(n,e,t,r){return JC.apply(this,arguments)}function JC(){return JC=(0,Se.Z)(function*(n,e,t,r){n.hc=(C,S,G)=>{return(W=(0,Se.Z)(function*(he,Ze,Je,Nt){let Pt=Ze.view.Ku(Je);Pt.Oi&&(Pt=yield lo(he.localStore,Ze.query,!1).then(({documents:un})=>Ze.view.Ku(un,Pt)));const ln=Nt&&Nt.targetChanges.get(Ze.targetId),Yt=Ze.view.applyChanges(Pt,he.isPrimaryClient,ln);return uT(he,Ze.targetId,Yt.zu),Yt.snapshot}),function(he,Ze,Je,Nt){return W.apply(this,arguments)})(n,C,S,G);var W};const o=yield lo(n.localStore,e,!0),u=new fS(e,o.ji),h=u.Ku(o.documents),g=Mh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=u.applyChanges(h,n.isPrimaryClient,g);uT(n,t,E.zu);const I=new Gx(e,t,u);return n.tc.set(e,I),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),E.snapshot}),JC.apply(this,arguments)}function Kx(n,e){return XC.apply(this,arguments)}function XC(){return XC=(0,Se.Z)(function*(n,e){const t=ut(n),r=t.tc.get(e),o=t.ec.get(r.targetId);if(o.length>1)return t.ec.set(r.targetId,o.filter(u=>!dc(u,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield cn(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),t_(t.remoteStore,r.targetId),Pg(t,r.targetId)}).catch(Ya))):(Pg(t,r.targetId),yield cn(t.localStore,r.targetId,!0))}),XC.apply(this,arguments)}function eT(){return eT=(0,Se.Z)(function*(n,e,t){const r=ET(n);try{const o=yield function(u,h){const g=ut(u),E=bn.now(),I=h.reduce((G,W)=>G.add(W.key),Kt());let C,S;return g.persistence.runTransaction("Locally write mutations","readwrite",G=>{let W=Fi(),he=Kt();return g.Ui.getEntries(G,I).next(Ze=>{W=Ze,W.forEach((Je,Nt)=>{Nt.isValidDocument()||(he=he.add(Je))})}).next(()=>g.localDocuments.getOverlayedDocuments(G,W)).next(Ze=>{C=Ze;const Je=[];for(const Nt of h){const Pt=PD(Nt,C.get(Nt.key).overlayedDocument);null!=Pt&&Je.push(new ia(Nt.key,Pt,mv(Pt.value.mapValue),Yn.exists(!0)))}return g.mutationQueue.addMutationBatch(G,E,Je,h)}).next(Ze=>{S=Ze;const Je=Ze.applyToLocalDocumentSet(C,he);return g.documentOverlayCache.saveOverlays(G,Ze.batchId,Je)})}).then(()=>({batchId:S.batchId,changes:Sv(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,h,g){let E=u.oc[u.currentUser.toKey()];E||(E=new nr(qt)),E=E.insert(h,g),u.oc[u.currentUser.toKey()]=E}(r,o.batchId,t),yield Ec(r,o.changes),yield xg(r.remoteStore)}catch(o){const u=Rg(o,"Failed to persist write");t.reject(u)}}),eT.apply(this,arguments)}function pS(n,e){return tT.apply(this,arguments)}function tT(){return tT=(0,Se.Z)(function*(n,e){const t=ut(n);try{const r=yield pt(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.ic.get(u);h&&(Mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Xu=!0:o.modifiedDocuments.size>0?Mt(h.Xu):o.removedDocuments.size>0&&(Mt(h.Xu),h.Xu=!1))}),yield Ec(t,r,e)}catch(r){yield Ya(r)}}),tT.apply(this,arguments)}function gS(n,e,t){const r=ut(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.tc.forEach((u,h)=>{const g=h.view.Eu(e);g.snapshot&&o.push(g.snapshot)}),function(u,h){const g=ut(u);g.onlineState=h;let E=!1;g.queries.forEach((I,C)=>{for(const S of C.listeners)S.Eu(h)&&(E=!0)}),E&&WC(g)}(r.eventManager,e),o.length&&r.Zu.Go(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Qx(n,e,t){return nT.apply(this,arguments)}function nT(){return nT=(0,Se.Z)(function*(n,e,t){const r=ut(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ic.get(e),u=o&&o.key;if(u){let h=new nr(nt.comparator);h=h.insert(u,Fn.newNoDocument(u,xt.min()));const g=Kt().add(u),E=new Ol(xt.min(),new Map,new Sn(qt),h,g);yield pS(r,E),r.sc=r.sc.remove(u),r.ic.delete(e),cT(r)}else yield cn(r.localStore,e,!1).then(()=>Pg(r,e,t)).catch(Ya)}),nT.apply(this,arguments)}function Jx(n,e){return rT.apply(this,arguments)}function rT(){return rT=(0,Se.Z)(function*(n,e){const t=ut(n),r=e.batch.batchId;try{const o=yield We(t.localStore,e);aT(t,r,null),oT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ec(t,o)}catch(o){yield Ya(o)}}),rT.apply(this,arguments)}function Xx(n,e,t){return iT.apply(this,arguments)}function iT(){return iT=(0,Se.Z)(function*(n,e,t){const r=ut(n);try{const o=yield function(u,h){const g=ut(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let I;return g.mutationQueue.lookupMutationBatch(E,h).next(C=>(Mt(null!==C),I=C.keys(),g.mutationQueue.removeMutationBatch(E,C))).next(()=>g.mutationQueue.performConsistencyCheck(E)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(E,I,h)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,I)).next(()=>g.localDocuments.getDocuments(E,I))})}(r.localStore,e);aT(r,e,t),oT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ec(r,o)}catch(o){yield Ya(o)}}),iT.apply(this,arguments)}function sT(){return sT=(0,Se.Z)(function*(n,e){const t=ut(n);Zl(t.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const h=ut(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>h.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const o=t.uc.get(r)||[];o.push(e),t.uc.set(r,o)}catch(r){const o=Rg(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),sT.apply(this,arguments)}function oT(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function aT(n,e,t){const r=ut(n);let o=r.oc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.oc[r.currentUser.toKey()]=o}}function Pg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||mS(n,r)})}function mS(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(t_(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),cT(n))}function uT(n,e,t){for(const r of t)r instanceof dS?(n.rc.addReference(r.key,e),tM(n,r)):r instanceof hS?(He("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||mS(n,r.key)):ft()}function tM(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(He("SyncEngine","New document in limbo: "+t),n.nc.add(r),cT(n))}function cT(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new nt(hn.fromString(e)),r=n.cc.next();n.ic.set(r,new qx(t)),n.sc=n.sc.insert(t,r),rb(n.remoteStore,new sa(Cr(Tl(t.path)),r,2,Pi.ot))}}function Ec(n,e,t){return lT.apply(this,arguments)}function lT(){return lT=(0,Se.Z)(function*(n,e,t){const r=ut(n),o=[],u=[],h=[];var g;r.tc.isEmpty()||(r.tc.forEach((g,E)=>{h.push(r.hc(E,e,t).then(I=>{if(I){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,I.fromCache?"not-current":"current"),o.push(I);const C=D.Vi(E.targetId,I);u.push(C)}}))}),yield Promise.all(h),r.Zu.Go(o),yield(g=(0,Se.Z)(function*(E,I){const C=ut(E);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>pe.forEach(I,G=>pe.forEach(G.Pi,W=>C.persistence.referenceDelegate.addReference(S,G.targetId,W)).next(()=>pe.forEach(G.vi,W=>C.persistence.referenceDelegate.removeReference(S,G.targetId,W)))))}catch(S){if(!Qa(S))throw S;He("LocalStore","Failed to update sequence numbers: "+S)}for(const S of I){const G=S.targetId;if(!S.fromCache){const W=C.$i.get(G),Ze=W.withLastLimboFreeSnapshotVersion(W.snapshotVersion);C.$i=C.$i.insert(G,Ze)}}}),function(E,I){return g.apply(this,arguments)})(r.localStore,u))}),lT.apply(this,arguments)}function nM(n,e){return dT.apply(this,arguments)}function dT(){return dT=(0,Se.Z)(function*(n,e){const t=ut(n);if(!t.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const r=yield ne(t.localStore,e);t.currentUser=e,(o=t).uc.forEach(h=>{h.forEach(g=>{g.reject(new Ve(Ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ec(t,r.Ki)}var o}),dT.apply(this,arguments)}function rM(n,e){const t=ut(n),r=t.ic.get(e);if(r&&r.Xu)return Kt().add(r.key);{let o=Kt();const u=t.ec.get(e);if(!u)return o;for(const h of u){const g=t.tc.get(h);o=o.unionWith(g.view.qu)}return o}}function iM(n,e){return hT.apply(this,arguments)}function hT(){return hT=(0,Se.Z)(function*(n,e){const t=ut(n),r=yield lo(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&uT(t,e.targetId,o.zu),o}),hT.apply(this,arguments)}function sM(n,e){return fT.apply(this,arguments)}function fT(){return fT=(0,Se.Z)(function*(n,e){const t=ut(n);return Dg(t.localStore,e).then(r=>Ec(t,r))}),fT.apply(this,arguments)}function oM(n,e,t,r){return pT.apply(this,arguments)}function pT(){return pT=(0,Se.Z)(function*(n,e,t,r){const o=ut(n),u=yield function(h,g){const E=ut(h),I=ut(E.mutationQueue);return E.persistence.runTransaction("Lookup mutation documents","readonly",C=>I.yn(C,g).next(S=>S?E.localDocuments.getDocuments(C,S):pe.resolve(null)))}(o.localStore,e);var g;null!==u?("pending"===t?yield xg(o.remoteStore):"acknowledged"===t||"rejected"===t?(aT(o,e,r||null),oT(o,e),g=e,ut(ut(o.localStore).mutationQueue).In(g)):ft(),yield Ec(o,u)):He("SyncEngine","Cannot apply mutation batch with id: "+e)}),pT.apply(this,arguments)}function gT(){return gT=(0,Se.Z)(function*(n,e){const t=ut(n);if(_T(t),ET(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield yS(t,r.toArray());t.ac=!0,yield jC(t.remoteStore,!0);for(const u of o)rb(t.remoteStore,u)}else if(!1===e&&!1!==t.ac){const r=[];let o=Promise.resolve();t.ec.forEach((u,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(Pg(t,h),cn(t.localStore,h,!0))),t_(t.remoteStore,h)}),yield o,yield yS(t,r),function(u){const h=ut(u);h.ic.forEach((g,E)=>{t_(h.remoteStore,E)}),h.rc.cs(),h.ic=new Map,h.sc=new nr(nt.comparator)}(t),t.ac=!1,yield jC(t.remoteStore,!1)}}),gT.apply(this,arguments)}function yS(n,e,t){return mT.apply(this,arguments)}function mT(){return mT=(0,Se.Z)(function*(n,e,t){const r=ut(n),o=[],u=[];for(const h of e){let g;const E=r.ec.get(h);if(E&&0!==E.length){g=yield Wt(r.localStore,Cr(E[0]));for(const I of E){const C=r.tc.get(I),S=yield iM(r,C);S.snapshot&&u.push(S.snapshot)}}else{const I=yield Ig(r.localStore,h);g=yield Wt(r.localStore,I),yield QC(r,vS(I),h,!1)}o.push(g)}return r.Zu.Go(u),o}),mT.apply(this,arguments)}function vS(n){return cw(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function uM(n){const e=ut(n);return ut(ut(e.localStore).persistence).Ri()}function cM(n,e,t,r){return yT.apply(this,arguments)}function yT(){return yT=(0,Se.Z)(function*(n,e,t,r){const o=ut(n);if(o.ac)return void He("SyncEngine","Ignoring unexpected query state notification.");const u=o.ec.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const h=yield Dg(o.localStore,dw(u[0])),g=Ol.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ec(o,h,g);break}case"rejected":yield cn(o.localStore,e,!0),Pg(o,e,r);break;default:ft()}}),yT.apply(this,arguments)}function lM(n,e,t){return vT.apply(this,arguments)}function vT(){return vT=(0,Se.Z)(function*(n,e,t){const r=_T(n);if(r.ac){for(const o of e){if(r.ec.has(o)){He("SyncEngine","Adding an already active target "+o);continue}const u=yield Ig(r.localStore,o),h=yield Wt(r.localStore,u);yield QC(r,vS(u),h.targetId,!1),rb(r.remoteStore,h)}for(const o of t)r.ec.has(o)&&(yield cn(r.localStore,o,!1).then(()=>{t_(r.remoteStore,o),Pg(r,o)}).catch(Ya))}}),vT.apply(this,arguments)}function _T(n){const e=ut(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qx.bind(null,e),e.Zu.Go=jx.bind(null,e.eventManager),e.Zu.lc=$x.bind(null,e.eventManager),e}function ET(n){const e=ut(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xx.bind(null,e),e}class _S{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.wt=Xv(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return H(this.persistence,new A,e.initialUser,this.wt)}_c(e){return new EC(s.Ms,this.wt)}dc(e){return new JA}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ES extends _S{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield ET(r.yc.syncEngine),yield xg(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return H(this.persistence,new A,e.initialUser,this.wt)}mc(e,t){return new hC(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new ID(t,this.persistence);return new WE(e.asyncQueue,r)}_c(e){const t=b(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new f(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,eS(),nb(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new JA}}class hM extends ES{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e);const o=r.yc.syncEngine;r.sharedClientState instanceof DC&&(r.sharedClientState.syncEngine={kr:oM.bind(null,o),Or:cM.bind(null,o),Mr:lM.bind(null,o),Ri:uM.bind(null,o),Nr:sM.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var u=(0,Se.Z)(function*(h){yield function aM(n,e){return gT.apply(this,arguments)}(r.yc.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start():h||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(h&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():h||r.indexBackfillerScheduler.stop())});return function(h){return u.apply(this,arguments)}}())})()}dc(e){const t=eS();if(!DC.V(t))throw new Ve(Ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=b(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new DC(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class wT{initialize(e,t){var r=this;return(0,Se.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>gS(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=nM.bind(null,r.syncEngine),yield jC(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Bx}createDatastore(e){const t=Xv(e.databaseInfo.databaseId),r=new Dx(e.databaseInfo);return new Ax(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=g=>gS(this.syncEngine,g,0),h=XA.V()?new XA:new wx,new xx(t,r,o,u,h);var t,r,o,u,h}createSyncEngine(e,t){return function(r,o,u,h,g,E,I){const C=new zx(r,o,u,h,g,E);return I&&(C.ac=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(t){const r=ut(t);He("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Sg(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function wS(n,e=10240){let t=0;return{read:()=>(0,Se.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class sb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class fM{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new ri,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Se.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Se.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),o=Number(r);isNaN(o)&&e.Pc(`length string (${r}) is not valid number`);const u=yield e.vc(o);return new Zx(JSON.parse(u),t.length+o)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Se.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,Se.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class pM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Se.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ve(Ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Se.Z)(function*(u,h){const g=ut(u),E=cg(g.wt)+"/documents",I={documents:h.map(W=>Pl(g.wt,W))},C=yield g.ao("BatchGetDocuments",E,I,h.length),S=new Map;C.forEach(W=>{const he=function jA(n,e){return"found"in e?function(t,r){Mt(!!r.found);const o=Os(t,r.found.name),u=qr(r.found.updateTime),h=new fi({mapValue:{fields:r.found.fields}});return Fn.newFoundDocument(o,u,h)}(n,e):"missing"in e?function(t,r){Mt(!!r.missing),Mt(!!r.readTime);const o=Os(t,r.missing),u=qr(r.readTime);return Fn.newNoDocument(o,u)}(n,e):ft()}(g.wt,W);S.set(he.key.toString(),he)});const G=[];return h.forEach(W=>{const he=S.get(W.toString());Mt(!!he),G.push(he)}),G}),function(u,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ms(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=nt.fromPath(o);e.mutations.push(new Av(u,e.precondition(u)))}),yield(r=(0,Se.Z)(function*(o,u){const h=ut(o),g=cg(h.wt)+"/documents",E={writes:u.map(I=>lg(h.wt,I))};yield h.ro("Commit",g,E)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ft();t=xt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ve(Ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Yn.updateTime(t):Yn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xt.min()))throw new Ve(Ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yn.updateTime(t)}return Yn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gM{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Dc=r.maxAttempts,this.So=new CC(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Se.Z)(function*(){const t=new pM(e.datastore),r=e.xc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Nc(u)}))}).catch(o=>{e.Nc(o)})}))}xc(e){try{const t=this.updateFunction(e);return!Kp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Ew(t)}return!1}}class mM{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=fr.UNAUTHENTICATED,this.clientId=BE.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,Se.Z)(function*(g){He("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(He("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Rg(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function bS(n,e){return bT.apply(this,arguments)}function bT(){return bT=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Se.Z)(function*(u){r.isEqual(u)||(yield ne(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),bT.apply(this,arguments)}function IS(n,e){return IT.apply(this,arguments)}function IT(){return IT=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield DT(n);He("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>aS(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>aS(e.remoteStore,u)),n.onlineComponents=e}),IT.apply(this,arguments)}function DT(n){return CT.apply(this,arguments)}function CT(){return CT=(0,Se.Z)(function*(n){return n.offlineComponents||(He("FirestoreClient","Using default OfflineComponentProvider"),yield bS(n,new _S)),n.offlineComponents}),CT.apply(this,arguments)}function ob(n){return TT.apply(this,arguments)}function TT(){return TT=(0,Se.Z)(function*(n){return n.onlineComponents||(He("FirestoreClient","Using default OnlineComponentProvider"),yield IS(n,new wT)),n.onlineComponents}),TT.apply(this,arguments)}function DS(n){return DT(n).then(e=>e.persistence)}function AT(n){return DT(n).then(e=>e.localStore)}function CS(n){return ob(n).then(e=>e.remoteStore)}function ST(n){return ob(n).then(e=>e.syncEngine)}function kg(n){return xT.apply(this,arguments)}function xT(){return xT=(0,Se.Z)(function*(n){const e=yield ob(n),t=e.eventManager;return t.onListen=Wx.bind(null,e.syncEngine),t.onUnlisten=Kx.bind(null,e.syncEngine),t}),xT.apply(this,arguments)}function TS(n,e,t={}){const r=new ri;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(o,u,h,g,E){const I=new sb({next:S=>{u.enqueueAndForget(()=>qC(o,C));const G=S.docs.has(h);!G&&S.fromCache?E.reject(new Ve(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&S.fromCache&&g&&"server"===g.source?E.reject(new Ve(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(S)},error:S=>E.reject(S)}),C=new KC(Tl(h.path),I,{includeMetadataChanges:!0,Du:!0});return HC(o,C)}(yield kg(n),n.asyncQueue,e,t,r)})),r.promise}function AS(n,e,t={}){const r=new ri;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(o,u,h,g,E){const I=new sb({next:S=>{u.enqueueAndForget(()=>qC(o,C)),S.fromCache&&"server"===g.source?E.reject(new Ve(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(S)},error:S=>E.reject(S)}),C=new KC(h,I,{includeMetadataChanges:!0,Du:!0});return HC(o,C)}(yield kg(n),n.asyncQueue,e,t,r)})),r.promise}const SS=new Map;function MT(n,e,t){if(!t)throw new Ve(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xS(n,e,t,r){if(!0===e&&!0===r)throw new Ve(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function MS(n){if(!nt.isDocumentKey(n))throw new Ve(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function RS(n){if(nt.isDocumentKey(n))throw new Ve(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ab(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ft()}function pn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ve(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ab(n);throw new Ve(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function OS(n,e){if(e<=0)throw new Ve(Ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class NS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ve(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ve(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,xS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class n_{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NS({}),this._settingsFrozen=!1,e instanceof ea?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Ve(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(o.options.projectId)}(e))}get app(){if(!this._app)throw new Ve(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ve(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Hp;switch(t.type){case"gapi":const r=t.client;return Mt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new mh(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ve(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=SS.get(e);t&&(He("ComponentProvider","Removing Datastore"),SS.delete(e),t.terminate())}(this),Promise.resolve()}}class rr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new au(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}}class Li{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Li(this.firestore,e,this._query)}}class au extends Li{constructor(e,t,r){super(e,t,Tl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new nt(e))}withConverter(e){return new au(this.firestore,e,this._path)}}function PS(n,e,...t){if(n=(0,an.m9)(n),MT("collection","path",e),n instanceof n_){const r=hn.fromString(e,...t);return RS(r),new au(n,null,r)}{if(!(n instanceof rr||n instanceof au))throw new Ve(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hn.fromString(e,...t));return RS(r),new au(n.firestore,null,r)}}function ub(n,e,...t){if(n=(0,an.m9)(n),1===arguments.length&&(e=BE.I()),MT("doc","path",e),n instanceof n_){const r=hn.fromString(e,...t);return MS(r),new rr(n,null,new nt(r))}{if(!(n instanceof rr||n instanceof au))throw new Ve(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hn.fromString(e,...t));return MS(r),new rr(n.firestore,n instanceof au?n.converter:null,new nt(r))}}function kS(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),(n instanceof rr||n instanceof au)&&(e instanceof rr||e instanceof au)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function FS(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),n instanceof Li&&e instanceof Li&&n.firestore===e.firestore&&dc(n._query,e._query)&&n.converter===e.converter}class AM{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new CC(this,"async_queue_retry"),this.Kc=()=>{const t=nb();t&&He("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=nb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=nb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new ri;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!Qa(t))throw t;He("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,br("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const o=ZC.createAndSchedule(this,e,t,r,u=>this.Wc(u));return this.$c.push(o),o}Gc(){this.Bc&&ft()}verifyOperationInProgress(){}zc(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function RT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class SM{constructor(){this._progressObserver={},this._taskCompletionResolver=new ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class pr extends n_{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new AM,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||LS(this),this._firestoreClient.terminate()}}function MM(n=(0,to.getApp)()){return(0,to._getProvider)(n,"firestore").getImmediate()}function zr(n){return n._firestoreClient||LS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function LS(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new wh(n._databaseId,u,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;n._firestoreClient=new mM(n._authCredentials,n._appCheckCredentials,n._queue,r)}function US(n,e,t){const r=new ri;return n.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield bS(n,t),yield IS(n,e),r.resolve()}catch(o){const u=o;if(!("FirebaseError"===(h=u).name?h.code===Ee.FAILED_PRECONDITION||h.code===Ee.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var h})).then(()=>r.promise)}function VS(n){if(n._initialized||n._terminated)throw new Ve(Ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ve(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uu(Or.fromBase64String(e))}catch(t){throw new Ve(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uu(Or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $h{constructor(e){this._methodName=e}}class cb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ve(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ve(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}const VM=/^__.*__$/;class BM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new hc(e,this.data,t,this.fieldTransforms)}}class BS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ia(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class lb{constructor(e,t,r,o,u,h){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=o,void 0===u&&this.Xc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new lb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ta({path:r,na:!1});return o.sa(e),o}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ta({path:r,na:!1});return o.Xc(),o}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return fb(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(jS(this.Zc)&&VM.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class jM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||Xv(e)}aa(e,t,r,o=!1){return new lb({Zc:e,methodName:t,ca:r,path:Ir.emptyPath(),na:!1,ua:o},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Zh(n){const e=n._freezeSettings(),t=Xv(n._databaseId);return new jM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function db(n,e,t,r,o,u={}){const h=n.aa(u.merge||u.mergeFields?2:0,e,t,o);kT("Data must be an object, but it was:",h,r);const g=HS(r,h);let E,I;if(u.merge)E=new ki(h.fieldMask),I=h.fieldTransforms;else if(u.mergeFields){const C=[];for(const S of u.mergeFields){const G=FT(e,S,t);if(!h.contains(G))throw new Ve(Ee.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);qS(C,G)||C.push(G)}E=new ki(C),I=h.fieldTransforms.filter(S=>E.covers(S.field))}else E=null,I=h.fieldTransforms;return new BM(new fi(g),E,I)}class r_ extends $h{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof r_}}function $S(n,e,t){return new lb({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class OT extends $h{_toFieldTransform(e){return new Ah(e.path,new Sl)}isEqual(e){return e instanceof OT}}class $M extends $h{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=$S(this,e,!0),r=this.ha.map(u=>Hh(u,t)),o=new xl(r);return new Ah(e.path,o)}isEqual(e){return this===e}}class ZM extends $h{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=$S(this,e,!0),r=this.ha.map(u=>Hh(u,t)),o=new ra(r);return new Ah(e.path,o)}isEqual(e){return this===e}}class HM extends $h{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new nu(e.wt,bv(e.wt,this.la));return new Ah(e.path,t)}isEqual(e){return this===e}}function NT(n,e,t,r){const o=n.aa(1,e,t);kT("Data must be an object, but it was:",o,r);const u=[],h=fi.empty();Jo(r,(E,I)=>{const C=hb(e,E,t);I=(0,an.m9)(I);const S=o.ia(C);if(I instanceof r_)u.push(C);else{const G=Hh(I,S);null!=G&&(u.push(C),h.set(C,G))}});const g=new ki(u);return new BS(h,g,o.fieldTransforms)}function PT(n,e,t,r,o,u){const h=n.aa(1,e,t),g=[FT(e,r,t)],E=[o];if(u.length%2!=0)throw new Ve(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let G=0;G<u.length;G+=2)g.push(FT(e,u[G])),E.push(u[G+1]);const I=[],C=fi.empty();for(let G=g.length-1;G>=0;--G)if(!qS(I,g[G])){const W=g[G];let he=E[G];he=(0,an.m9)(he);const Ze=h.ia(W);if(he instanceof r_)I.push(W);else{const Je=Hh(he,Ze);null!=Je&&(I.push(W),C.set(W,Je))}}const S=new ki(I);return new BS(C,S,h.fieldTransforms)}function ZS(n,e,t,r=!1){return Hh(t,n.aa(r?4:3,e))}function Hh(n,e){if(GS(n=(0,an.m9)(n)))return kT("Unsupported field value:",e,n),HS(n,e);if(n instanceof $h)return function(t,r){if(!jS(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const h of t){let g=Hh(h,r.ra(u));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,an.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bv(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=bn.fromDate(t);return{timestampValue:Rh(r.wt,o)}}if(t instanceof bn){const o=new bn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Rh(r.wt,o)}}if(t instanceof cb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof uu)return{bytesValue:Sw(r.wt,t._byteString)};if(t instanceof rr){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.oa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ug(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${ab(t)}`)}(n,e)}function HS(n,e){const t={};return zp(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jo(n,(r,o)=>{const u=Hh(o,e.ea(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function GS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof bn||n instanceof cb||n instanceof uu||n instanceof rr||n instanceof $h)}function kT(n,e,t){if(!GS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ab(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function FT(n,e,t){if((e=(0,an.m9)(e))instanceof wc)return e._internalPath;if("string"==typeof e)return hb(n,e);throw fb("Field path arguments must be of type string or ",n,!1,void 0,t)}const GM=new RegExp("[~\\*/\\[\\]]");function hb(n,e,t){if(e.search(GM)>=0)throw fb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wc(...e.split("."))._internalPath}catch(r){throw fb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fb(n,e,t,r,o){const u=r&&!r.isEmpty(),h=void 0!==o;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let E="";return(u||h)&&(E+=" (found",u&&(E+=` in field ${r}`),h&&(E+=` in document ${o}`),E+=")"),new Ve(Ee.INVALID_ARGUMENT,g+n+E)}function qS(n,e){return n.some(t=>t.isEqual(e))}class i_{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class qM extends i_{data(){return super.data()}}function pb(n,e){return"string"==typeof e?hb(n,e):e instanceof wc?e._internalPath:e._delegate._internalPath}class Gh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bc extends i_{constructor(e,t,r,o,u,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new s_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class s_ extends bc{data(e={}){return super.data(e)}}class Gl{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Gh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new s_(this._firestore,this._userDataWriter,r.key,r,new Gh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ve(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new s_(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Gh(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const g=new s_(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Gh(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,I=-1;return 0!==h.type&&(E=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),1!==h.type&&(u=u.add(h.doc),I=u.indexOf(h.doc.key)),{type:zM(h.type),doc:g,oldIndex:E,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function zS(n,e){return n instanceof bc&&e instanceof bc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Gl&&e instanceof Gl&&n._firestore===e._firestore&&FS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function WS(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ve(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o_{}function ql(n,...e){for(const t of e)n=t._apply(n);return n}class WM extends o_{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=Zh(e.firestore),r=function(o,u,h,g,E,I,C){let S;if(E.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new Ve(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){e1(C,I);const W=[];for(const he of C)W.push(XS(g,o,he));S={arrayValue:{values:W}}}else S=XS(g,o,C)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||e1(C,I),S=ZS(h,"where",C,"in"===I||"not-in"===I);const G=si.create(E,I,S);return function(W,he){if(he.ht()){const Je=lc(W);if(null!==Je&&!Je.isEqual(he.field))throw new Ve(Ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Je.toString()}' and '${he.field.toString()}'`);const Nt=vv(W);null!==Nt&&t1(0,he.field,Nt)}const Ze=function(Je,Nt){for(const Pt of Je.filters)if(Nt.indexOf(Pt.op)>=0)return Pt.op;return null}(W,function(Je){switch(Je){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(he.op));if(null!==Ze)throw new Ve(Ee.INVALID_ARGUMENT,Ze===he.op?`Invalid query. You cannot use more than one '${he.op.toString()}' filter.`:`Invalid query. You cannot use '${he.op.toString()}' filters with '${Ze.toString()}' filters.`)}(o,G),G}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Li(e.firestore,e.converter,function(o,u){const h=o.filters.concat([u]);return new na(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class YM extends o_{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Ve(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ve(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new cc(o,u);return function(g,E){if(null===vv(g)){const I=lc(g);null!==I&&t1(0,I,E.field)}}(r,h),h}(e._query,this.fa,this.wa);return new Li(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new na(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class KS extends o_{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new Li(e.firestore,e.converter,lw(e._query,this.ma,this.ga))}}class YS extends o_{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=JS(e,this.type,this.ya,this.pa);return new Li(e.firestore,e.converter,(o=t,new na((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class QS extends o_{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=JS(e,this.type,this.ya,this.pa);return new Li(e.firestore,e.converter,(o=t,new na((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function JS(n,e,t,r){if(t[0]=(0,an.m9)(t[0]),t[0]instanceof i_)return function(o,u,h,g,E){if(!g)throw new Ve(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const I=[];for(const C of tu(o))if(C.field.isKeyField())I.push(eu(u,g.key));else{const S=g.data.field(C.field);if(wl(S))throw new Ve(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const G=C.field.canonicalString();throw new Ve(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${G}' (used as the orderBy) does not exist.`)}I.push(S)}return new ta(I,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Zh(n.firestore);return function(u,h,g,E,I,C){const S=u.explicitOrderBy;if(I.length>S.length)throw new Ve(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const G=[];for(let W=0;W<I.length;W++){const he=I[W];if(S[W].field.isKeyField()){if("string"!=typeof he)throw new Ve(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof he}`);if(!_v(u)&&-1!==he.indexOf("/"))throw new Ve(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${he}' contains a slash.`);const Ze=u.path.child(hn.fromString(he));if(!nt.isDocumentKey(Ze))throw new Ve(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Ze}' is not because it contains an odd number of segments.`);const Je=new nt(Ze);G.push(eu(h,Je))}else{const Ze=ZS(g,E,he);G.push(Ze)}}return new ta(G,C)}(n._query,n.firestore._databaseId,o,e,t,r)}}function XS(n,e,t){if("string"==typeof(t=(0,an.m9)(t))){if(""===t)throw new Ve(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_v(e)&&-1!==t.indexOf("/"))throw new Ve(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(hn.fromString(t));if(!nt.isDocumentKey(r))throw new Ve(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eu(n,new nt(r))}if(t instanceof rr)return eu(n,t._key);throw new Ve(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ab(t)}.`)}function e1(n,e){if(!Array.isArray(n)||0===n.length)throw new Ve(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ve(Ee.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function t1(n,e,t){if(!t.isEqual(e))throw new Ve(Ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const iR={maxAttempts:5};class LT{convertValue(e,t="none"){switch(oc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ft()}}convertObject(e,t){const r={};return Jo(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new cb(Dr(e.latitude),Dr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=YE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(oo(e));default:return null}}convertTimestamp(e){const t=Xo(e);return new bn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=hn.fromString(e);Mt(ZD(r));const o=new ea(r.get(1),r.get(3)),u=new nt(r.popFirst(5));return o.isEqual(t)||br(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function gb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class sR extends LT{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,t)}}class n1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zh(e)}set(e,t,r){this._verifyNotCommitted();const o=zl(e,this._firestore),u=gb(o.converter,t,r),h=db(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,Yn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=zl(e,this._firestore);let h;return h="string"==typeof(t=(0,an.m9)(t))||t instanceof wc?PT(this._dataReader,"WriteBatch.update",u._key,t,r,o):NT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,Yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=zl(e,this._firestore);return this._mutations=this._mutations.concat(new Ms(t._key,Yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(Ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zl(n,e){if((n=(0,an.m9)(n)).firestore!==e)throw new Ve(Ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class qh extends LT{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,t)}}function r1(n,e,t){n=pn(n,rr);const r=pn(n.firestore,pr),o=gb(n.converter,e,t);return Fg(r,[db(Zh(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Yn.none())])}function i1(n,e,t,...r){n=pn(n,rr);const o=pn(n.firestore,pr),u=Zh(o);let h;return h="string"==typeof(e=(0,an.m9)(e))||e instanceof wc?PT(u,"updateDoc",n._key,e,t,r):NT(u,"updateDoc",n._key,e),Fg(o,[h.toMutation(n._key,Yn.exists(!0))])}function s1(n,...e){var t,r,o;n=(0,an.m9)(n);let u={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||RT(e[h])||(u=e[h],h++);const g={includeMetadataChanges:u.includeMetadataChanges};if(RT(e[h])){const S=e[h];e[h]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[h+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[h+2]=null===(o=S.complete)||void 0===o?void 0:o.bind(S)}let E,I,C;if(n instanceof rr)I=pn(n.firestore,pr),C=Tl(n._key.path),E={next:S=>{e[h]&&e[h](UT(I,n,S))},error:e[h+1],complete:e[h+2]};else{const S=pn(n,Li);I=pn(S.firestore,pr),C=S._query;const G=new qh(I);E={next:W=>{e[h]&&e[h](new Gl(I,G,S,W))},error:e[h+1],complete:e[h+2]},WS(n._query)}return function(S,G,W,he){const Ze=new sb(he),Je=new KC(G,Ze,W);return S.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return HC(yield kg(S),Je)})),()=>{Ze.Tc(),S.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return qC(yield kg(S),Je)}))}}(zr(I),C,g,E)}function Fg(n,e){return function(t,r){const o=new ri;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function Yx(n,e,t){return eT.apply(this,arguments)}(yield ST(t),r,o)})),o.promise}(zr(n),e)}function UT(n,e,t){const r=t.docs.get(e._key),o=new qh(n);return new bc(n,o,e._key,r,new Gh(t.hasPendingWrites,t.fromCache),e.converter)}class gR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Zh(e)}get(e){const t=zl(e,this._firestore),r=new sR(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ft();const u=o[0];if(u.isFoundDocument())return new i_(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new i_(this._firestore,r,t._key,null,t.converter);throw ft()})}set(e,t,r){const o=zl(e,this._firestore),u=gb(o.converter,t,r),h=db(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const u=zl(e,this._firestore);let h;return h="string"==typeof(t=(0,an.m9)(t))||t instanceof wc?PT(this._dataReader,"Transaction.update",u._key,t,r,o):NT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=zl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=zl(e,this._firestore),r=new qh(this._firestore);return super.get(e).then(o=>new bc(this._firestore,r,t._key,o._document,new Gh(!1,!1),t.converter))}}function VT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ve("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function a1(){if("undefined"==typeof Uint8Array)throw new Ve("unimplemented","Uint8Arrays are not available in this environment.")}function u1(){if(!function DD(){return"undefined"!=typeof atob}())throw new Ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){so=to.SDK_VERSION,(0,to._registerComponent)(new Hd.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new pr(o,new _D(t.getProvider("auth-internal")),new ED(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,to.registerVersion)(LE,"3.4.11",n),(0,to.registerVersion)(LE,"3.4.11","esm2017")}();class a_{constructor(e){this._delegate=e}static fromBase64String(e){return u1(),new a_(uu.fromBase64String(e))}static fromUint8Array(e){return a1(),new a_(uu.fromUint8Array(e))}toBase64(){return u1(),this._delegate.toBase64()}toUint8Array(){return a1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function BT(n){return function DR(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class CR{enableIndexedDbPersistence(e,t){return function RM(n,e){VS(n=pn(n,pr));const t=zr(n),r=n._freezeSettings(),o=new wT;return US(t,o,new ES(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function OM(n){VS(n=pn(n,pr));const e=zr(n),t=n._freezeSettings(),r=new wT;return US(e,r,new hM(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function NM(n){if(n._initialized&&!n._terminated)throw new Ve(Ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ri;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{yield(t=(0,Se.Z)(function*(r){if(!Ss.V())return Promise.resolve();const o=r+"main";yield Ss.delete(o)}),function(r){return t.apply(this,arguments)})(b(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class c1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ea||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&gl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function CM(n,e,t,r={}){var o;const u=(n=pn(n,n_))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&gl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,g;if("string"==typeof r.mockUserToken)h=r.mockUserToken,g=fr.MOCK_USER;else{h=(0,an.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Ve(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new fr(E)}n._authCredentials=new vD(new lv(h,g))}}(this._delegate,e,t,r)}enableNetwork(){return function kM(n){return function yM(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield DS(n),t=yield CS(n);return e.setNetworkEnabled(!0),function(r){const o=ut(r);return o.lu.delete(0),e_(o)}(t)}))}(zr(n=pn(n,pr)))}(this._delegate)}disableNetwork(){return function FM(n){return function vM(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield DS(n),t=yield CS(n);return e.setNetworkEnabled(!1),(r=(0,Se.Z)(function*(o){const u=ut(o);u.lu.add(0),yield Sg(u),u._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(zr(n=pn(n,pr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,xS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function PM(n){return function(e){const t=new ri;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function eM(n,e){return sT.apply(this,arguments)}(yield ST(e),t)})),t.promise}(zr(n=pn(n,pr)))}(this._delegate)}onSnapshotsInSync(e){return function pR(n,e){return function wM(n,e){const t=new sb(e);return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield kg(n),o=t,ut(r).Tu.add(o),void o.next();var r,o})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield kg(n),o=t,void ut(r).Tu.delete(o);var r,o}))}}(zr(n=pn(n,pr)),RT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Lg(this,PS(this._delegate,e))}catch(t){throw Wi(t,"collection()","Firestore.collection()")}}doc(e){try{return new ho(this,ub(this._delegate,e))}catch(t){throw Wi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ki(this,function TM(n,e){if(n=pn(n,n_),MT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ve(Ee.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Li(n,null,(t=e,new na(hn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Wi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function mR(n,e,t){n=pn(n,pr);const r=Object.assign(Object.assign({},iR),t);return function(o){if(o.maxAttempts<1)throw new Ve(Ee.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function bM(n,e,t){const r=new ri;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const o=yield(u=n,ob(u).then(h=>h.datastore));var u;new gM(n.asyncQueue,o,t,e,r).run()})),r.promise}(zr(n),o=>e(new gR(n,o)),r)}(this._delegate,t=>e(new l1(this,t)))}batch(){return zr(this._delegate),new d1(new n1(this._delegate,e=>Fg(this._delegate,e)))}loadBundle(e){return function LM(n,e){const t=zr(n=pn(n,pr)),r=new SM;return function IM(n,e,t,r){const o=function(u,h){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,E=function(E,I){if(E instanceof Uint8Array)return wS(E,I);if(E instanceof ArrayBuffer)return wS(new Uint8Array(E),I);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new fM(E,h);var E}(t,Xv(e));n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function dM(n,e,t){const r=ut(n);var o;(o=(0,Se.Z)(function*(u,h,g){try{const E=yield h.getMetadata();if(yield function(G,W){const he=ut(G),Ze=qr(W.createTime);return he.persistence.runTransaction("hasNewerBundle","readonly",Je=>he.Ds.getBundleMetadata(Je,W.id)).then(Je=>!!Je&&Je.createTime.compareTo(Ze)>=0)}(u.localStore,E))return yield h.close(),g._completeWith({taskState:"Success",documentsLoaded:(G=E).totalDocuments,bytesLoaded:G.totalBytes,totalDocuments:G.totalDocuments,totalBytes:G.totalBytes}),Promise.resolve(new Set);g._updateProgress(lS(E));const I=new Hx(E,u.localStore,h.wt);let C=yield h.fc();for(;C;){const G=yield I.Nu(C);G&&g._updateProgress(G),C=yield h.fc()}const S=yield I.complete();return yield Ec(u,S.Mu,void 0),yield function(G,W){const he=ut(G);return he.persistence.runTransaction("Save bundle","readwrite",Ze=>he.Ds.saveBundleMetadata(Ze,W))}(u.localStore,E),g._completeWith(S.progress),Promise.resolve(S.Ou)}catch(E){return gl("SyncEngine",`Loading bundle failed with ${E}`),g._failWith(E),Promise.resolve(new Set)}var G}),function(u,h,g){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield ST(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function UM(n,e){return function DM(n,e){return n.asyncQueue.enqueue((0,Se.Z)(function*(){return function(t,r){const o=ut(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ds.getNamedQuery(u,r))}(yield AT(n),e)}))}(zr(n=pn(n,pr)),e).then(t=>t?new Li(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ki(this,t):null)}}class mb extends LT{constructor(e){super(),this.firestore=e}convertBytes(e){return new a_(new uu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ho.forKey(t,this.firestore,null)}}class l1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new mb(e)}get(e){const t=Wh(e);return this._delegate.get(t).then(r=>new u_(this._firestore,new bc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Wh(e);return r?(VT("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Wh(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Wh(e);return this._delegate.delete(t),this}}class d1{constructor(e){this._delegate=e}set(e,t,r){const o=Wh(e);return r?(VT("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Wh(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Wh(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class zh{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new s_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new c_(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=zh.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new zh(e,new mb(e),t),o.set(t,u)),u}}zh.INSTANCES=new WeakMap;class ho{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ho(t,new rr(t._delegate,r,new nt(e)))}static forKey(e,t,r){return new ho(t,new rr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Lg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Lg(this.firestore,PS(this._delegate,e))}catch(t){throw Wi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,an.m9)(e))instanceof rr&&kS(this._delegate,e)}set(e,t){t=VT("DocumentReference.set",t);try{return t?r1(this._delegate,e,t):r1(this._delegate,e)}catch(r){throw Wi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?i1(this._delegate,e):i1(this._delegate,e,t,...r)}catch(o){throw Wi(o,"updateDoc()","DocumentReference.update()")}}delete(){return function hR(n){return Fg(pn(n.firestore,pr),[new Ms(n._key,Yn.none())])}(this._delegate)}onSnapshot(...e){const t=h1(e),r=f1(e,o=>new u_(this.firestore,new bc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return s1(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function aR(n){n=pn(n,rr);const e=pn(n.firestore,pr),t=zr(e),r=new qh(e);return function _M(n,e){const t=new ri;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(o,u,h){try{const g=yield function(E,I){const C=ut(E);return C.persistence.runTransaction("read document","readonly",S=>C.localDocuments.getDocument(S,I))}(o,u);g.isFoundDocument()?h.resolve(g):g.isNoDocument()?h.resolve(null):h.reject(new Ve(Ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const E=Rg(g,`Failed to get document '${u} from cache`);h.reject(E)}}),function(o,u,h){return r.apply(this,arguments)})(yield AT(n),e,t);var r})),t.promise}(t,n._key).then(o=>new bc(e,r,n._key,o,new Gh(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function uR(n){n=pn(n,rr);const e=pn(n.firestore,pr);return TS(zr(e),n._key,{source:"server"}).then(t=>UT(e,n,t))}(this._delegate):function oR(n){n=pn(n,rr);const e=pn(n.firestore,pr);return TS(zr(e),n._key).then(t=>UT(e,n,t))}(this._delegate),t.then(r=>new u_(this.firestore,new bc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ho(this.firestore,this._delegate.withConverter(e?zh.getInstance(this.firestore,e):null))}}function Wi(n,e,t){return n.message=n.message.replace(e,t),n}function h1(n){for(const e of n)if("object"==typeof e&&!BT(e))return e;return{}}function f1(n,e){var t,r;let o;return o=BT(n[0])?n[0]:BT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class u_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ho(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return zS(this._delegate,e._delegate)}}class c_ extends u_{data(e){const t=this._delegate.data(e);return function yD(n,e){n||ft()}(void 0!==t),t}}class Ki{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mb(e)}where(e,t,r){try{return new Ki(this.firestore,ql(this._delegate,function KM(n,e,t){const r=e,o=pb("where",n);return new WM(o,r,t)}(e,t,r)))}catch(o){throw Wi(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ki(this.firestore,ql(this._delegate,function QM(n,e="asc"){const t=e,r=pb("orderBy",n);return new YM(r,t)}(e,t)))}catch(r){throw Wi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ki(this.firestore,ql(this._delegate,function JM(n){return OS("limit",n),new KS("limit",n,"F")}(e)))}catch(t){throw Wi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ki(this.firestore,ql(this._delegate,function XM(n){return OS("limitToLast",n),new KS("limitToLast",n,"L")}(e)))}catch(t){throw Wi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ki(this.firestore,ql(this._delegate,function eR(...n){return new YS("startAt",n,!0)}(...e)))}catch(t){throw Wi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ki(this.firestore,ql(this._delegate,function tR(...n){return new YS("startAfter",n,!1)}(...e)))}catch(t){throw Wi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ki(this.firestore,ql(this._delegate,function nR(...n){return new QS("endBefore",n,!1)}(...e)))}catch(t){throw Wi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ki(this.firestore,ql(this._delegate,function rR(...n){return new QS("endAt",n,!0)}(...e)))}catch(t){throw Wi(t,"endAt()","Query.endAt()")}}isEqual(e){return FS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function lR(n){n=pn(n,Li);const e=pn(n.firestore,pr),t=zr(e),r=new qh(e);return function EM(n,e){const t=new ri;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(o,u,h){try{const g=yield lo(o,u,!0),E=new fS(u,g.ji),I=E.Ku(g.documents),C=E.applyChanges(I,!1);h.resolve(C.snapshot)}catch(g){const E=Rg(g,`Failed to execute query '${u} against cache`);h.reject(E)}}),function(o,u,h){return r.apply(this,arguments)})(yield AT(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Gl(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function dR(n){n=pn(n,Li);const e=pn(n.firestore,pr),t=zr(e),r=new qh(e);return AS(t,n._query,{source:"server"}).then(o=>new Gl(e,r,n,o))}(this._delegate):function cR(n){n=pn(n,Li);const e=pn(n.firestore,pr),t=zr(e),r=new qh(e);return WS(n._query),AS(t,n._query).then(o=>new Gl(e,r,n,o))}(this._delegate),t.then(r=>new jT(this.firestore,new Gl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=h1(e),r=f1(e,o=>new jT(this.firestore,new Gl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return s1(this._delegate,t,r)}withConverter(e){return new Ki(this.firestore,this._delegate.withConverter(e?zh.getInstance(this.firestore,e):null))}}class AR{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new c_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ki(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new c_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new AR(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new c_(this._firestore,r))})}isEqual(e){return zS(this._delegate,e._delegate)}}class Lg extends Ki{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ho(this.firestore,e):null}doc(e){try{return new ho(this.firestore,void 0===e?ub(this._delegate):ub(this._delegate,e))}catch(t){throw Wi(t,"doc()","CollectionReference.doc()")}}add(e){return function fR(n,e){const t=pn(n.firestore,pr),r=ub(n),o=gb(n.converter,e);return Fg(t,[db(Zh(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ho(this.firestore,t))}isEqual(e){return kS(this._delegate,e._delegate)}withConverter(e){return new Lg(this.firestore,this._delegate.withConverter(e?zh.getInstance(this.firestore,e):null))}}function Wh(n){return pn(n,rr)}class $T{constructor(...e){this._delegate=new wc(...e)}static documentId(){return new $T(Ir.keyField().canonicalString())}isEqual(e){return(e=(0,an.m9)(e))instanceof wc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Kh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function vR(){return new OT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Kh(e)}static delete(){const e=function yR(){return new r_("deleteField")}();return e._methodName="FieldValue.delete",new Kh(e)}static arrayUnion(...e){const t=function _R(...n){return new $M("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Kh(t)}static arrayRemove(...e){const t=function ER(...n){return new ZM("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Kh(t)}static increment(e){const t=function wR(n){return new HM("increment",n)}(e);return t._methodName="FieldValue.increment",new Kh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const SR={Firestore:c1,GeoPoint:cb,Timestamp:bn,Blob:a_,Transaction:l1,WriteBatch:d1,DocumentReference:ho,DocumentSnapshot:u_,Query:Ki,QueryDocumentSnapshot:c_,QuerySnapshot:jT,CollectionReference:Lg,FieldPath:$T,FieldValue:Kh,setLogLevel:function TR(n){!function mD(n){Ka.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function MR(n){(function xR(n,e){n.INTERNAL.registerComponent(new Hd.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},SR)))})(n,(e,t)=>new c1(e,t,new CR)),n.registerVersion("@firebase/firestore-compat","0.1.20")}(PA.Z);var RR=x(6451),yb=x(5363),OR=x(6063);class NR extends ys.x{constructor(e=1/0,t=1/0,r=OR.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:h}=this;t||(r.push(e),!o&&r.push(u.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let h=0;h<u.length&&!e.closed;h+=r?1:2)e.next(u[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const h=t.now();let g=0;for(let E=1;E<r.length&&r[E]<=h;E+=2)g=E;g&&r.splice(0,g+1)}}}var PR=x(3099);function p1(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,PR.B)({connector:()=>new NR(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function g1(n,e){return(0,vu.m)(e)?_r(()=>n,e):_r(()=>n)}var ZT=x(9468),aa=x(5867);class Yh{constructor(e){return e}}class vb{constructor(){return(0,aa.C6)()}}const HT=new l.OlP("angularfire2._apps"),FR={provide:Yh,useFactory:function kR(n){return n&&1===n.length?n[0]:new Yh((0,aa.Mq)())},deps:[[new l.FiY,HT]]},LR={provide:vb,deps:[[new l.FiY,HT]]};function UR(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Yh(r)}}let VR=(()=>{class n{constructor(t){(0,aa.KN)("angularfire",Ht.q4.full,"core"),(0,aa.KN)("angularfire",Ht.q4.full,"app"),(0,aa.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[FR,LR]}),n})();function BR(n,...e){return{ngModule:VR,providers:[{provide:HT,useFactory:UR(n),multi:!0,deps:[l.R0b,l.zs3,Ht.HU,...e]}]}}const jR=(0,Ht.u3)(aa.ZF,!0),m1=new Map,$R={activated:!1,tokenObservers:[]},ZR={initialized:!1,enabled:!1};function yi(n){return m1.get(n)||$R}function ua(n,e){m1.set(n,e)}function _b(){return ZR}class WR{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Se.Z)(function*(){t.stop();try{t.pending=new an.BH,yield function KR(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new an.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Yi=new an.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function v1(n){if(!yi(n).activated)throw Yi.create("use-before-activation",{appName:n.name})}function zT(n,e){return WT.apply(this,arguments)}function WT(){return WT=(0,Se.Z)(function*({url:n,body:e},t){var r,o;const u={"Content-Type":"application/json"},h=t.getImmediate({optional:!0});if(h){const W=yield h.getHeartbeatsHeader();W&&(u["X-Firebase-Client"]=W)}const g={method:"POST",body:JSON.stringify(e),headers:u};let E,I;try{E=yield fetch(n,g)}catch(W){throw Yi.create("fetch-network-error",{originalErrorMessage:null===(r=W)||void 0===r?void 0:r.message})}if(200!==E.status)throw Yi.create("fetch-status-error",{httpStatus:E.status});try{I=yield E.json()}catch(W){throw Yi.create("fetch-parse-error",{originalErrorMessage:null===(o=W)||void 0===o?void 0:o.message})}const C=I.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw Yi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});const S=1e3*Number(C[1]),G=Date.now();return{token:I.token,expireTimeMillis:G+S,issuedAtTimeMillis:G}}),WT.apply(this,arguments)}function XR(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const l_="firebase-app-check-store";let bb=null;function E1(){return bb||(bb=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var u;e(Yi.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(l_,{keyPath:"compositeKey"})}}catch(r){e(Yi.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),bb)}function KT(){return KT=(0,Se.Z)(function*(n,e){const r=(yield E1()).transaction(l_,"readwrite"),u=r.objectStore(l_).put({compositeKey:n,value:e});return new Promise((h,g)=>{u.onsuccess=E=>{h()},r.onerror=E=>{var I;g(Yi.create("storage-set",{originalErrorMessage:null===(I=E.target.error)||void 0===I?void 0:I.message}))}})}),KT.apply(this,arguments)}const d_=new Ha.Yd("@firebase/app-check");function D1(n,e){return(0,an.hl)()?function rO(n,e){return function w1(n,e){return KT.apply(this,arguments)}(function I1(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{d_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function C1(){return _b().enabled}function T1(){return XT.apply(this,arguments)}function XT(){return XT=(0,Se.Z)(function*(){const n=_b();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),XT.apply(this,arguments)}const cO={error:"UNKNOWN_ERROR"};function lO(n){return an.US.encodeString(JSON.stringify(n),!1)}function Ib(n){return eA.apply(this,arguments)}function eA(){return eA=(0,Se.Z)(function*(n,e=!1){const t=n.app;v1(t);const r=yi(t);let u,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&Db(E)&&(o=E)}if(!e&&o&&Db(o))return{token:o.token};let g,h=!1;if(C1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=zT(XR(t,yield T1()),n.heartbeatServiceProvider).then(I=>(r.exchangeTokenPromise=void 0,I)),h=!0);const E=yield r.exchangeTokenPromise;return yield D1(t,E),ua(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),h=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?d_.warn(E.message):d_.error(E),u=E}return o?(g={token:o.token},ua(t,Object.assign(Object.assign({},r),{token:o})),yield D1(t,o)):g=hO(u),h&&S1(t,g),g}),eA.apply(this,arguments)}function nA(n,e){const t=yi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ua(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function A1(n){const{app:e}=n,t=yi(e);let r=t.tokenRefresher;r||(r=function dO(n){const{app:e}=n;return new WR((0,Se.Z)(function*(){let r;if(r=yi(e).token?yield Ib(n,!0):yield Ib(n),r.error)throw r.error}),()=>!0,()=>{const t=yi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ua(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function S1(n,e){const t=yi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Db(n){return n.expireTimeMillis-Date.now()>0}function hO(n){return{token:lO(cO),error:n}}class fO{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=yi(this.app);for(const t of e)nA(this.app,t.next);return Promise.resolve()}}const F1="app-check-internal";!function AO(){(0,to._registerComponent)(new Hd.wA("app-check",n=>function pO(n,e){return new fO(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(F1).initialize()})),(0,to._registerComponent)(new Hd.wA(F1,n=>function gO(n){return{getToken:e=>Ib(n,e),addTokenListener:e=>function tA(n,e,t,r){const{app:o}=n,u=yi(o),h={next:t,error:r,type:e};if(ua(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,h]})),u.token&&Db(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),A1(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>A1(n))}(n,"INTERNAL",e),removeTokenListener:e=>nA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,to.registerVersion)("@firebase/app-check","0.5.10")}();class h_{constructor(){return(0,Ht.vb)("app-check")}}"undefined"!=typeof window&&window,x(127);const U1=new l.OlP("angularfire2.auth.use-emulator"),V1=new l.OlP("angularfire2.auth.settings"),B1=new l.OlP("angularfire2.auth.tenant-id"),j1=new l.OlP("angularfire2.auth.langugage-code"),$1=new l.OlP("angularfire2.auth.use-device-language"),Z1=new l.OlP("angularfire.auth.persistence"),H1=(n,e,t,r,o,u,h,g)=>(0,Er.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,u&&E.useDeviceLanguage(),h)for(const[I,C]of Object.entries(h))E.settings[I]=C;return g&&E.setPersistence(g),E},[t,r,o,u,h,g]);let G1=(()=>{class n{constructor(t,r,o,u,h,g,E,I,C,S,G,W){const he=new ys.x,Ze=bt(void 0).pipe((0,yb.Q)(h.outsideAngular),_r(()=>u.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,5881)))),(0,Gt.U)(()=>(0,Er.on)(t,u,r)),(0,Gt.U)(Je=>H1(Je,u,g,I,C,S,E,G)),p1({bufferSize:1,refCount:!1}));if(mr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{Ze.pipe(Ma()).subscribe();const Nt=Ze.pipe(_r(Yt=>Yt.getRedirectResult().then(un=>un,()=>null)),Ht.iC,p1({bufferSize:1,refCount:!1})),Pt=Ze.pipe(_r(Yt=>new ui.y(un=>({unsubscribe:u.runOutsideAngular(()=>Yt.onAuthStateChanged(In=>un.next(In),In=>un.error(In),()=>un.complete()))})))),ln=Ze.pipe(_r(Yt=>new ui.y(un=>({unsubscribe:u.runOutsideAngular(()=>Yt.onIdTokenChanged(In=>un.next(In),In=>un.error(In),()=>un.complete()))}))));this.authState=Nt.pipe(g1(Pt),(0,ZT.R)(h.outsideAngular),(0,yb.Q)(h.insideAngular)),this.user=Nt.pipe(g1(ln),(0,ZT.R)(h.outsideAngular),(0,yb.Q)(h.insideAngular)),this.idToken=this.user.pipe(_r(Yt=>Yt?(0,er.D)(Yt.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(_r(Yt=>Yt?(0,er.D)(Yt.getIdTokenResult()):bt(null))),this.credential=(0,RR.T)(Nt,he,this.authState.pipe(Jr(Yt=>!Yt))).pipe((0,Gt.U)(Yt=>(null==Yt?void 0:Yt.user)?Yt:null),(0,ZT.R)(h.outsideAngular),(0,yb.Q)(h.insideAngular))}return(0,Er.pX)(this,Ze,u,{spy:{apply:(Je,Nt,Pt)=>{(Je.startsWith("signIn")||Je.startsWith("createUser"))&&Pt.then(ln=>he.next(ln))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Er.Dh),l.LFG(Er.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ht.HU),l.LFG(U1,8),l.LFG(V1,8),l.LFG(B1,8),l.LFG(j1,8),l.LFG($1,8),l.LFG(Z1,8),l.LFG(h_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function q1(n,e){return function NO(n,e=sy.z){return new ui.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function aA(n,e){return q1(n,e).pipe((0,Gt.U)(t=>({payload:t,type:"query"})))}function Tb(n,e){return aA(n,e).pipe(Hi(void 0),Zd(),(0,Gt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,g)=>{const E=o.find(C=>C.doc.ref.isEqual(h.ref)),I=null==t?void 0:t.payload.docs.find(C=>C.ref.isEqual(h.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(h.metadata)||!E&&I&&JSON.stringify(I.metadata)===JSON.stringify(h.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:h}})}),u}))}function z1(n,e,t){return Tb(n,t).pipe(rs((r,o)=>function kO(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function FO(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return uA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return uA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return uA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),oy(),(0,Gt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function uA(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function W1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class K1{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Tb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Gt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Hi(void 0),Zd(),Jr(([r,o])=>o.length>0||!r),(0,Gt.U)(([r,o])=>o),Ht.iC)}auditTrail(e){return this.stateChanges(e).pipe(rs((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=W1(e);return z1(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ht.iC)}valueChanges(e={}){return aA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ht.iC)}get(e){return(0,er.D)(this.query.get(e)).pipe(Ht.iC)}add(e){return this.ref.add(e)}doc(e){return new Y1(this.ref.doc(e),this.afs)}}class Y1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=Q1(r,t);return new K1(o,u,this.afs)}snapshotChanges(){return function PO(n,e){return q1(n,e).pipe(Hi(void 0),Zd(),(0,Gt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ht.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,er.D)(this.ref.get(e)).pipe(Ht.iC)}}class LO{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Tb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Jr(t=>t.length>0),Ht.iC):Tb(this.query,this.afs.schedulers.outsideAngular).pipe(Ht.iC)}auditTrail(e){return this.stateChanges(e).pipe(rs((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=W1(e);return z1(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ht.iC)}valueChanges(e={}){return aA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Ht.iC)}get(e){return(0,er.D)(this.query.get(e)).pipe(Ht.iC)}}const UO=new l.OlP("angularfire2.enableFirestorePersistence"),VO=new l.OlP("angularfire2.firestore.persistenceSettings"),BO=new l.OlP("angularfire2.firestore.settings"),jO=new l.OlP("angularfire2.firestore.use-emulator");function Q1(n,e=(t=>t)){return{query:e(n),ref:n}}let $O=(()=>{class n{constructor(t,r,o,u,h,g,E,I,C,S,G,W,he,Ze,Je,Nt,Pt){this.schedulers=E;const ln=(0,Er.on)(t,g,r),Yt=C;S&&H1(ln,g,G,he,Ze,Je,W,Nt),[this.firestore,this.persistenceEnabled$]=(0,Er.cc)(`${ln.name}.firestore`,"AngularFirestore",ln.name,()=>{const un=g.runOutsideAngular(()=>ln.firestore());if(u&&un.settings(u),Yt&&un.useEmulator(...Yt),o&&!mr(h)){const In=()=>{try{return(0,er.D)(un.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(Ui){return"undefined"!=typeof console&&console.warn(Ui),bt(!1)}};return[un,g.runOutsideAngular(In)]}return[un,bt(!1)]},[u,Yt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:h}=Q1(o,r),g=this.schedulers.ngZone.run(()=>u);return new K1(g,h,this)}collectionGroup(t,r){const o=r||(h=>h),u=this.firestore.collectionGroup(t);return new LO(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new Y1(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Er.Dh),l.LFG(Er.xv,8),l.LFG(UO,8),l.LFG(BO,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ht.HU),l.LFG(VO,8),l.LFG(jO,8),l.LFG(G1,8),l.LFG(U1,8),l.LFG(V1,8),l.LFG(B1,8),l.LFG(j1,8),l.LFG($1,8),l.LFG(Z1,8),l.LFG(h_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),J1=(()=>{class n{constructor(t){this.firebase=t}sendForm(t){return this.firebase.collection("forms").add(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($O))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZO(n,e){if(1&n&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.submitMessage)}}let HO=(()=>{class n{constructor(t,r){this.formBuilder=t,this.formfire=r,this.isSubmit=!0,this.submitMessage=""}ngOnInit(){this.contactForm=this.formBuilder.group({name:[null,Qc.required],email:[null,Qc.required,Qc.email],phone:[null,Qc.required],message:[null,Qc.required]})}sendForm(t){console.log(t);const r={name:this.contactForm.value.name,email:this.contactForm.value.email,phone:this.contactForm.value.phone,message:this.contactForm.value.message,date:new Date};this.isSubmit=!0,this.submitMessage="Submitted Succesfully",setTimeout(()=>{this.isSubmit=!1}),this.formfire.sendForm(r).then(()=>{console.log(r),this.contactForm.reset()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(OA),l.Y36(J1))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-contact"]],decls:24,vars:3,consts:[["id","contacto",1,"container",2,"background-color","#154b7a","margin","0","padding-bottom","40px","max-width","100% !important"],[1,"row","g-5","align-items-center"],["data-wow-delay","0.1s",1,"col-lg-5","wow","fadeInUp"],[1,"d-flex","align-items-center"],[1,"fa","fa-headphones","fa-2x","flex-shrink-0","p-3","text-white"],[1,"ps-4"],[1,"m-0",2,"color","white"],[1,"col-lg-7"],["data-wow-delay","0.5s",1,"bg-light","text-center","p-5","wow","fadeIn"],[1,"form-group",3,"formGroup"],[1,"row","g-3"],[1,"col-12","col-sm-6"],["type","text","placeholder","Nombre","formControlName","name",1,"name","form-control","border-0",2,"height","55px"],["type","email","placeholder","Correo","formControlName","email",1,"email","form-control","border-0",2,"height","55px"],["type","text","placeholder","Telefono","formControlName","phone",1,"phone","form-control","border-0",2,"height","55px"],[1,"col-12"],["placeholder","Mensaje","formControlName","message",1,"message","form-control","border-0"],["type","reset",1,"btn","w-100","py-3",2,"background-color","#154b7a","color","white",3,"disabled","click"],[4,"ngIf"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l._UZ(4,"i",4),l.TgZ(5,"div",5)(6,"h3",6),l._uU(7,"Contacto"),l.qZA()()()(),l.TgZ(8,"div",7)(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11),l._UZ(13,"input",12),l.qZA(),l.TgZ(14,"div",11),l._UZ(15,"input",13),l.qZA(),l.TgZ(16,"div",11),l._UZ(17,"input",14),l.qZA(),l.TgZ(18,"div",15),l._UZ(19,"textarea",16),l.qZA(),l.TgZ(20,"div",15)(21,"button",17),l.NdJ("click",function(){return r.sendForm(r.contactForm.value)}),l._uU(22,"Enviar"),l.qZA()()(),l.YNc(23,ZO,2,1,"p",18),l.qZA()()()()()),2&t&&(l.xp6(10),l.Q6J("formGroup",r.contactForm),l.xp6(11),l.Q6J("disabled",r.contactForm.invalid),l.xp6(2),l.Q6J("ngIf",r.isSubmit))},directives:[A0,DI,$d,Ot,II,k0,Br],styles:[".submitMessage[_ngcontent-%COMP%]{color:#adff2f;font-weight:700}"]}),n})(),X1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],decls:6,vars:0,template:function(t,r){1&t&&l._UZ(0,"app-principal")(1,"app-departments3")(2,"app-service-start")(3,"app-about")(4,"app-feature")(5,"app-contact")},directives:[t0,hI,fI,bs,pI,HO],styles:[""]}),n})();const GO=[{path:"",component:X1},{path:"header",component:X1},{path:"market-intelligence",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-marketintelligence"]],decls:27,vars:0,consts:[[1,"card","bg-dark","text-white"],["src","assets/img/network.jpg","alt","...",1,"card-img"],[1,"card-img-overlay",2,"display","flex","justify-content","center","align-items","center","text-align","center","background","rgba(6, 3, 21, 0.591)"],[1,"card-title",2,"display","flex","justify-content","center","align-items","center","text-align","center","color","white"],[1,"card","mb-3",2,"max-width","100%"],[1,"row","g-0"],[1,"col-md-6"],[1,"card-body"],[1,"card-title",2,"padding-left","12px","padding-right","12px"],[1,"card-text",2,"padding-left","12px","padding-right","12px"],["src","assets/img/shipbroking.jpg","alt","...",1,"img-fluid","rounded-start"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"div",2)(3,"h1",3),l._uU(4,"Market Intelligence"),l.qZA()()(),l.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),l._UZ(9,"br"),l.TgZ(10,"h4",8),l._uU(11," AN\xc1LISIS DETALLADO DE LOS \xdaLTIMOS DATOS DEL MERCADO "),l.qZA(),l._UZ(12,"br"),l.TgZ(13,"p",9),l._uU(14,"Panamericashipbrokers sit\xfaa la inteligencia de mercado en el centro de sus actividades. El an\xe1lisis detallado de los \xfaltimos datos, tendencias y desarrollos del mercado permite a los corredores y clientes tomar las mejores decisiones informadas. Nos esforzamos por ofrecer los datos m\xe1s relevantes, precisos y pertinentes sobre las condiciones actuales y futuras del mercado. "),l._UZ(15,"br")(16,"br"),l._uU(17," Dentro del grupo, la inteligencia de mercado se utiliza internamente para respaldar nuestras actividades de corretaje, as\xed como tambi\xe9n se proporciona externamente a clientes y no clientes. Nuestros servicios de inteligencia de mercado externos incluyen al especialista en contenedores Alphaliner, al especialista en carga seca a granel Alphabulk y al especialista en camiones cisterna Alphatanker, l\xedderes en informaci\xf3n reconocidos en su campo. "),l._UZ(18,"br")(19,"br"),l._uU(20," Nuestra estrategia incluye la subcontrataci\xf3n de ciertas tareas de inteligencia marina a proveedores externos para garantizar la recopilaci\xf3n de datos objetivos, independientemente de la influencia de la industria de corretaje mar\xedtimo. "),l._UZ(21,"br")(22,"br"),l._uU(23," Los datos confiables de suministro mar\xedtimo siempre han sido nuestra concentraci\xf3n, pero con los avances en los datos de demanda en tiempo real, nuestros clientes esperan an\xe1lisis y proyecciones relevantes basado en estad\xedsticas de oferta y demanda actualizadas al minuto."),l.qZA(),l._UZ(24,"br"),l.qZA()(),l.TgZ(25,"div",6),l._UZ(26,"img",10),l.qZA()()())},styles:[""]}),n})()},{path:"marine-service",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-marineservice"]],decls:27,vars:0,consts:[[1,"card","bg-dark","text-white"],["src","assets/img/marine-service01a.jpg","alt","...",1,"card-img"],[1,"card-img-overlay",2,"display","flex","justify-content","center","align-items","center","text-align","center","background","rgba(6, 3, 21, 0.591)"],[1,"card-title",2,"display","flex","justify-content","center","align-items","center","text-align","center","color","white"],[1,"card","mb-3",2,"max-width","100%"],[1,"row","g-0"],[1,"col-md-6"],[1,"card-body"],[1,"card-title",2,"padding-left","12px","padding-right","12px"],[1,"card-text",2,"padding-left","12px","padding-right","12px"],["src","assets/img/marine-service04.jpg","alt","...",1,"img-fluid","rounded-start"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"div",2)(3,"h1",3),l._uU(4,"Marine Service"),l.qZA()()(),l.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),l._UZ(9,"br"),l.TgZ(10,"h4",8),l._uU(11," AN\xc1LISIS DETALLADO DE LOS \xdaLTIMOS DATOS DEL MERCADO "),l.qZA(),l._UZ(12,"br"),l.TgZ(13,"p",9),l._uU(14,"Panamericashipbrokers sit\xfaa la inteligencia de mercado en el centro de sus actividades. El an\xe1lisis detallado de los \xfaltimos datos, tendencias y desarrollos del mercado permite a los corredores y clientes tomar las mejores decisiones informadas. BRS Group se esfuerza por ofrecer los datos m\xe1s informados, precisos y pertinentes sobre las condiciones actuales y futuras del mercado. "),l._UZ(15,"br")(16,"br"),l._uU(17," Dentro del grupo, la inteligencia de mercado se utiliza internamente para respaldar nuestras actividades de corretaje, as\xed como tambi\xe9n se proporciona externamente a clientes y no clientes. Nuestros servicios de inteligencia de mercado externos incluyen al especialista en contenedores Alphaliner, al especialista en carga seca a granel Alphabulk y al especialista en camiones cisterna Alphatanker, l\xedderes en informaci\xf3n reconocidos en su campo. "),l._UZ(18,"br")(19,"br"),l._uU(20," Nuestra estrategia incluye la subcontrataci\xf3n de ciertas tareas de inteligencia marina a proveedores externos para garantizar la recopilaci\xf3n de datos objetivos, independientemente de la influencia de la industria de corretaje mar\xedtimo. "),l._UZ(21,"br")(22,"br"),l._uU(23," Los datos confiables de suministro mar\xedtimo siempre han sido nuestra concentraci\xf3n, pero con los avances en los datos de demanda en tiempo real, nuestros clientes esperan an\xe1lisis y proyecciones relevantes basado en estad\xedsticas de oferta y demanda actualizadas al minuto."),l.qZA(),l._UZ(24,"br"),l.qZA()(),l.TgZ(25,"div",6),l._UZ(26,"img",10),l.qZA()()())},styles:[""]}),n})()},{path:"que-hacemos",component:Q_},{path:"noticias",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-noticias"]],decls:39,vars:0,consts:[[1,"card","bg-dark","text-white"],["src","assets/img/noticias02.jpg","alt","...",1,"card-img"],[1,"card-img-overlay",2,"display","flex","justify-content","center","align-items","center","text-align","center","background","rgba(6, 3, 21, 0.591)"],[1,"card-title",2,"display","flex","justify-content","center","align-items","center","text-align","center","color","white"],[1,"container"],[1,"card","mb-3",2,"margin-top","20px !important"],["src","assets/img/puerto01.jpg","alt","...",1,"card-img-top"],[1,"card-body"],["href","https://www.mundomaritimo.cl/noticias/engie-y-sigdo-koppers-firman-acuerdo-para-la-operacion-y-comercializacion-de-terminal-portuario-en-mejillones?utm_medium=email&utm_campaign=newsletter#.Yoec4HOkw1w.whatsapp"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],[1,"card","mb-3"],["src","assets/img/noticias01.jpg","alt","...",1,"card-img-top"],["href","https://portalportuario.cl/seabourn-pone-en-servicio-a-la-totalidad-de-su-flota-por-primera-vez-desde-el-inicio-de-la-pandemia/"],["src","assets/img/marine-service01.jpg","alt","...",1,"card-img-top"],["href","https://portalportuario.cl/puerto-sustentable-3/"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"div",2)(3,"h1",3),l._uU(4,"Noticias"),l.qZA()()(),l.TgZ(5,"div",4)(6,"div",5),l._UZ(7,"img",6),l.TgZ(8,"div",7)(9,"a",8)(10,"h5",9),l._uU(11,"ENGIE y Sigdo Koppers firman acuerdo para la operaci\xf3n y comercializaci\xf3n de terminal portuario en Mejillones"),l.qZA()(),l.TgZ(12,"p",10),l._uU(13,"Lograr mayor disponibilidad portuaria en la zona de Mejillones, en el norte de Chile, aumentar el uso de Puerto Andino, activar las oportunidades laborales de dicha localidad..."),l.qZA(),l.TgZ(14,"p",10)(15,"small",11),l._uU(16,"Hace 4 semanas"),l.qZA()()()(),l.TgZ(17,"div",12),l._UZ(18,"img",13),l.TgZ(19,"div",7)(20,"a",14)(21,"h5",9),l._uU(22,"Seabourn pone en servicio a la totalidad de su flota por primera vez desde el inicio de la pandemia"),l.qZA()(),l.TgZ(23,"p",10),l._uU(24,"La compa\xf1\xeda de cruceros Seabourn anunci\xf3 que la totalidad de su flota ha vuelto a las operaciones desde el inicio de la pandemia del Covid-19, en marzo de 2020..."),l.qZA(),l.TgZ(25,"p",10)(26,"small",11),l._uU(27,"Hace 1 d\xeda"),l.qZA()()()(),l.TgZ(28,"div",12),l._UZ(29,"img",15),l.TgZ(30,"div",7)(31,"a",16)(32,"h5",9),l._uU(33,"Puerto de Quebec proyecta peque\xf1o balneario en sus muelles"),l.qZA()(),l.TgZ(34,"p",10),l._uU(35,"El Puerto de Quebec, en asociaci\xf3n con Soci\xe9t\xe9 des Gens de Baignade y Village Nordik du Port de Qu\xe9bec, anunci\xf3 la pr\xf3xima apertura del nuevo Puerto de Qu\xe9bec Oasis, el primer ba\xf1o de puerto en Am\xe9rica del Norte..."),l.qZA(),l.TgZ(36,"p",10)(37,"small",11),l._uU(38,"Hace 1 d\xeda"),l.qZA()()()()())},styles:[""]}),n})()},{path:"people-network",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-people-network"]],decls:2,vars:0,template:function(t,r){1&t&&(l.TgZ(0,"p"),l._uU(1,"people-network works!"),l.qZA())},styles:[""]}),n})()},{path:"careers",component:uI},{path:"shipbroking",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-shipbroking1"]],decls:30,vars:0,consts:[[1,"card","bg-dark","text-white"],["src","assets/img/puerto01.jpg","alt","...",1,"card-img"],[1,"card-img-overlay",2,"display","flex","justify-content","center","align-items","center","text-align","center","background","rgba(6, 3, 21, 0.591)"],[1,"card-title",2,"display","flex","justify-content","center","align-items","center","text-align","center","color","white"],[1,"card","mb-3",2,"max-width","100%"],[1,"row","g-0"],[1,"col-md-6"],[1,"card-body"],[1,"card-title",2,"padding-left","12px","padding-right","12px"],[1,"card-text",2,"padding-left","12px","padding-right","12px"],["src","assets/img/shipbroking.jpg","alt","...",1,"img-fluid","rounded-start"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"div",2)(3,"h1",3),l._uU(4,"ShipBroking"),l.qZA()()(),l.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),l._UZ(9,"br"),l.TgZ(10,"h4",8),l._uU(11,"Una Marca de prestigio y experiencia "),l.qZA(),l._UZ(12,"br"),l.TgZ(13,"p",9),l._uU(14,"Panamericanhipbrokers est\xe1 especializada tanto en aquellos de tipo \u201cSpot\u201d o \u201cPor Viaje\u201d, como en los fletamentos por periodo (Time Charter). En este mercado tan din\xe1mico y ligado sinerg\xe9ticamente entre s\xed, nos distinguimos por contar con la informaci\xf3n m\xe1s precisa y actualizada. Para ello realizamos un seguimiento exhaustivo de dichos mercados y de los factores externos que sin duda afectan a estos. "),l._UZ(15,"br")(16,"br"),l._uU(17," Adem\xe1s aportamos un amplio valor a\xf1adido gracias a nuestro Know How del mercado y de las distintas p\xf3lizas de fletamento, ayudando a nuestros clientes en su an\xe1lisis e interpretaci\xf3n. "),l._UZ(18,"br")(19,"br"),l._uU(20," Nuestra cobertura del mercado mar\xedtimo es una de las m\xe1s completas del mercado e incluye actividades de Nueva Construcci\xf3n, Compra y Venta y Fletamento en todos los principales segmentos navieros: Buques Cisterna, Graneles Secos, Qu\xedmicos, GNL y GLP . "),l._UZ(21,"br")(22,"br"),l._uU(23," La relaci\xf3n entrelazada entre el corretaje mar\xedtimo y la tecnolog\xeda de la informaci\xf3n nos ha llevado a ser una parte integral de los equipos de env\xedo de muchos clientes industriales. Tomar decisiones estrat\xe9gicas sobre las cl\xe1usulas del contrato, los mecanismos y la duraci\xf3n les ha demostrado a muchos clientes que tener asesores en su equipo desde el principio puede prepararse para lo imprevisto. "),l._UZ(24,"br")(25,"br"),l._uU(26," Nuestros equipos de activos est\xe1n monitoreando de cerca cada segmento del mercado para garantizar que las tendencias y operaciones espec\xedficas est\xe9n a la vista de los clientes al tomar decisiones de inversi\xf3n."),l.qZA(),l._UZ(27,"br"),l.qZA()(),l.TgZ(28,"div",6),l._UZ(29,"img",10),l.qZA()()())},styles:[""]}),n})()},{path:"nuevas-construcciones",component:X_},{path:"bulk",component:cI},{path:"liner",component:lI},{path:"lng",component:J_},{path:"lpg",component:Im},{path:"offshore",component:wA},{path:"quimicos-tanqueros-pequenos",component:e0},{path:"tanqueros",component:dI}];let qO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Md.forRoot(GO)],Md]}),n})(),ex=(()=>{class n{constructor(){}Carga(t){for(let r of t){let o=document.createElement("script");o.src="./assets/js/"+r+".js",document.getElementsByTagName("body")[0].appendChild(o)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tx=(()=>{class n{constructor(){this.yaSonando=!1,this.onWindowScrolled=!1}onWindowScroll(){(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop>100)&&(this.playSound(),this.onWindowScrolled=!0)}playSound(){if(console.log("entro"),this.yaSonando)return;let t=new Audio;t.src="../assets/sound/fondopanamerican.mp3",t.load(),t.play(),this.yaSonando=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zO=(()=>{class n{constructor(t,r){this._CargaScripts=t,this.playSound=r,t.Carga(["navbar"])}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ex),l.Y36(tx))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],decls:62,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-white","navbar-light","shadow","border-top","border-5","border-primary","sticky-top","p-0"],["routerLink","header",1,"navbar-brand","bg-primary","d-flex","align-items-center","px-4","px-lg-5",2,"background-color","white !important"],["src","assets/img/logoAzul1.png","alt",""],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarCollapse",1,"navbar-toggler","me-4"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","p-4","p-lg-0"],["routerLink","header",1,"nav-item","nav-link"],[1,"nav-item","dropdown","sidenav"],["data-bs-toggle","dropdown",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu","fade-up","m-0"],["routerLink","/market-intelligence",1,"dropdown-item"],["routerLink","/shipbroking",1,"dropdown-item"],["data-toggle","dropdown","data-target",".dropdown-1",1,"dropdown-toggle","col-xs-2","visible-xs","visible-sm"],[1,"glyphicon","glyphicon-plus"],["role","menu",1,"dropdown-menu","mega-dropdown-menu","row"],[1,"dropdown","col-sm-3","clearfix"],[1,"sub-menu-toggle"],["routerLink","bulk",1,"col-xs-10","col-md-12","dropdown-header",2,"text-decoration","none !important"],["routerLink","tanqueros",1,"col-xs-10","col-md-12","dropdown-header",2,"text-decoration","none !important"],["routerLink","/liner",1,"col-xs-10","col-md-12","dropdown-header",2,"text-decoration","none !important"],["routerLink","/quimicos-tanqueros-pequenos",1,"col-xs-10","col-md-12","dropdown-header",2,"text-decoration","none !important"],["routerLink","/lpg",1,"col-xs-10","col-md-12","dropdown-header",2,"text-decoration","none !important"],["routerLink","/lng",1,"col-xs-10","col-md-12","dropdown-header",2,"text-decoration","none !important"],["routerLink","/offshore",1,"col-xs-10","col-md-12","dropdown-header",2,"text-decoration","none !important"],["routerLink","nuevas-construcciones",1,"col-xs-10","col-md-12","dropdown-header",2,"text-decoration","none !important"],[1,"nav-item","dropdown"],["href","#","data-bs-toggle","dropdown",1,"nav-link","dropdown-toggle"],["routerLink","/que-hacemos",1,"dropdown-item"],["routerLink","/noticias",1,"dropdown-item"],["href","#contacto",1,"nav-item","nav-link"]],template:function(t,r){1&t&&(l.TgZ(0,"nav",0)(1,"a",1),l._UZ(2,"img",2),l.qZA(),l.TgZ(3,"button",3),l._UZ(4,"span",4),l.qZA(),l.TgZ(5,"div",5)(6,"div",6)(7,"a",7),l._uU(8,"Inicio"),l.qZA(),l.TgZ(9,"div",8)(10,"a",9),l._uU(11,"Servicios"),l.qZA(),l.TgZ(12,"div",10)(13,"a",11),l._uU(14,"MARKET INTELLIGENCE"),l.qZA(),l.TgZ(15,"a",12),l._uU(16,"SHIPBROKING"),l.qZA(),l.TgZ(17,"a",13),l._UZ(18,"span",14),l.qZA(),l.TgZ(19,"ul",15)(20,"li",16)(21,"div",17)(22,"a",18),l._uU(23,"BULK"),l.qZA()()(),l.TgZ(24,"li",16)(25,"div",17)(26,"a",19),l._uU(27,"TANQUEROS"),l.qZA()()(),l.TgZ(28,"li",16)(29,"div",17)(30,"a",20),l._uU(31,"LINER"),l.qZA()()(),l.TgZ(32,"li",16)(33,"div",17)(34,"a",21),l._uU(35,"QUIMICOS/TANQUEROS PEQUE\xd1OS"),l.qZA()()(),l.TgZ(36,"li",16)(37,"div",17)(38,"a",22),l._uU(39,"LPG"),l.qZA()()(),l.TgZ(40,"li",16)(41,"div",17)(42,"a",23),l._uU(43,"LNG"),l.qZA()()(),l.TgZ(44,"li",16)(45,"div",17)(46,"a",24),l._uU(47,"OFFSHORE"),l.qZA()()(),l.TgZ(48,"li",16)(49,"div",17)(50,"a",25),l._uU(51,"NUEVAS CONSTRUCCIONES"),l.qZA()()()()()(),l.TgZ(52,"div",26)(53,"a",27),l._uU(54,"Compa\xf1ia"),l.qZA(),l.TgZ(55,"div",10)(56,"a",28),l._uU(57,"\xbfQu\xe9 hacemos?"),l.qZA(),l.TgZ(58,"a",29),l._uU(59,"Noticias"),l.qZA()()(),l.TgZ(60,"a",30),l._uU(61,"Contacto"),l.qZA()()()())},directives:[ja],styles:[".nav-tabs[_ngcontent-%COMP%]{display:inline-block;border-bottom:none;font-weight:700}.nav-tabs[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{float:none}.nav-tabs[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .nav-tabs[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, .nav-tabs[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .nav-tabs[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{border:none;border-radius:0}.nav-list[_ngcontent-%COMP%]{margin-bottom:25px}.nav-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:block}.nav-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{text-decoration:none}.nav-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;font-weight:700;text-transform:uppercase}.mega-dropdown[_ngcontent-%COMP%]{position:relative}.mega-dropdown-menu[_ngcontent-%COMP%]{padding:0;text-align:center;width:350px}.nav-tabs[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:29px 23px;background:#31aff5;font-size:15px;color:#fff}.nav-tabs[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{background:#31aff5;color:#fff}.ht-tab.col-md-2[_ngcontent-%COMP%], .ht-tab.col-md-10[_ngcontent-%COMP%]{padding:0}.ht-ul[_ngcontent-%COMP%]{text-align:left}@media screen and (max-width: 1169px){.nav-tabs[_ngcontent-%COMP%]{display:block}.mega-dropdown-menu[_ngcontent-%COMP%]{width:100%}.nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%], .mega-dropdown[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%]{position:unset}}@media screen and (max-width: 1023px){.ht-tab.col-md-2[_ngcontent-%COMP%], .ht-tab.col-md-10[_ngcontent-%COMP%]{float:left!important}.ht-tab.col-md-2[_ngcontent-%COMP%]{width:20%}.ht-tab.col-md-10[_ngcontent-%COMP%]{width:80%}.ht-ul[_ngcontent-%COMP%]{float:left}}"]}),n})(),WO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:71,vars:0,consts:[["data-wow-delay","0.1s",1,"container-fluid","bg-dark","text-light","footer","pt-5","wow","fadeIn"],[1,"container","py-5"],[1,"row","g-5"],[1,"col-lg-4","col-md-6"],[1,"text-light","mb-4"],[1,"mb-2"],[1,"fa","fa-phone-alt","me-3"],[1,"fa","fa-envelope","me-3"],[1,"bi","bi-house-door","me-3"],[1,"d-flex","pt-2"],["href","",1,"btn","btn-outline-light","btn-social"],[1,"fab","fa-twitter"],[1,"fab","fa-youtube"],[1,"fab","fa-linkedin-in"],[1,"col-lg-2","col-md-6"],["routerLink","shipbroking",1,"btn","btn-link"],["routerLink","market-intelligence",1,"btn","btn-link"],["href","#nosotros",1,"btn","btn-link"],["href","#contacto",1,"btn","btn-link"],["href","#servicio",1,"btn","btn-link"],[1,"position-relative","mx-auto",2,"max-width","400px"],["type","text","placeholder","Correo",1,"form-control","border-0","w-100","py-3","ps-4","pe-5"],["type","button",1,"btn","btn-primary","py-2","position-absolute","top-0","end-0","mt-2","me-2"],[1,"container"],[1,"copyright"],[1,"row"],[1,"col-md-6","text-center","text-md-start","mb-3","mb-md-0"],["href","#",1,"border-bottom"],[1,"col-md-6","text-center","text-md-end"],["href","https://agenciarevive.cl",1,"border-bottom"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),l._uU(5,"Datos de Contacto"),l.qZA(),l.TgZ(6,"p",5),l._UZ(7,"i",6),l._uU(8,"+562 2364 4291"),l.qZA(),l.TgZ(9,"p",5),l._UZ(10,"i",7),l._uU(11,"sales@panamericanshipbrokers.com"),l.qZA(),l.TgZ(12,"p",5),l._UZ(13,"i",8),l._uU(14,"Headquarters: Rue de Lyon 77, "),l._UZ(15,"br"),l._uU(16," Geneva, CH-1203, Switzerland"),l.qZA(),l.TgZ(17,"p",5),l._UZ(18,"i",8),l._uU(19,"South America Office: Av. Isidora #3000, "),l._UZ(20,"br"),l._uU(21," Las Condes, Santiago, Chile"),l.qZA(),l.TgZ(22,"p",5),l._UZ(23,"i",8),l._uU(24,"Panama Office: Calle 50 PH, Torre Global,"),l._UZ(25,"br"),l._uU(26," ciudad de Panam\xe1"),l.qZA(),l.TgZ(27,"div",9)(28,"a",10),l._UZ(29,"i",11),l.qZA(),l.TgZ(30,"a",10),l._UZ(31,"i",12),l.qZA(),l.TgZ(32,"a",10),l._UZ(33,"i",13),l.qZA()()(),l.TgZ(34,"div",14)(35,"h4",4),l._uU(36,"Servicios"),l.qZA(),l.TgZ(37,"a",15),l._uU(38,"Shipbroking"),l.qZA(),l.TgZ(39,"a",16),l._uU(40,"Market Intelligence"),l.qZA()(),l.TgZ(41,"div",14)(42,"h4",4),l._uU(43,"Men\xfa"),l.qZA(),l.TgZ(44,"a",17),l._uU(45,"Sobre Nosotros"),l.qZA(),l.TgZ(46,"a",18),l._uU(47,"Contacto"),l.qZA(),l.TgZ(48,"a",19),l._uU(49,"Servicios"),l.qZA()(),l.TgZ(50,"div",3)(51,"h4",4),l._uU(52,"Noticias"),l.qZA(),l.TgZ(53,"p"),l._uU(54,"Si quieres recibir informacion actualizada, dejanos tu correo."),l.qZA(),l.TgZ(55,"div",20),l._UZ(56,"input",21),l.TgZ(57,"button",22),l._uU(58,"Cont\xe1ctenme"),l.qZA()()()()(),l.TgZ(59,"div",23)(60,"div",24)(61,"div",25)(62,"div",26),l._uU(63," \xa9 "),l.TgZ(64,"a",27),l._uU(65,"PanamericanShipBrokers"),l.qZA(),l._uU(66,", All Right Reserved. "),l.qZA(),l.TgZ(67,"div",28),l._uU(68," Designed By "),l.TgZ(69,"a",29),l._uU(70,"Agencia Revive"),l.qZA()()()()()())},directives:[ja],styles:[""]}),n})(),KO=(()=>{class n{constructor(t){this.document=t,this.title="brokers",this.yaSonando=!1,this.onWindowScrolled=!1}onWindowScroll(){(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop>1)&&(console.log("llega aqui?"),this.playSound(),this.onWindowScrolled=!0)}playSound(){if(this.yaSonando)return;let t=new Audio;t.src="../assets/sound/fondopanamerican.mp3",t.load(),t.play(),this.yaSonando=!0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(fe))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"app-navbar",0),l.NdJ("click",function(){return r.playSound()}),l.qZA(),l._UZ(1,"router-outlet")(2,"app-footer"))},directives:[zO,Nu,WO],styles:[""]}),n})();const cA_firebase={projectId:"pagina-p-ship-brokers",appId:"1:246015462916:web:791f643f03ac73cfa76f51",storageBucket:"pagina-p-ship-brokers.appspot.com",apiKey:"AIzaSyC1_xhG-PZVXtkiwGZf03qJ_lxMC91koLc",authDomain:"pagina-p-ship-brokers.firebaseapp.com",messagingSenderId:"246015462916",measurementId:"G-225GM1D4CX"};var QO=x(655),lA=x(6148),nx=x(3673);function JO(n){return new ui.y(function(e){return{unsubscribe:(0,nx.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class Ab{constructor(e){return e}}class ix{constructor(){return(0,Ht.vb)("auth")}}const dA=new l.OlP("angularfire2.auth-instances");function tN(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ab(r)}}const nN={provide:ix,deps:[[new l.FiY,dA]]},rN={provide:Ab,useFactory:function eN(n,e){const t=(0,Ht.JM)("auth",n,e);return t&&new Ab(t)},deps:[[new l.FiY,dA],Yh]};let iN=(()=>{class n{constructor(){(0,aa.KN)("angularfire",Ht.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[rN,nN]}),n})();function sN(n,...e){return{ngModule:iN,providers:[{provide:dA,useFactory:tN(n),multi:!0,deps:[l.R0b,l.zs3,Ht.HU,vb,[new l.FiY,h_],...e]}]}}const oN=(0,Ht.u3)(JO,!0),aN=(0,Ht.u3)(nx.n,!0);class f_{constructor(e){return e}}const sx="analytics",ox=Ht.nk.async,cN=(0,Ht.u3)(lA.IH,!0),lN=(0,Ht.u3)(lA.Kz,!0),dN=(0,Ht.u3)(lA.Iv,!0);let hA=(()=>{class n{constructor(t,r,o){let u;this.disposables=[],(0,aa.KN)("angularfire",Ht.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(h=>{u=h})),ox().then(()=>{const h=o.get(f_);h?this.disposables=[oN(t).subscribe(g=>{dN(h,null==g?void 0:g.uid),u()})]:u()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ab),l.LFG(l.R0b),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ax="firebase_screen_id",fA="outlet",p_="screen_class",ux="screen_name";let IN=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const pA={},DN=n=>{const e=[n[p_],n[fA]].join("#");if(pA.hasOwnProperty(e))return pA[e];{const t=IN++;return pA[e]=t,t}};let cx=(()=>{class n{constructor(t,r,o,u,h,g){(0,aa.KN)("angularfire",Ht.q4.full,"screen-tracking"),ox().then(()=>{const E=g.get(f_);!t||!E||u.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(Jr(o=>o instanceof kc)).pipe(_r(o=>{var u;const g=(null===(u=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,W=>W.replace("://",":///"))).root.children[o.snapshot.outlet])||void 0===u?void 0:u.toString())||"",E=n.routerState.root.children.map(W=>W).find(W=>W.outlet===o.snapshot.outlet);if(!E)return bt(null);let I=E;for(;I.firstChild;)I=I.firstChild;const C=I.pathFromRoot.map(W=>{var he;return null===(he=W.routeConfig)||void 0===he?void 0:he.path}).filter(W=>W).join("/")||"/",S={[ux]:C,page_path:`/${g}`,firebase_event_origin:"auto",firebase_screen:C,[fA]:o.snapshot.outlet};e&&(S.page_title=e.getTitle());let G=E.component;if(G){if(G===Pu){let W=o.snapshot;for(;W.firstChild;)W=W.firstChild;G=W.component}}else G=o.snapshot.component;if("string"==typeof G)return bt(Object.assign(Object.assign({},S),{[p_]:G}));if(G){const W=t.resolveComponentFactory(G);return bt(Object.assign(Object.assign({},S),{[p_]:W.selector}))}return bt(null)}),Jr(o=>!!o),(0,Gt.U)(o=>Object.assign({firebase_screen_class:o[p_],[ax]:DN(o)},o)),function YO(n,e,t,r){return(0,Qr.e)((o,u)=>{let h;e&&"function"!=typeof e?({duration:t,element:h,connector:r}=e):h=e;const g=new Map,E=he=>{g.forEach(he),he(u)},I=he=>E(Ze=>Ze.error(he));let C=0,S=!1;const G=new jn.Q(u,he=>{try{const Ze=n(he);let Je=g.get(Ze);if(!Je){g.set(Ze,Je=r?r():new ys.x);const Nt=function W(he,Ze){const Je=new ui.y(Nt=>{C++;const Pt=Ze.subscribe(Nt);return()=>{Pt.unsubscribe(),0==--C&&S&&G.unsubscribe()}});return Je.key=he,Je}(Ze,Je);if(u.next(Nt),t){const Pt=(0,jn.x)(Je,()=>{Je.complete(),null==Pt||Pt.unsubscribe()},void 0,void 0,()=>g.delete(Ze));G.add((0,Hs.Xf)(t(Nt)).subscribe(Pt))}}Je.next(h?h(he):he)}catch(Ze){I(Ze)}},()=>E(he=>he.complete()),I,()=>g.clear(),()=>(S=!0,0===C));o.subscribe(G)})}(o=>o[fA]),(0,qn.z)(o=>o.pipe(oy((u,h)=>JSON.stringify(u)===JSON.stringify(h)),Hi(void 0),Zd(),(0,Gt.U)(([u,h])=>u?Object.assign({firebase_previous_class:u[p_],firebase_previous_screen:u[ux],firebase_previous_id:u[ax]},h):h)))))(t,r,o).pipe(_r(I=>(0,QO.mG)(this,void 0,void 0,function*(){return h&&(yield h.initialized),lN(E,"screen_view",I)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xi,8),l.LFG(bo,8),l.LFG(l._Vd),l.LFG(l.R0b),l.LFG(hA,8),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const gA=new l.OlP("angularfire2.analytics-instances");function AN(n){return(e,t)=>{if(!Ht.nk.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new f_(r)}}const SN={provide:class uN{constructor(){return(0,Ht.vb)(sx)}},deps:[[new l.FiY,gA]]},xN={provide:f_,useFactory:function TN(n,e){if(!Ht.nk.sync())return null;const t=(0,Ht.JM)(sx,n,e);return t&&new f_(t)},deps:[[new l.FiY,gA],Yh]};let MN=(()=>{class n{constructor(t,r){(0,aa.KN)("angularfire",Ht.q4.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cx,8),l.LFG(hA,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[xN,SN,{provide:l.ip1,useValue:Ht.nk.async,multi:!0}]}),n})();function RN(n,...e){return{ngModule:MN,providers:[{provide:gA,useFactory:AN(n),multi:!0,deps:[l.R0b,l.zs3,Ht.HU,vb,...e]}]}}class mA{constructor(e){return e}}const lx="firestore",yA=new l.OlP("angularfire2.firestore-instances");function PN(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new mA(r)}}const kN={provide:class ON{constructor(){return(0,Ht.vb)(lx)}},deps:[[new l.FiY,yA]]},FN={provide:mA,useFactory:function NN(n,e){const t=(0,Ht.JM)(lx,n,e);return t&&new mA(t)},deps:[[new l.FiY,yA],Yh]};let dx=(()=>{class n{constructor(){(0,aa.KN)("angularfire",Ht.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[FN,kN]}),n})();function LN(n,...e){return{ngModule:dx,providers:[{provide:yA,useFactory:PN(n),multi:!0,deps:[l.R0b,l.zs3,Ht.HU,vb,[new l.FiY,ix],[new l.FiY,h_],...e]}]}}const UN=(0,Ht.u3)(MM,!0);let VN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[KO]}),n.\u0275inj=l.cJS({providers:[ex,tx,cx,hA,J1],imports:[[dx,G0,H0,id,qO,es,BR(()=>jR(cA_firebase)),RN(()=>cN()),sN(()=>aN()),LN(()=>UN()),Er.hO.initializeApp(cA_firebase)]]}),n})();(0,l.G48)(),Bg().bootstrapModule(VN).catch(n=>console.error(n))},6148:(ct,Te,x)=>{x.d(Te,{IH:()=>wn,Gb:()=>Ft,Kz:()=>U,Iv:()=>rn});var l=x(5861),F=x(9681),M=x(1877),se=x(2090),ye=x(4859);x(2833);const fe="analytics",ue="firebase_id",$="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ie="https://www.googletagmanager.com/gtag/js",je=new M.Yd("@firebase/analytics");function Ce(L){return Promise.all(L.map(Y=>Y.catch(de=>de)))}function Ue(L,Y){const de=document.createElement("script");de.src=`${ie}?l=${L}&id=${Y}`,de.async=!0,document.head.appendChild(de)}function _e(L,Y,de,Le,Be,ot){return De.apply(this,arguments)}function De(){return(De=(0,l.Z)(function*(L,Y,de,Le,Be,ot){const Xe=Le[Be];try{if(Xe)yield Y[Xe];else{const j=(yield Ce(de)).find(V=>V.measurementId===Be);j&&(yield Y[j.appId])}}catch(X){je.error(X)}L("config",Be,ot)})).apply(this,arguments)}function et(L,Y,de,Le,Be){return qe.apply(this,arguments)}function qe(){return(qe=(0,l.Z)(function*(L,Y,de,Le,Be){try{let ot=[];if(Be&&Be.send_to){let Xe=Be.send_to;Array.isArray(Xe)||(Xe=[Xe]);const X=yield Ce(de);for(const j of Xe){const V=X.find(ze=>ze.measurementId===j),be=V&&Y[V.appId];if(!be){ot=[];break}ot.push(be)}}0===ot.length&&(ot=Object.values(Y)),yield Promise.all(ot),L("event",Le,Be||{})}catch(ot){je.error(ot)}})).apply(this,arguments)}function Ie(){const L=window.document.getElementsByTagName("script");for(const Y of Object.values(L))if(Y.src&&Y.src.includes(ie))return Y;return null}const ee=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ae=new class te{constructor(Y={},de=1e3){this.throttleMetadata=Y,this.intervalMillis=de}getThrottleMetadata(Y){return this.throttleMetadata[Y]}setThrottleMetadata(Y,de){this.throttleMetadata[Y]=de}deleteThrottleMetadata(Y){delete this.throttleMetadata[Y]}};function ce(L){return new Headers({Accept:"application/json","x-goog-api-key":L})}function Me(L){return oe.apply(this,arguments)}function oe(){return(oe=(0,l.Z)(function*(L){var Y;const{appId:de,apiKey:Le}=L,Be={method:"GET",headers:ce(Le)},ot=$.replace("{app-id}",de),Xe=yield fetch(ot,Be);if(200!==Xe.status&&304!==Xe.status){let X="";try{const j=yield Xe.json();(null===(Y=j.error)||void 0===Y?void 0:Y.message)&&(X=j.error.message)}catch(j){}throw ee.create("config-fetch-failed",{httpStatus:Xe.status,responseMessage:X})}return Xe.json()})).apply(this,arguments)}function vt(L){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,l.Z)(function*(L,Y=ae,de){const{appId:Le,apiKey:Be,measurementId:ot}=L.options;if(!Le)throw ee.create("no-app-id");if(!Be){if(ot)return{measurementId:ot,appId:Le};throw ee.create("no-api-key")}const Xe=Y.getThrottleMetadata(Le)||{backoffCount:0,throttleEndTimeMillis:Date.now()},X=new dn;return setTimeout((0,l.Z)(function*(){X.abort()}),void 0!==de?de:6e4),En({appId:Le,apiKey:Be,measurementId:ot},Xe,X,Y)})).apply(this,arguments)}function En(L,Y,de){return st.apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(L,{throttleEndTimeMillis:Y,backoffCount:de},Le,Be=ae){var ot,Xe;const{appId:X,measurementId:j}=L;try{yield lt(Le,Y)}catch(V){if(j)return je.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${j} provided in the "measurementId" field in the local Firebase config. [${null===(ot=V)||void 0===ot?void 0:ot.message}]`),{appId:X,measurementId:j};throw V}try{const V=yield Me(L);return Be.deleteThrottleMetadata(X),V}catch(V){const be=V;if(!vn(be)){if(Be.deleteThrottleMetadata(X),j)return je.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${j} provided in the "measurementId" field in the local Firebase config. [${null==be?void 0:be.message}]`),{appId:X,measurementId:j};throw V}const ze=503===Number(null===(Xe=null==be?void 0:be.customData)||void 0===Xe?void 0:Xe.httpStatus)?(0,se.$s)(de,Be.intervalMillis,30):(0,se.$s)(de,Be.intervalMillis),at={throttleEndTimeMillis:Date.now()+ze,backoffCount:de+1};return Be.setThrottleMetadata(X,at),je.debug(`Calling attemptFetch again in ${ze} millis`),En(L,at,Le,Be)}})).apply(this,arguments)}function lt(L,Y){return new Promise((de,Le)=>{const Be=Math.max(Y-Date.now(),0),ot=setTimeout(de,Be);L.addEventListener(()=>{clearTimeout(ot),Le(ee.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}function vn(L){if(!(L instanceof se.ZR&&L.customData))return!1;const Y=Number(L.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}class dn{constructor(){this.listeners=[]}addEventListener(Y){this.listeners.push(Y)}abort(){this.listeners.forEach(Y=>Y())}}function Tr(){return tn.apply(this,arguments)}function tn(){return(tn=(0,l.Z)(function*(){var L;if(!(0,se.hl)())return je.warn(ee.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(Y){return je.warn(ee.create("indexeddb-unavailable",{errorInfo:null===(L=Y)||void 0===L?void 0:L.toString()}).message),!1}return!0})).apply(this,arguments)}function At(){return(At=(0,l.Z)(function*(L,Y,de,Le,Be,ot,Xe){var X;const j=vt(L);j.then(_t=>{de[_t.measurementId]=_t.appId,L.options.measurementId&&_t.measurementId!==L.options.measurementId&&je.warn(`The measurement ID in the local Firebase config (${L.options.measurementId}) does not match the measurement ID fetched from the server (${_t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_t=>je.error(_t)),Y.push(j);const V=Tr().then(_t=>{if(_t)return Le.getId()}),[be,ze]=yield Promise.all([j,V]);Ie()||Ue(ot,be.measurementId),Be("js",new Date);const at=null!==(X=null==Xe?void 0:Xe.config)&&void 0!==X?X:{};return at.origin="firebase",at.update=!0,null!=ze&&(at[ue]=ze),Be("config",be.measurementId,at),be.measurementId})).apply(this,arguments)}class nn{constructor(Y){this.app=Y}_delete(){return delete Mn[this.app.options.appId],Promise.resolve()}}let Mn={},Fr=[];const mn={};let ir,Dn,Pn="dataLayer",sr=!1;function Xt(L,Y,de){!function Jn(){const L=[];if((0,se.ru)()&&L.push("This is a browser extension environment."),(0,se.zI)()||L.push("Cookies are not available."),L.length>0){const Y=L.map((Le,Be)=>`(${Be+1}) ${Le}`).join(" "),de=ee.create("invalid-analytics-context",{errorInfo:Y});je.warn(de.message)}}();const Le=L.options.appId;if(!Le)throw ee.create("no-app-id");if(!L.options.apiKey){if(!L.options.measurementId)throw ee.create("no-api-key");je.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${L.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mn[Le])throw ee.create("already-exists",{id:Le});if(!sr){!function $e(L){let Y=[];Array.isArray(window[L])?Y=window[L]:window[L]=Y}(Pn);const{wrappedGtag:ot,gtagCore:Xe}=function Oe(L,Y,de,Le,Be){let ot=function(...Xe){window[Le].push(arguments)};return window[Be]&&"function"==typeof window[Be]&&(ot=window[Be]),window[Be]=function Ne(L,Y,de,Le){function ot(){return(ot=(0,l.Z)(function*(Xe,X,j){try{"event"===Xe?yield et(L,Y,de,X,j):"config"===Xe?yield _e(L,Y,de,Le,X,j):L("set",X)}catch(V){je.error(V)}})).apply(this,arguments)}return function Be(Xe,X,j){return ot.apply(this,arguments)}}(ot,L,Y,de),{gtagCore:ot,wrappedGtag:window[Be]}}(Mn,Fr,mn,Pn,"gtag");Dn=ot,ir=Xe,sr=!0}return Mn[Le]=function $t(L,Y,de,Le,Be,ot,Xe){return At.apply(this,arguments)}(L,Fr,mn,Y,ir,Pn,de),new nn(L)}function Ln(){return(Ln=(0,l.Z)(function*(L,Y,de,Le,Be){if(Be&&Be.global)L("event",de,Le);else{const ot=yield Y;L("event",de,Object.assign(Object.assign({},Le),{send_to:ot}))}})).apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(L,Y,de,Le){if(Le&&Le.global)return L("set",{user_id:de}),Promise.resolve();L("config",yield Y,{update:!0,user_id:de})})).apply(this,arguments)}function wn(L=(0,F.getApp)()){L=(0,se.m9)(L);const Y=(0,F._getProvider)(L,fe);return Y.isInitialized()?Y.getImmediate():function Ur(L,Y={}){const de=(0,F._getProvider)(L,fe);if(de.isInitialized()){const Be=de.getImmediate();if((0,se.vZ)(Y,de.getOptions()))return Be;throw ee.create("already-initialized")}return de.initialize({options:Y})}(L)}function Ft(){return ar.apply(this,arguments)}function ar(){return(ar=(0,l.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(L){return!1}})).apply(this,arguments)}function rn(L,Y,de){L=(0,se.m9)(L),function yn(L,Y,de,Le){return Un.apply(this,arguments)}(Dn,Mn[L.app.options.appId],Y,de).catch(Le=>je.error(Le))}function U(L,Y,de,Le){L=(0,se.m9)(L),function Qt(L,Y,de,Le,Be){return Ln.apply(this,arguments)}(Dn,Mn[L.app.options.appId],Y,de,Le).catch(Be=>je.error(Be))}const J="@firebase/analytics",Q="0.7.11";!function k(){(0,F._registerComponent)(new ye.wA(fe,(Y,{options:de})=>Xt(Y.getProvider("app").getImmediate(),Y.getProvider("installations-internal").getImmediate(),de),"PUBLIC")),(0,F._registerComponent)(new ye.wA("analytics-internal",function L(Y){try{const de=Y.getProvider(fe).getImmediate();return{logEvent:(Le,Be,ot)=>U(de,Le,Be,ot)}}catch(de){throw ee.create("interop-component-reg-failed",{reason:de})}},"PRIVATE")),(0,F.registerVersion)(J,Q),(0,F.registerVersion)(J,Q,"esm2017")}()},5867:(ct,Te,x)=>{x.d(Te,{Mq:()=>l.getApp,C6:()=>l.getApps,ZF:()=>l.initializeApp,KN:()=>l.registerVersion});var l=x(9681);(0,l.registerVersion)("firebase","9.8.4","app")},127:(ct,Te,x)=>{x.d(Te,{Z:()=>l.Z});var l=x(3942);l.Z.registerVersion("firebase","9.8.4","app-compat")},5881:(ct,Te,x)=>{x.r(Te);var l=x(5861),F=x(3942),M=x(3673),se=x(2090),fe=(x(9681),x(1877),x(4859));function ue(){return window}function $(){return($=(0,l.Z)(function*(X,j,V){var be;const{BuildInfo:ze}=ue();(0,M.aq)(j.sessionId,"AuthEvent did not contain a session ID");const at=yield De(j.sessionId),_t={};return(0,M.ar)()?_t.ibi=ze.packageName:(0,M.as)()?_t.apn=ze.packageName:(0,M.at)(X,"operation-not-supported-in-this-environment"),ze.displayName&&(_t.appDisplayName=ze.displayName),_t.sessionId=at,(0,M.au)(X,V,j.type,void 0,null!==(be=j.eventId)&&void 0!==be?be:void 0,_t)})).apply(this,arguments)}function je(){return(je=(0,l.Z)(function*(X){const{BuildInfo:j}=ue(),V={};(0,M.ar)()?V.iosBundleId=j.packageName:(0,M.as)()?V.androidPackageName=j.packageName:(0,M.at)(X,"operation-not-supported-in-this-environment"),yield(0,M.av)(X,V)})).apply(this,arguments)}function $e(){return($e=(0,l.Z)(function*(X,j,V){const{cordova:be}=ue();let ze=()=>{};try{yield new Promise((at,_t)=>{let zt=null;function Lt(){var Zt;at();const Vn=null===(Zt=be.plugins.browsertab)||void 0===Zt?void 0:Zt.close;"function"==typeof Vn&&Vn(),"function"==typeof(null==V?void 0:V.close)&&V.close()}function Rn(){zt||(zt=window.setTimeout(()=>{_t((0,M.aw)(X,"redirect-cancelled-by-user"))},2e3))}function gr(){"visible"===(null==document?void 0:document.visibilityState)&&Rn()}j.addPassiveListener(Lt),document.addEventListener("resume",Rn,!1),(0,M.as)()&&document.addEventListener("visibilitychange",gr,!1),ze=()=>{j.removePassiveListener(Lt),document.removeEventListener("resume",Rn,!1),document.removeEventListener("visibilitychange",gr,!1),zt&&window.clearTimeout(zt)}})}finally{ze()}})).apply(this,arguments)}function De(X){return et.apply(this,arguments)}function et(){return(et=(0,l.Z)(function*(X){const j=qe(X),V=yield crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array(V)).map(ze=>ze.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function qe(X){if((0,M.aq)(/[0-9a-zA-Z]+/.test(X),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(X);const j=new ArrayBuffer(X.length),V=new Uint8Array(j);for(let be=0;be<X.length;be++)V[be]=X.charCodeAt(be);return V}class Oe extends M.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(j=>{this.resolveInialized=j})}addPassiveListener(j){this.passiveListeners.add(j)}removePassiveListener(j){this.passiveListeners.delete(j)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(j){return this.resolveInialized(),this.passiveListeners.forEach(V=>V(j)),super.onEvent(j)}initialized(){var j=this;return(0,l.Z)(function*(){yield j.initPromise})()}}function ee(X){return ge.apply(this,arguments)}function ge(){return(ge=(0,l.Z)(function*(X){const j=yield ae()._get(ce(X));return j&&(yield ae()._remove(ce(X))),j})).apply(this,arguments)}function te(){const X=[],j="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let V=0;V<20;V++){const be=Math.floor(Math.random()*j.length);X.push(j.charAt(be))}return X.join("")}function ae(){return(0,M.ay)(M.b)}function ce(X){return(0,M.az)("authEvent",X.config.apiKey,X.name)}function vt(X){if(!(null==X?void 0:X.includes("?")))return{};const[j,...V]=X.split("?");return(0,se.zd)(V.join("?"))}function lt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,M.aw)("no-auth-event")}}function $t(){var X;return(null===(X=null==self?void 0:self.location)||void 0===X?void 0:X.protocol)||null}function nn(X=(0,se.z$)()){return!("file:"!==$t()&&"ionic:"!==$t()&&"capacitor:"!==$t()||!X.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qn(){try{const X=self.localStorage,j=M.aI();if(X)return X.setItem(j,"1"),X.removeItem(j),!function Pn(X=(0,se.z$)()){return function Fr(){return(0,se.w1)()&&11===(null==document?void 0:document.documentMode)}()||function mn(X=(0,se.z$)()){return/Edge\/\d+/.test(X)}(X)}()||(0,se.hl)()}catch(X){return ir()&&(0,se.hl)()}return!1}function ir(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dn(){return(function At(){return"http:"===$t()||"https:"===$t()}()||(0,se.ru)()||nn())&&!function Mn(){return(0,se.b$)()||(0,se.UG)()}()&&Qn()&&!ir()}function sr(){return nn()&&"undefined"!=typeof document}function Jn(){return(Jn=(0,l.Z)(function*(){return!!sr()&&new Promise(X=>{const j=setTimeout(()=>{X(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(j),X(!0)})})})).apply(this,arguments)}const Qt={LOCAL:"local",NONE:"none",SESSION:"session"},Ln=M.ax,Zn="persistence";function yn(X){return Un.apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(X){yield X._initializationPromise;const j=kt(),V=M.az(Zn,X.config.apiKey,X.name);j&&j.setItem(V,X._getPersistence())})).apply(this,arguments)}function kt(){var X;try{return(null===(X=function Xt(){return"undefined"!=typeof window?window:null}())||void 0===X?void 0:X.sessionStorage)||null}catch(j){return null}}const gt=M.ax;class rt{constructor(){this.browserResolver=M.ay(M.k),this.cordovaResolver=M.ay(class En{constructor(){this._redirectPersistence=M.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=M.aB,this._overrideRedirectResult=M.aC}_initialize(j){var V=this;return(0,l.Z)(function*(){const be=j._key();let ze=V.eventManagers.get(be);return ze||(ze=new Oe(j),V.eventManagers.set(be,ze),V.attachCallbackListeners(j,ze)),ze})()}_openPopup(j){(0,M.at)(j,"operation-not-supported-in-this-environment")}_openRedirect(j,V,be,ze){var at=this;return(0,l.Z)(function*(){!function _e(X){var j,V,be,ze,at,_t,zt,Lt,Rn,gr;const Zt=ue();(0,M.ax)("function"==typeof(null===(j=null==Zt?void 0:Zt.universalLinks)||void 0===j?void 0:j.subscribe),X,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,M.ax)(void 0!==(null===(V=null==Zt?void 0:Zt.BuildInfo)||void 0===V?void 0:V.packageName),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,M.ax)("function"==typeof(null===(at=null===(ze=null===(be=null==Zt?void 0:Zt.cordova)||void 0===be?void 0:be.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===at?void 0:at.openUrl),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.ax)("function"==typeof(null===(Lt=null===(zt=null===(_t=null==Zt?void 0:Zt.cordova)||void 0===_t?void 0:_t.plugins)||void 0===zt?void 0:zt.browsertab)||void 0===Lt?void 0:Lt.isAvailable),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.ax)("function"==typeof(null===(gr=null===(Rn=null==Zt?void 0:Zt.cordova)||void 0===Rn?void 0:Rn.InAppBrowser)||void 0===gr?void 0:gr.open),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(j);const _t=yield at._initialize(j);yield _t.initialized(),_t.resetRedirect(),(0,M.aD)(),yield at._originValidation(j);const zt=function Ie(X,j,V=null){return{type:j,eventId:V,urlResponse:null,sessionId:te(),postBody:null,tenantId:X.tenantId,error:(0,M.aw)(X,"no-auth-event")}}(j,be,ze);yield function Ye(X,j){return ae()._set(ce(X),j)}(j,zt);const Lt=yield function Z(X,j,V){return $.apply(this,arguments)}(j,zt,V),Rn=yield function Ce(X){const{cordova:j}=ue();return new Promise(V=>{j.plugins.browsertab.isAvailable(be=>{let ze=null;be?j.plugins.browsertab.openUrl(X):ze=j.InAppBrowser.open(X,(0,M.ap)()?"_blank":"_system","location=yes"),V(ze)})})}(Lt);return function Ue(X,j,V){return $e.apply(this,arguments)}(j,_t,Rn)})()}_isIframeWebStorageSupported(j,V){throw new Error("Method not implemented.")}_originValidation(j){const V=j._key();return this.originValidationPromises[V]||(this.originValidationPromises[V]=function ie(X){return je.apply(this,arguments)}(j)),this.originValidationPromises[V]}attachCallbackListeners(j,V){const{universalLinks:be,handleOpenURL:ze,BuildInfo:at}=ue(),_t=setTimeout((0,l.Z)(function*(){yield ee(j),V.onEvent(lt())}),500),zt=function(){var gr=(0,l.Z)(function*(Zt){clearTimeout(_t);const Vn=yield ee(j);let Vr=null;Vn&&(null==Zt?void 0:Zt.url)&&(Vr=function B(X,j){var V,be;const ze=function oe(X){const j=vt(X),V=j.link?decodeURIComponent(j.link):void 0,be=vt(V).link,ze=j.deep_link_id?decodeURIComponent(j.deep_link_id):void 0;return vt(ze).link||ze||be||V||X}(j);if(ze.includes("/__/auth/callback")){const at=vt(ze),_t=at.firebaseError?function Me(X){try{return JSON.parse(X)}catch(j){return null}}(decodeURIComponent(at.firebaseError)):null,zt=null===(be=null===(V=null==_t?void 0:_t.code)||void 0===V?void 0:V.split("auth/"))||void 0===be?void 0:be[1],Lt=zt?(0,M.aw)(zt):null;return Lt?{type:X.type,eventId:X.eventId,tenantId:X.tenantId,error:Lt,urlResponse:null,sessionId:null,postBody:null}:{type:X.type,eventId:X.eventId,tenantId:X.tenantId,sessionId:X.sessionId,urlResponse:ze,postBody:null}}return null}(Vn,Zt.url)),V.onEvent(Vr||lt())});return function(Vn){return gr.apply(this,arguments)}}();void 0!==be&&"function"==typeof be.subscribe&&be.subscribe(null,zt);const Lt=ze,Rn=`${at.packageName.toLowerCase()}://`;ue().handleOpenURL=function(){var gr=(0,l.Z)(function*(Zt){if(Zt.toLowerCase().startsWith(Rn)&&zt({url:Zt}),"function"==typeof Lt)try{Lt(Zt)}catch(Vn){console.error(Vn)}});return function(Zt){return gr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=M.a,this._completeRedirectFn=M.aB,this._overrideRedirectResult=M.aC}_initialize(j){var V=this;return(0,l.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._initialize(j)})()}_openPopup(j,V,be,ze){var at=this;return(0,l.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openPopup(j,V,be,ze)})()}_openRedirect(j,V,be,ze){var at=this;return(0,l.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openRedirect(j,V,be,ze)})()}_isIframeWebStorageSupported(j,V){this.assertedUnderlyingResolver._isIframeWebStorageSupported(j,V)}_originValidation(j){return this.assertedUnderlyingResolver._originValidation(j)}get _shouldInitProactively(){return sr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var j=this;return(0,l.Z)(function*(){if(j.underlyingResolver)return;const V=yield function Et(){return Jn.apply(this,arguments)}();j.underlyingResolver=V?j.cordovaResolver:j.browserResolver})()}}function wn(X){return X.unwrap()}function Ft(X){return Cn(X)}function Cn(X){const{_tokenResponse:j}=X instanceof se.ZR?X.customData:X;if(!j)return null;if(!(X instanceof se.ZR)&&"temporaryProof"in j&&"phoneNumber"in j)return M.P.credentialFromResult(X);const V=j.providerId;if(!V||V===M.o.PASSWORD)return null;let be;switch(V){case M.o.GOOGLE:be=M.Q;break;case M.o.FACEBOOK:be=M.N;break;case M.o.GITHUB:be=M.T;break;case M.o.TWITTER:be=M.W;break;default:const{oauthIdToken:ze,oauthAccessToken:at,oauthTokenSecret:_t,pendingToken:zt,nonce:Lt}=j;return at||_t||ze||zt?zt?V.startsWith("saml.")?M.aL._create(V,zt):M.J._fromParams({providerId:V,signInMethod:V,pendingToken:zt,idToken:ze,accessToken:at}):new M.U(V).credential({idToken:ze,accessToken:at,rawNonce:Lt}):null}return X instanceof se.ZR?be.credentialFromError(X):be.credentialFromResult(X)}function rn(X,j){return j.catch(V=>{throw V instanceof se.ZR&&function ar(X,j){var V,be;const ze=null===(V=j.customData)||void 0===V?void 0:V._tokenResponse;if("auth/multi-factor-auth-required"===(null===(be=j)||void 0===be?void 0:be.code))j.resolver=new U(X,M.an(X,j));else if(ze){const at=Cn(j),_t=j;at&&(_t.credential=at,_t.tenantId=ze.tenantId||void 0,_t.email=ze.email||void 0,_t.phoneNumber=ze.phoneNumber||void 0)}}(X,V),V}).then(V=>{const ze=V.user;return{operationType:V.operationType,credential:Ft(V),additionalUserInfo:M.al(V),user:J.getOrCreate(ze)}})}function mt(X,j){return K.apply(this,arguments)}function K(){return(K=(0,l.Z)(function*(X,j){const V=yield j;return{verificationId:V.verificationId,confirm:be=>rn(X,V.confirm(be))}})).apply(this,arguments)}class U{constructor(j,V){this.resolver=V,this.auth=function Ur(X){return X.wrapped()}(j)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(j){return rn(wn(this.auth),this.resolver.resolveSignIn(j))}}class J{constructor(j){this._delegate=j,this.multiFactor=M.ao(j)}static getOrCreate(j){return J.USER_MAP.has(j)||J.USER_MAP.set(j,new J(j)),J.USER_MAP.get(j)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(j){return this._delegate.getIdTokenResult(j)}getIdToken(j){return this._delegate.getIdToken(j)}linkAndRetrieveDataWithCredential(j){return this.linkWithCredential(j)}linkWithCredential(j){var V=this;return(0,l.Z)(function*(){return rn(V.auth,M.Z(V._delegate,j))})()}linkWithPhoneNumber(j,V){var be=this;return(0,l.Z)(function*(){return mt(be.auth,M.l(be._delegate,j,V))})()}linkWithPopup(j){var V=this;return(0,l.Z)(function*(){return rn(V.auth,M.d(V._delegate,j,rt))})()}linkWithRedirect(j){var V=this;return(0,l.Z)(function*(){return yield yn(M.aE(V.auth)),M.g(V._delegate,j,rt)})()}reauthenticateAndRetrieveDataWithCredential(j){return this.reauthenticateWithCredential(j)}reauthenticateWithCredential(j){var V=this;return(0,l.Z)(function*(){return rn(V.auth,M._(V._delegate,j))})()}reauthenticateWithPhoneNumber(j,V){return mt(this.auth,M.r(this._delegate,j,V))}reauthenticateWithPopup(j){return rn(this.auth,M.e(this._delegate,j,rt))}reauthenticateWithRedirect(j){var V=this;return(0,l.Z)(function*(){return yield yn(M.aE(V.auth)),M.h(V._delegate,j,rt)})()}sendEmailVerification(j){return M.ab(this._delegate,j)}unlink(j){var V=this;return(0,l.Z)(function*(){return yield M.ak(V._delegate,j),V})()}updateEmail(j){return M.ag(this._delegate,j)}updatePassword(j){return M.ah(this._delegate,j)}updatePhoneNumber(j){return M.u(this._delegate,j)}updateProfile(j){return M.af(this._delegate,j)}verifyBeforeUpdateEmail(j,V){return M.ac(this._delegate,j,V)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}J.USER_MAP=new WeakMap;const Q=M.ax;let k=(()=>{class X{constructor(V,be){if(this.app=V,be.isInitialized())return this._delegate=be.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ze}=V.options;Q(ze,"invalid-api-key",{appName:V.name}),Q(ze,"invalid-api-key",{appName:V.name});const at="undefined"!=typeof window?rt:void 0;this._delegate=be.initialize({options:{persistence:Y(ze,V.name),popupRedirectResolver:at}}),this._delegate._updateErrorMap(M.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?J.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(V){this._delegate.languageCode=V}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(V){this._delegate.tenantId=V}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(V,be){M.G(this._delegate,V,be)}applyActionCode(V){return M.a2(this._delegate,V)}checkActionCode(V){return M.a3(this._delegate,V)}confirmPasswordReset(V,be){return M.a1(this._delegate,V,be)}createUserWithEmailAndPassword(V,be){var ze=this;return(0,l.Z)(function*(){return rn(ze._delegate,M.a5(ze._delegate,V,be))})()}fetchProvidersForEmail(V){return this.fetchSignInMethodsForEmail(V)}fetchSignInMethodsForEmail(V){return M.aa(this._delegate,V)}isSignInWithEmailLink(V){return M.a8(this._delegate,V)}getRedirectResult(){var V=this;return(0,l.Z)(function*(){Q(Dn(),V._delegate,"operation-not-supported-in-this-environment");const be=yield M.j(V._delegate,rt);return be?rn(V._delegate,Promise.resolve(be)):{credential:null,user:null}})()}addFrameworkForLogging(V){!function vn(X,j){(0,M.aE)(X)._logFramework(j)}(this._delegate,V)}onAuthStateChanged(V,be,ze){const{next:at,error:_t,complete:zt}=L(V,be,ze);return this._delegate.onAuthStateChanged(at,_t,zt)}onIdTokenChanged(V,be,ze){const{next:at,error:_t,complete:zt}=L(V,be,ze);return this._delegate.onIdTokenChanged(at,_t,zt)}sendSignInLinkToEmail(V,be){return M.a7(this._delegate,V,be)}sendPasswordResetEmail(V,be){return M.a0(this._delegate,V,be||void 0)}setPersistence(V){var be=this;return(0,l.Z)(function*(){let ze;switch(function or(X,j){Ln(Object.values(Qt).includes(j),X,"invalid-persistence-type"),(0,se.b$)()?Ln(j!==Qt.SESSION,X,"unsupported-persistence-type"):(0,se.UG)()?Ln(j===Qt.NONE,X,"unsupported-persistence-type"):ir()?Ln(j===Qt.NONE||j===Qt.LOCAL&&(0,se.hl)(),X,"unsupported-persistence-type"):Ln(j===Qt.NONE||Qn(),X,"unsupported-persistence-type")}(be._delegate,V),V){case Qt.SESSION:ze=M.a;break;case Qt.LOCAL:ze=(yield M.ay(M.i)._isAvailable())?M.i:M.b;break;case Qt.NONE:ze=M.L;break;default:return M.at("argument-error",{appName:be._delegate.name})}return be._delegate.setPersistence(ze)})()}signInAndRetrieveDataWithCredential(V){return this.signInWithCredential(V)}signInAnonymously(){return rn(this._delegate,M.X(this._delegate))}signInWithCredential(V){return rn(this._delegate,M.Y(this._delegate,V))}signInWithCustomToken(V){return rn(this._delegate,M.$(this._delegate,V))}signInWithEmailAndPassword(V,be){return rn(this._delegate,M.a6(this._delegate,V,be))}signInWithEmailLink(V,be){return rn(this._delegate,M.a9(this._delegate,V,be))}signInWithPhoneNumber(V,be){return mt(this._delegate,M.s(this._delegate,V,be))}signInWithPopup(V){var be=this;return(0,l.Z)(function*(){return Q(Dn(),be._delegate,"operation-not-supported-in-this-environment"),rn(be._delegate,M.c(be._delegate,V,rt))})()}signInWithRedirect(V){var be=this;return(0,l.Z)(function*(){return Q(Dn(),be._delegate,"operation-not-supported-in-this-environment"),yield yn(be._delegate),M.f(be._delegate,V,rt)})()}updateCurrentUser(V){return this._delegate.updateCurrentUser(V)}verifyPasswordResetCode(V){return M.a4(this._delegate,V)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return X.Persistence=Qt,X})();function L(X,j,V){let be=X;"function"!=typeof X&&({next:be,error:j,complete:V}=X);const ze=be;return{next:_t=>ze(_t&&J.getOrCreate(_t)),error:j,complete:V}}function Y(X,j){const V=function Lr(X,j){const V=kt();if(!V)return[];const be=M.az(Zn,X,j);switch(V.getItem(be)){case Qt.NONE:return[M.L];case Qt.LOCAL:return[M.i,M.a];case Qt.SESSION:return[M.a];default:return[]}}(X,j);if("undefined"!=typeof self&&!V.includes(M.i)&&V.push(M.i),"undefined"!=typeof window)for(const be of[M.b,M.a])V.includes(be)||V.push(be);return V.includes(M.L)||V.push(M.L),V}class de{constructor(){this.providerId="phone",this._delegate=new M.P(wn(F.Z.auth()))}static credential(j,V){return M.P.credential(j,V)}verifyPhoneNumber(j,V){return this._delegate.verifyPhoneNumber(j,V)}unwrap(){return this._delegate}}de.PHONE_SIGN_IN_METHOD=M.P.PHONE_SIGN_IN_METHOD,de.PROVIDER_ID=M.P.PROVIDER_ID;const Le=M.ax;class Be{constructor(j,V,be=F.Z.app()){var ze;Le(null===(ze=be.options)||void 0===ze?void 0:ze.apiKey,"invalid-api-key",{appName:be.name}),this._delegate=new M.R(j,V,be.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Xe(X){X.INTERNAL.registerComponent(new fe.wA("auth-compat",j=>{const V=j.getProvider("app-compat").getImmediate(),be=j.getProvider("auth");return new k(V,be)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:M.A.EMAIL_SIGNIN,PASSWORD_RESET:M.A.PASSWORD_RESET,RECOVER_EMAIL:M.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:M.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:M.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:M.A.VERIFY_EMAIL}},EmailAuthProvider:M.M,FacebookAuthProvider:M.N,GithubAuthProvider:M.T,GoogleAuthProvider:M.Q,OAuthProvider:M.U,SAMLAuthProvider:M.V,PhoneAuthProvider:de,PhoneMultiFactorGenerator:M.m,RecaptchaVerifier:Be,TwitterAuthProvider:M.W,Auth:k,AuthCredential:M.H,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),X.registerVersion("@firebase/auth-compat","0.2.17")}(F.Z)},8306:(ct,Te,x)=>{x.d(Te,{y:()=>Z});var l=x(2961),F=x(727),M=x(8822),se=x(4671);var fe=x(2416),ue=x(576),ve=x(2806);let Z=(()=>{class Ce{constructor($e){$e&&(this._subscribe=$e)}lift($e){const _e=new Ce;return _e.source=this,_e.operator=$e,_e}subscribe($e,_e,De){const et=function je(Ce){return Ce&&Ce instanceof l.Lv||function ie(Ce){return Ce&&(0,ue.m)(Ce.next)&&(0,ue.m)(Ce.error)&&(0,ue.m)(Ce.complete)}(Ce)&&(0,F.Nn)(Ce)}($e)?$e:new l.Hp($e,_e,De);return(0,ve.x)(()=>{const{operator:qe,source:Ne}=this;et.add(qe?qe.call(et,Ne):Ne?this._subscribe(et):this._trySubscribe(et))}),et}_trySubscribe($e){try{return this._subscribe($e)}catch(_e){$e.error(_e)}}forEach($e,_e){return new(_e=$(_e))((De,et)=>{const qe=new l.Hp({next:Ne=>{try{$e(Ne)}catch(Oe){et(Oe),qe.unsubscribe()}},error:et,complete:De});this.subscribe(qe)})}_subscribe($e){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe($e)}[M.L](){return this}pipe(...$e){return function we(Ce){return 0===Ce.length?se.y:1===Ce.length?Ce[0]:function($e){return Ce.reduce((_e,De)=>De(_e),$e)}}($e)(this)}toPromise($e){return new($e=$($e))((_e,De)=>{let et;this.subscribe(qe=>et=qe,qe=>De(qe),()=>_e(et))})}}return Ce.create=Ue=>new Ce(Ue),Ce})();function $(Ce){var Ue;return null!==(Ue=null!=Ce?Ce:fe.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(ct,Te,x)=>{x.d(Te,{x:()=>fe});var l=x(8306),F=x(727);const se=(0,x(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=x(8737),we=x(2806);let fe=(()=>{class ve extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const ie=new ue(this,this);return ie.operator=$,ie}_throwIfClosed(){if(this.closed)throw new se}next($){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next($)}})}error($){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:ie}=this;for(;ie.length;)ie.shift().error($)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:ie,isStopped:je,observers:Ce}=this;return ie||je?F.Lc:(this.currentObservers=null,Ce.push($),new F.w0(()=>{this.currentObservers=null,(0,ye.P)(Ce,$)}))}_checkFinalizedStatuses($){const{hasError:ie,thrownError:je,isStopped:Ce}=this;ie?$.error(je):Ce&&$.complete()}asObservable(){const $=new l.y;return $.source=this,$}}return ve.create=(Z,$)=>new ue(Z,$),ve})();class ue extends fe{constructor(Z,$){super(),this.destination=Z,this.source=$}next(Z){var $,ie;null===(ie=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===ie||ie.call($,Z)}error(Z){var $,ie;null===(ie=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===ie||ie.call($,Z)}complete(){var Z,$;null===($=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===$||$.call(Z)}_subscribe(Z){var $,ie;return null!==(ie=null===($=this.source)||void 0===$?void 0:$.subscribe(Z))&&void 0!==ie?ie:F.Lc}}},2961:(ct,Te,x)=>{x.d(Te,{Hp:()=>$e,Lv:()=>ie});var l=x(576),F=x(727),M=x(2416),se=x(7849);function ye(){}const we=ve("C",void 0,void 0);function ve(Ne,Oe,Ie){return{kind:Ne,value:Oe,error:Ie}}var Z=x(3410),$=x(2806);class ie extends F.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,F.Nn)(Oe)&&Oe.add(this)):this.destination=qe}static create(Oe,Ie,Ye){return new $e(Oe,Ie,Ye)}next(Oe){this.isStopped?et(function ue(Ne){return ve("N",Ne,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?et(function fe(Ne){return ve("E",void 0,Ne)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?et(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Ce(Ne,Oe){return je.call(Ne,Oe)}class Ue{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(Oe)}catch(Ye){_e(Ye)}}error(Oe){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(Oe)}catch(Ye){_e(Ye)}else _e(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(Ie){_e(Ie)}}}class $e extends ie{constructor(Oe,Ie,Ye){let ee;if(super(),(0,l.m)(Oe)||!Oe)ee={next:null!=Oe?Oe:void 0,error:null!=Ie?Ie:void 0,complete:null!=Ye?Ye:void 0};else{let ge;this&&M.v.useDeprecatedNextContext?(ge=Object.create(Oe),ge.unsubscribe=()=>this.unsubscribe(),ee={next:Oe.next&&Ce(Oe.next,ge),error:Oe.error&&Ce(Oe.error,ge),complete:Oe.complete&&Ce(Oe.complete,ge)}):ee=Oe}this.destination=new Ue(ee)}}function _e(Ne){M.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ne):(0,se.h)(Ne)}function et(Ne,Oe){const{onStoppedNotification:Ie}=M.v;Ie&&Z.z.setTimeout(()=>Ie(Ne,Oe))}const qe={closed:!0,next:ye,error:function De(Ne){throw Ne},complete:ye}},727:(ct,Te,x)=>{x.d(Te,{Lc:()=>we,w0:()=>ye,Nn:()=>fe});var l=x(576);const M=(0,x(3888).d)(ve=>function($){ve(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((ie,je)=>`${je+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var se=x(8737);class ye{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ce of $)Ce.remove(this);else $.remove(this);const{initialTeardown:ie}=this;if((0,l.m)(ie))try{ie()}catch(Ce){Z=Ce instanceof M?Ce.errors:[Ce]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Ce of je)try{ue(Ce)}catch(Ue){Z=null!=Z?Z:[],Ue instanceof M?Z=[...Z,...Ue.errors]:Z.push(Ue)}}if(Z)throw new M(Z)}}add(Z){var $;if(Z&&Z!==this)if(this.closed)ue(Z);else{if(Z instanceof ye){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(Z)}}_hasParent(Z){const{_parentage:$}=this;return $===Z||Array.isArray($)&&$.includes(Z)}_addParent(Z){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(Z),$):$?[$,Z]:Z}_removeParent(Z){const{_parentage:$}=this;$===Z?this._parentage=null:Array.isArray($)&&(0,se.P)($,Z)}remove(Z){const{_finalizers:$}=this;$&&(0,se.P)($,Z),Z instanceof ye&&Z._removeParent(this)}}ye.EMPTY=(()=>{const ve=new ye;return ve.closed=!0,ve})();const we=ye.EMPTY;function fe(ve){return ve instanceof ye||ve&&"closed"in ve&&(0,l.m)(ve.remove)&&(0,l.m)(ve.add)&&(0,l.m)(ve.unsubscribe)}function ue(ve){(0,l.m)(ve)?ve():ve.unsubscribe()}},2416:(ct,Te,x)=>{x.d(Te,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ct,Te,x)=>{x.d(Te,{E:()=>F});const F=new(x(8306).y)(ye=>ye.complete())},8996:(ct,Te,x)=>{x.d(Te,{D:()=>Oe});var l=x(8421),F=x(5363),M=x(9468),we=x(8306),ue=x(2202),ve=x(576),Z=x(9672);function ie(Ie,Ye){if(!Ie)throw new Error("Iterable cannot be null");return new we.y(ee=>{(0,Z.f)(ee,Ye,()=>{const ge=Ie[Symbol.asyncIterator]();(0,Z.f)(ee,Ye,()=>{ge.next().then(B=>{B.done?ee.complete():ee.next(B.value)})},0,!0)})})}var je=x(3670),Ce=x(8239),Ue=x(1144),$e=x(6495),_e=x(2206),De=x(4532),et=x(3260);function Oe(Ie,Ye){return Ye?function Ne(Ie,Ye){if(null!=Ie){if((0,je.c)(Ie))return function se(Ie,Ye){return(0,l.Xf)(Ie).pipe((0,M.R)(Ye),(0,F.Q)(Ye))}(Ie,Ye);if((0,Ue.z)(Ie))return function fe(Ie,Ye){return new we.y(ee=>{let ge=0;return Ye.schedule(function(){ge===Ie.length?ee.complete():(ee.next(Ie[ge++]),ee.closed||this.schedule())})})}(Ie,Ye);if((0,Ce.t)(Ie))return function ye(Ie,Ye){return(0,l.Xf)(Ie).pipe((0,M.R)(Ye),(0,F.Q)(Ye))}(Ie,Ye);if((0,_e.D)(Ie))return ie(Ie,Ye);if((0,$e.T)(Ie))return function $(Ie,Ye){return new we.y(ee=>{let ge;return(0,Z.f)(ee,Ye,()=>{ge=Ie[ue.h](),(0,Z.f)(ee,Ye,()=>{let B,te;try{({value:B,done:te}=ge.next())}catch(ae){return void ee.error(ae)}te?ee.complete():ee.next(B)},0,!0)}),()=>(0,ve.m)(null==ge?void 0:ge.return)&&ge.return()})}(Ie,Ye);if((0,et.L)(Ie))return function qe(Ie,Ye){return ie((0,et.Q)(Ie),Ye)}(Ie,Ye)}throw(0,De.z)(Ie)}(Ie,Ye):(0,l.Xf)(Ie)}},8421:(ct,Te,x)=>{x.d(Te,{Xf:()=>je});var l=x(655),F=x(1144),M=x(8239),se=x(8306),ye=x(3670),we=x(2206),fe=x(4532),ue=x(6495),ve=x(3260),Z=x(576),$=x(7849),ie=x(8822);function je(Ne){if(Ne instanceof se.y)return Ne;if(null!=Ne){if((0,ye.c)(Ne))return function Ce(Ne){return new se.y(Oe=>{const Ie=Ne[ie.L]();if((0,Z.m)(Ie.subscribe))return Ie.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,F.z)(Ne))return function Ue(Ne){return new se.y(Oe=>{for(let Ie=0;Ie<Ne.length&&!Oe.closed;Ie++)Oe.next(Ne[Ie]);Oe.complete()})}(Ne);if((0,M.t)(Ne))return function $e(Ne){return new se.y(Oe=>{Ne.then(Ie=>{Oe.closed||(Oe.next(Ie),Oe.complete())},Ie=>Oe.error(Ie)).then(null,$.h)})}(Ne);if((0,we.D)(Ne))return De(Ne);if((0,ue.T)(Ne))return function _e(Ne){return new se.y(Oe=>{for(const Ie of Ne)if(Oe.next(Ie),Oe.closed)return;Oe.complete()})}(Ne);if((0,ve.L)(Ne))return function et(Ne){return De((0,ve.Q)(Ne))}(Ne)}throw(0,fe.z)(Ne)}function De(Ne){return new se.y(Oe=>{(function qe(Ne,Oe){var Ie,Ye,ee,ge;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,l.KL)(Ne);!(Ye=yield Ie.next()).done;)if(Oe.next(Ye.value),Oe.closed)return}catch(B){ee={error:B}}finally{try{Ye&&!Ye.done&&(ge=Ie.return)&&(yield ge.call(Ie))}finally{if(ee)throw ee.error}}Oe.complete()})})(Ne,Oe).catch(Ie=>Oe.error(Ie))})}},6451:(ct,Te,x)=>{x.d(Te,{T:()=>we});var l=x(8189),F=x(8421),M=x(515),se=x(7669),ye=x(8996);function we(...fe){const ue=(0,se.yG)(fe),ve=(0,se._6)(fe,1/0),Z=fe;return Z.length?1===Z.length?(0,F.Xf)(Z[0]):(0,l.J)(ve)((0,ye.D)(Z,ue)):M.E}},5403:(ct,Te,x)=>{x.d(Te,{x:()=>F,Q:()=>M});var l=x(2961);function F(se,ye,we,fe,ue){return new M(se,ye,we,fe,ue)}class M extends l.Lv{constructor(ye,we,fe,ue,ve,Z){super(ye),this.onFinalize=ve,this.shouldUnsubscribe=Z,this._next=we?function($){try{we($)}catch(ie){ye.error(ie)}}:super._next,this._error=ue?function($){try{ue($)}catch(ie){ye.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch($){ye.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},4004:(ct,Te,x)=>{x.d(Te,{U:()=>M});var l=x(4482),F=x(5403);function M(se,ye){return(0,l.e)((we,fe)=>{let ue=0;we.subscribe((0,F.x)(fe,ve=>{fe.next(se.call(ye,ve,ue++))}))})}},8189:(ct,Te,x)=>{x.d(Te,{J:()=>M});var l=x(5577),F=x(4671);function M(se=1/0){return(0,l.z)(F.y,se)}},5577:(ct,Te,x)=>{x.d(Te,{z:()=>ue});var l=x(4004),F=x(8421),M=x(4482),se=x(9672),ye=x(5403),fe=x(576);function ue(ve,Z,$=1/0){return(0,fe.m)(Z)?ue((ie,je)=>(0,l.U)((Ce,Ue)=>Z(ie,Ce,je,Ue))((0,F.Xf)(ve(ie,je))),$):("number"==typeof Z&&($=Z),(0,M.e)((ie,je)=>function we(ve,Z,$,ie,je,Ce,Ue,$e){const _e=[];let De=0,et=0,qe=!1;const Ne=()=>{qe&&!_e.length&&!De&&Z.complete()},Oe=Ye=>De<ie?Ie(Ye):_e.push(Ye),Ie=Ye=>{Ce&&Z.next(Ye),De++;let ee=!1;(0,F.Xf)($(Ye,et++)).subscribe((0,ye.x)(Z,ge=>{null==je||je(ge),Ce?Oe(ge):Z.next(ge)},()=>{ee=!0},void 0,()=>{if(ee)try{for(De--;_e.length&&De<ie;){const ge=_e.shift();Ue?(0,se.f)(Z,Ue,()=>Ie(ge)):Ie(ge)}Ne()}catch(ge){Z.error(ge)}}))};return ve.subscribe((0,ye.x)(Z,Oe,()=>{qe=!0,Ne()})),()=>{null==$e||$e()}}(ie,je,ve,$)))}},5363:(ct,Te,x)=>{x.d(Te,{Q:()=>se});var l=x(9672),F=x(4482),M=x(5403);function se(ye,we=0){return(0,F.e)((fe,ue)=>{fe.subscribe((0,M.x)(ue,ve=>(0,l.f)(ue,ye,()=>ue.next(ve),we),()=>(0,l.f)(ue,ye,()=>ue.complete(),we),ve=>(0,l.f)(ue,ye,()=>ue.error(ve),we)))})}},3099:(ct,Te,x)=>{x.d(Te,{B:()=>we});var l=x(8996),F=x(5698),M=x(7579),se=x(2961),ye=x(4482);function we(ue={}){const{connector:ve=(()=>new M.x),resetOnError:Z=!0,resetOnComplete:$=!0,resetOnRefCountZero:ie=!0}=ue;return je=>{let Ce=null,Ue=null,$e=null,_e=0,De=!1,et=!1;const qe=()=>{null==Ue||Ue.unsubscribe(),Ue=null},Ne=()=>{qe(),Ce=$e=null,De=et=!1},Oe=()=>{const Ie=Ce;Ne(),null==Ie||Ie.unsubscribe()};return(0,ye.e)((Ie,Ye)=>{_e++,!et&&!De&&qe();const ee=$e=null!=$e?$e:ve();Ye.add(()=>{_e--,0===_e&&!et&&!De&&(Ue=fe(Oe,ie))}),ee.subscribe(Ye),Ce||(Ce=new se.Hp({next:ge=>ee.next(ge),error:ge=>{et=!0,qe(),Ue=fe(Ne,Z,ge),ee.error(ge)},complete:()=>{De=!0,qe(),Ue=fe(Ne,$),ee.complete()}}),(0,l.D)(Ie).subscribe(Ce))})(je)}}function fe(ue,ve,...Z){return!0===ve?(ue(),null):!1===ve?null:ve(...Z).pipe((0,F.q)(1)).subscribe(()=>ue())}},9468:(ct,Te,x)=>{x.d(Te,{R:()=>F});var l=x(4482);function F(M,se=0){return(0,l.e)((ye,we)=>{we.add(M.schedule(()=>ye.subscribe(we),se))})}},5698:(ct,Te,x)=>{x.d(Te,{q:()=>se});var l=x(515),F=x(4482),M=x(5403);function se(ye){return ye<=0?()=>l.E:(0,F.e)((we,fe)=>{let ue=0;we.subscribe((0,M.x)(fe,ve=>{++ue<=ye&&(fe.next(ve),ye<=ue&&fe.complete())}))})}},8505:(ct,Te,x)=>{x.d(Te,{b:()=>ye});var l=x(576),F=x(4482),M=x(5403),se=x(4671);function ye(we,fe,ue){const ve=(0,l.m)(we)||fe||ue?{next:we,error:fe,complete:ue}:we;return ve?(0,F.e)((Z,$)=>{var ie;null===(ie=ve.subscribe)||void 0===ie||ie.call(ve);let je=!0;Z.subscribe((0,M.x)($,Ce=>{var Ue;null===(Ue=ve.next)||void 0===Ue||Ue.call(ve,Ce),$.next(Ce)},()=>{var Ce;je=!1,null===(Ce=ve.complete)||void 0===Ce||Ce.call(ve),$.complete()},Ce=>{var Ue;je=!1,null===(Ue=ve.error)||void 0===Ue||Ue.call(ve,Ce),$.error(Ce)},()=>{var Ce,Ue;je&&(null===(Ce=ve.unsubscribe)||void 0===Ce||Ce.call(ve)),null===(Ue=ve.finalize)||void 0===Ue||Ue.call(ve)}))}):se.y}},4408:(ct,Te,x)=>{x.d(Te,{o:()=>ye});var l=x(727);class F extends l.w0{constructor(fe,ue){super()}schedule(fe,ue=0){return this}}const M={setInterval(we,fe,...ue){const{delegate:ve}=M;return(null==ve?void 0:ve.setInterval)?ve.setInterval(we,fe,...ue):setInterval(we,fe,...ue)},clearInterval(we){const{delegate:fe}=M;return((null==fe?void 0:fe.clearInterval)||clearInterval)(we)},delegate:void 0};var se=x(8737);class ye extends F{constructor(fe,ue){super(fe,ue),this.scheduler=fe,this.work=ue,this.pending=!1}schedule(fe,ue=0){if(this.closed)return this;this.state=fe;const ve=this.id,Z=this.scheduler;return null!=ve&&(this.id=this.recycleAsyncId(Z,ve,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(Z,this.id,ue),this}requestAsyncId(fe,ue,ve=0){return M.setInterval(fe.flush.bind(fe,this),ve)}recycleAsyncId(fe,ue,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return ue;M.clearInterval(ue)}execute(fe,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(fe,ue);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,ue){let Z,ve=!1;try{this.work(fe)}catch($){ve=!0,Z=$||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:fe,scheduler:ue}=this,{actions:ve}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ve,this),null!=fe&&(this.id=this.recycleAsyncId(ue,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(ct,Te,x)=>{x.d(Te,{v:()=>M});var l=x(6063);class F{constructor(ye,we=F.now){this.schedulerActionCtor=ye,this.now=we}schedule(ye,we=0,fe){return new this.schedulerActionCtor(this,ye).schedule(fe,we)}}F.now=l.l.now;class M extends F{constructor(ye,we=F.now){super(ye,we),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ye){const{actions:we}=this;if(this._active)return void we.push(ye);let fe;this._active=!0;do{if(fe=ye.execute(ye.state,ye.delay))break}while(ye=we.shift());if(this._active=!1,fe){for(;ye=we.shift();)ye.unsubscribe();throw fe}}}},4986:(ct,Te,x)=>{x.d(Te,{z:()=>M});var l=x(4408);const M=new(x(7565).v)(l.o)},6063:(ct,Te,x)=>{x.d(Te,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(ct,Te,x)=>{x.d(Te,{z:()=>l});const l={setTimeout(F,M,...se){const{delegate:ye}=l;return(null==ye?void 0:ye.setTimeout)?ye.setTimeout(F,M,...se):setTimeout(F,M,...se)},clearTimeout(F){const{delegate:M}=l;return((null==M?void 0:M.clearTimeout)||clearTimeout)(F)},delegate:void 0}},2202:(ct,Te,x)=>{x.d(Te,{h:()=>F});const F=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ct,Te,x)=>{x.d(Te,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ct,Te,x)=>{x.d(Te,{_6:()=>we,jO:()=>se,yG:()=>ye});var l=x(576);function M(fe){return fe[fe.length-1]}function se(fe){return(0,l.m)(M(fe))?fe.pop():void 0}function ye(fe){return function F(fe){return fe&&(0,l.m)(fe.schedule)}(M(fe))?fe.pop():void 0}function we(fe,ue){return"number"==typeof M(fe)?fe.pop():ue}},8737:(ct,Te,x)=>{function l(F,M){if(F){const se=F.indexOf(M);0<=se&&F.splice(se,1)}}x.d(Te,{P:()=>l})},3888:(ct,Te,x)=>{function l(F){const se=F(ye=>{Error.call(ye),ye.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}x.d(Te,{d:()=>l})},2806:(ct,Te,x)=>{x.d(Te,{x:()=>M,O:()=>se});var l=x(2416);let F=null;function M(ye){if(l.v.useDeprecatedSynchronousErrorHandling){const we=!F;if(we&&(F={errorThrown:!1,error:null}),ye(),we){const{errorThrown:fe,error:ue}=F;if(F=null,fe)throw ue}}else ye()}function se(ye){l.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=ye)}},9672:(ct,Te,x)=>{function l(F,M,se,ye=0,we=!1){const fe=M.schedule(function(){se(),we?F.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(F.add(fe),!we)return fe}x.d(Te,{f:()=>l})},4671:(ct,Te,x)=>{function l(F){return F}x.d(Te,{y:()=>l})},1144:(ct,Te,x)=>{x.d(Te,{z:()=>l});const l=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(ct,Te,x)=>{x.d(Te,{D:()=>F});var l=x(576);function F(M){return Symbol.asyncIterator&&(0,l.m)(null==M?void 0:M[Symbol.asyncIterator])}},576:(ct,Te,x)=>{function l(F){return"function"==typeof F}x.d(Te,{m:()=>l})},3670:(ct,Te,x)=>{x.d(Te,{c:()=>M});var l=x(8822),F=x(576);function M(se){return(0,F.m)(se[l.L])}},6495:(ct,Te,x)=>{x.d(Te,{T:()=>M});var l=x(2202),F=x(576);function M(se){return(0,F.m)(null==se?void 0:se[l.h])}},8239:(ct,Te,x)=>{x.d(Te,{t:()=>F});var l=x(576);function F(M){return(0,l.m)(null==M?void 0:M.then)}},3260:(ct,Te,x)=>{x.d(Te,{Q:()=>M,L:()=>se});var l=x(655),F=x(576);function M(ye){return(0,l.FC)(this,arguments,function*(){const fe=ye.getReader();try{for(;;){const{value:ue,done:ve}=yield(0,l.qq)(fe.read());if(ve)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ue)}}finally{fe.releaseLock()}})}function se(ye){return(0,F.m)(null==ye?void 0:ye.getReader)}},4482:(ct,Te,x)=>{x.d(Te,{A:()=>F,e:()=>M});var l=x(576);function F(se){return(0,l.m)(null==se?void 0:se.lift)}function M(se){return ye=>{if(F(ye))return ye.lift(function(we){try{return se(we,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(ct,Te,x)=>{x.d(Te,{h:()=>M});var l=x(2416),F=x(3410);function M(se){F.z.setTimeout(()=>{const{onUnhandledError:ye}=l.v;if(!ye)throw se;ye(se)})}},4532:(ct,Te,x)=>{function l(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(Te,{z:()=>l})},655:(ct,Te,x)=>{function se(B,te){var ae={};for(var ce in B)Object.prototype.hasOwnProperty.call(B,ce)&&te.indexOf(ce)<0&&(ae[ce]=B[ce]);if(null!=B&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(ce=Object.getOwnPropertySymbols(B);Me<ce.length;Me++)te.indexOf(ce[Me])<0&&Object.prototype.propertyIsEnumerable.call(B,ce[Me])&&(ae[ce[Me]]=B[ce[Me]])}return ae}function ue(B,te,ae,ce){return new(ae||(ae=Promise))(function(oe,vt){function Tt(lt){try{st(ce.next(lt))}catch(vn){vt(vn)}}function En(lt){try{st(ce.throw(lt))}catch(vn){vt(vn)}}function st(lt){lt.done?oe(lt.value):function Me(oe){return oe instanceof ae?oe:new ae(function(vt){vt(oe)})}(lt.value).then(Tt,En)}st((ce=ce.apply(B,te||[])).next())})}function _e(B){return this instanceof _e?(this.v=B,this):new _e(B)}function De(B,te,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,ce=ae.apply(B,te||[]),oe=[];return Me={},vt("next"),vt("throw"),vt("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function vt(dn){ce[dn]&&(Me[dn]=function(Tr){return new Promise(function(tn,$t){oe.push([dn,Tr,tn,$t])>1||Tt(dn,Tr)})})}function Tt(dn,Tr){try{!function En(dn){dn.value instanceof _e?Promise.resolve(dn.value.v).then(st,lt):vn(oe[0][2],dn)}(ce[dn](Tr))}catch(tn){vn(oe[0][3],tn)}}function st(dn){Tt("next",dn)}function lt(dn){Tt("throw",dn)}function vn(dn,Tr){dn(Tr),oe.shift(),oe.length&&Tt(oe[0][0],oe[0][1])}}function qe(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,te=B[Symbol.asyncIterator];return te?te.call(B):(B=function ie(B){var te="function"==typeof Symbol&&Symbol.iterator,ae=te&&B[te],ce=0;if(ae)return ae.call(B);if(B&&"number"==typeof B.length)return{next:function(){return B&&ce>=B.length&&(B=void 0),{value:B&&B[ce++],done:!B}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(B),ae={},ce("next"),ce("throw"),ce("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function ce(oe){ae[oe]=B[oe]&&function(vt){return new Promise(function(Tt,En){!function Me(oe,vt,Tt,En){Promise.resolve(En).then(function(st){oe({value:st,done:Tt})},vt)}(Tt,En,(vt=B[oe](vt)).done,vt.value)})}}}x.d(Te,{_T:()=>se,mG:()=>ue,qq:()=>_e,FC:()=>De,KL:()=>qe})},5e3:(ct,Te,x)=>{x.d(Te,{deG:()=>Gg,tb:()=>Lw,AFp:()=>Nw,ip1:()=>Ow,CZH:()=>dg,hGG:()=>yC,z2F:()=>Fh,sBO:()=>iC,Sil:()=>WD,_Vd:()=>wl,EJc:()=>co,SBq:()=>wh,qLn:()=>kf,vpe:()=>Cr,tBr:()=>os,XFs:()=>Et,OlP:()=>zn,zs3:()=>Cs,ZZ4:()=>jl,aQg:()=>wg,soG:()=>hg,YKP:()=>gv,h0i:()=>Dl,PXZ:()=>Hw,R0b:()=>Ns,FiY:()=>Uo,Lbi:()=>Fw,g9A:()=>kw,Qsj:()=>QE,FYo:()=>bl,JOm:()=>Qs,tp0:()=>Au,Rgc:()=>Al,dDg:()=>jw,q4F:()=>Il,GfV:()=>xs,s_b:()=>rg,ifc:()=>kt,eFA:()=>jv,G48:()=>Lh,Gpc:()=>$,X6Q:()=>mg,_c5:()=>Jw,VLi:()=>tC,c2e:()=>gi,zSh:()=>Ym,wAp:()=>Dt,vHH:()=>Ue,cg1:()=>Zp,kL8:()=>lh,dqk:()=>Ft,sIi:()=>wr,CqO:()=>Qu,QGY:()=>Oy,F4k:()=>sE,RDi:()=>du,AaK:()=>ue,qOj:()=>Ts,TTD:()=>Us,_Bn:()=>ki,xp6:()=>Zo,uIk:()=>Wd,ekj:()=>Wo,Suo:()=>vw,Xpm:()=>de,lG2:()=>be,Yz7:()=>tn,cJS:()=>At,oAB:()=>X,Yjl:()=>ze,Y36:()=>Qd,_UZ:()=>Ip,qZA:()=>ol,TgZ:()=>sl,n5z:()=>Nc,LFG:()=>Wn,$8M:()=>Sa,$Z:()=>Ep,NdJ:()=>Ny,CRH:()=>Rl,oxw:()=>al,Q6J:()=>wp,iGM:()=>Sh,LSH:()=>zc,YNc:()=>fy,_uU:()=>Hy,Oqu:()=>Up});var l=x(7579),F=x(727),M=x(8306),se=x(6451),ye=x(3099);function we(i){for(let s in i)if(i[s]===we)return s;throw Error("Could not find renamed property on target object.")}function fe(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ue(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ue).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ve(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Z=we({__forward_ref__:we});function $(i){return i.__forward_ref__=$,i.toString=function(){return ue(this())},i}function ie(i){return je(i)?i():i}function je(i){return"function"==typeof i&&i.hasOwnProperty(Z)&&i.__forward_ref__===$}class Ue extends Error{constructor(s,a){super(function $e(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function _e(i){return"string"==typeof i?i:null==i?"":String(i)}function De(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():_e(i)}function Oe(i,s){const a=s?` in ${s}`:"";throw new Ue(-201,`No provider for ${De(i)} found${a}`)}function st(i,s){null==i&&function lt(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function tn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function At(i){return{providers:i.providers||[],imports:i.imports||[]}}function nn(i){return Mn(i,Qn)||Mn(i,Dn)}function Mn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Pn(i){return i&&(i.hasOwnProperty(ir)||i.hasOwnProperty(sr))?i[ir]:null}const Qn=we({\u0275prov:we}),ir=we({\u0275inj:we}),Dn=we({ngInjectableDef:we}),sr=we({ngInjectorDef:we});var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();let Jn;function Qt(i){const s=Jn;return Jn=i,s}function Ln(i,s,a){const c=nn(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Et.Optional?null:void 0!==s?s:void Oe(ue(i),"Injector")}function or(i){return{toString:i}.toString()}var yn=(()=>((yn=yn||{})[yn.OnPush=0]="OnPush",yn[yn.Default=1]="Default",yn))(),kt=(()=>{return(i=kt||(kt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",kt;var i})();const gt="undefined"!=typeof globalThis&&globalThis,rt="undefined"!=typeof window&&window,wn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ft=gt||"undefined"!=typeof global&&global||rt||wn,rn={},mt=[],K=we({\u0275cmp:we}),U=we({\u0275dir:we}),J=we({\u0275pipe:we}),Q=we({\u0275mod:we}),k=we({\u0275fac:we}),L=we({__NG_ELEMENT_ID__:we});let Y=0;function de(i){return or(()=>{const a={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===yn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||mt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||kt.Emulated,id:"c",styles:i.styles||mt,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,y=i.pipes;return c.id+=Y++,c.inputs=V(i.inputs,a),c.outputs=V(i.outputs),f&&f.forEach(_=>_(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(Be):null,c.pipeDefs=y?()=>("function"==typeof y?y():y).map(ot):null,c})}function Be(i){return at(i)||function _t(i){return i[U]||null}(i)}function ot(i){return function zt(i){return i[J]||null}(i)}const Xe={};function X(i){return or(()=>{const s={type:i.type,bootstrap:i.bootstrap||mt,declarations:i.declarations||mt,imports:i.imports||mt,exports:i.exports||mt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Xe[i.id]=i.type),s})}function V(i,s){if(null==i)return rn;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,s&&(s[d]=f)}return a}const be=de;function ze(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function at(i){return i[K]||null}function Lt(i,s){const a=i[Q]||null;if(!a&&!0===s)throw new Error(`Type ${ue(i)} does not have '\u0275mod' property.`);return a}function jr(i){return Array.isArray(i)&&"object"==typeof i[1]}function $r(i){return Array.isArray(i)&&!0===i[1]}function po(i){return 0!=(8&i.flags)}function go(i){return 2==(2&i.flags)}function hs(i){return 1==(1&i.flags)}function Wr(i){return null!==i.template}function Wl(i){return 0!=(512&i[2])}function vi(i,s){return i.hasOwnProperty(k)?i[k]:null}class vo{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Us(){return fa}function fa(i){return i.type.prototype.ngOnChanges&&(i.setInput=Jl),Tc}function Tc(){const i=_o(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===rn)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Jl(i,s,a,c){const d=_o(i)||function Vs(i,s){return i[es]=s}(i,{previous:rn,current:null}),f=d.current||(d.current={}),y=d.previous,_=this.declaredInputs[a],b=y[_];f[_]=new vo(b&&b.currentValue,s,y===rn),i[c]=s}Us.ngInherit=!0;const es="__ngSimpleChanges__";function _o(i){return i[es]||null}let ma;function du(i){ma=i}function Tn(i){return!!i.listen}const ya={createRenderer:(i,s)=>function ts(){return void 0!==ma?ma:"undefined"!=typeof document?document:void 0}()};function _n(i){for(;Array.isArray(i);)i=i[0];return i}function _a(i,s){return _n(s[i])}function Sr(i,s){return _n(s[i.index])}function wo(i,s){return i.data[s]}function R(i,s){const a=s[i];return jr(a)?a:a[0]}function O(i){return 4==(4&i[2])}function z(i){return 128==(128&i[2])}function Pe(i,s){return null==s?null:i[s]}function Qe(i){i[18]=0}function yt(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const Ke={lFrame:Io(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $i(){return Ke.bindingsEnabled}function Re(){return Ke.lFrame.lView}function Bt(){return Ke.lFrame.tView}function Nn(){let i=Ti();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ti(){return Ke.lFrame.currentTNode}function cr(i,s){const a=Ke.lFrame;a.currentTNode=i,a.isParent=s}function ba(){return Ke.lFrame.isParent}function xc(){return Ke.isInCheckNoChangesMode}function Ia(i){Ke.isInCheckNoChangesMode=i}function js(){return Ke.lFrame.bindingIndex++}function rd(i,s){const a=Ke.lFrame;a.bindingIndex=a.bindingRootIndex=i,hu(s)}function hu(i){Ke.lFrame.currentDirectiveIndex=i}function sd(){return Ke.lFrame.currentQueryIndex}function od(i){Ke.lFrame.currentQueryIndex=i}function m_(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function ad(i,s,a){if(a&Et.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&Et.Host||(d=m_(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const c=Ke.lFrame=af();return c.currentTNode=s,c.lView=i,!0}function bo(i){const s=af(),a=i[1];Ke.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function af(){const i=Ke.lFrame,s=null===i?null:i.child;return null===s?Io(i):s}function Io(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function uf(){const i=Ke.lFrame;return Ke.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const jg=uf;function fu(){const i=uf();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Kr(){return Ke.lFrame.selectedIndex}function gs(i){Ke.lFrame.selectedIndex=i}function Gn(){const i=Ke.lFrame;return wo(i.tView,i.selectedIndex)}function pu(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:_,ngAfterViewInit:b,ngAfterViewChecked:D,ngOnDestroy:A}=f;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),_&&((i.contentHooks||(i.contentHooks=[])).push(a,_),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,_)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),D&&((i.viewHooks||(i.viewHooks=[])).push(a,D),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,D)),null!=A&&(i.destroyHooks||(i.destroyHooks=[])).push(a,A)}}function ms(i,s,a){Zg(i,s,3,a)}function gu(i,s,a,c){(3&i[2])===a&&Zg(i,s,a,c)}function ud(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Zg(i,s,a,c){const f=null!=c?c:-1,y=s.length-1;let _=0;for(let b=void 0!==c?65535&i[18]:0;b<y;b++)if("number"==typeof s[b+1]){if(_=s[b],null!=c&&_>=c)break}else s[b]<0&&(i[18]+=65536),(_<f||-1==f)&&(E_(i,a,s,b),i[18]=(4294901760&i[18])+b+2),b++}function E_(i,s,a,c){const d=a[c]<0,f=a[c+1],_=i[d?-a[c]:a[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(_)}finally{}}}else try{f.call(_)}finally{}}class Da{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function bt(i,s,a){const c=Tn(i);let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const y=a[d++],_=a[d++],b=a[d++];c?i.setAttribute(s,_,b,y):s.setAttributeNS(y,_,b)}else{const y=f,_=a[++d];Yr(y)?c&&i.setProperty(s,y,_):c?i.setAttribute(s,y,_):s.setAttribute(y,_),d++}}return d}function ys(i){return 3===i||4===i||6===i}function Yr(i){return 64===i.charCodeAt(0)}function ui(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||lf(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function lf(i,s,a,c,d){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const _=i[f++];if("number"==typeof _){if(_===s){y=-1;break}if(_>s){y=f-1;break}}}for(;f<i.length;){const _=i[f];if("number"==typeof _)break;if(_===a){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}function Ca(i){return-1!==i}function Ta(i){return 32767&i}function To(i,s){let a=function vr(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let mu=!0;function Zs(i){const s=mu;return mu=i,s}let ld=0;function jn(i,s){const a=Ao(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,Rc(c.data,i),Rc(s,null),Rc(c.blueprint,null));const d=So(i,s),f=i.injectorIndex;if(Ca(d)){const y=Ta(d),_=To(d,s),b=_[1].data;for(let D=0;D<8;D++)s[f+D]=_[y+D]|b[y+D]}return s[f+8]=d,f}function Rc(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Ao(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function So(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){const f=d[1],y=f.type;if(c=2===y?f.declTNode:1===y?d[6]:null,null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function yu(i,s,a){!function ff(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(L)&&(c=a[L]),null==c&&(c=a[L]=ld++);const d=255&c;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function Aa(i,s,a){if(a&Et.Optional)return i;Oe(s,"NodeInjector")}function Oc(i,s,a,c){if(a&Et.Optional&&void 0===c&&(c=null),0==(a&(Et.Self|Et.Host))){const d=i[9],f=Qt(void 0);try{return d?d.get(s,c,a&Et.Optional):Ln(s,c,a&Et.Optional)}finally{Qt(f)}}return Aa(c,s,a)}function _u(i,s,a,c=Et.Default,d){if(null!==i){const f=function Mo(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(L)?i[L]:void 0;return"number"==typeof s?s>=0?255&s:pf:s}(a);if("function"==typeof f){if(!ad(s,i,c))return c&Et.Host?Aa(d,a,c):Oc(s,a,c,d);try{const y=f(c);if(null!=y||c&Et.Optional)return y;Oe(a)}finally{jg()}}else if("number"==typeof f){let y=null,_=Ao(i,s),b=-1,D=c&Et.Host?s[16][6]:null;for((-1===_||c&Et.SkipSelf)&&(b=-1===_?So(i,s):s[_+8],-1!==b&&Qr(c,!1)?(y=s[1],_=Ta(b),s=To(b,s)):_=-1);-1!==_;){const A=s[1];if(hd(f,_,A.data)){const P=dd(_,s,a,y,c,D);if(P!==xo)return P}b=s[_+8],-1!==b&&Qr(c,s[1].data[_+8]===D)&&hd(f,_,s)?(y=A,_=Ta(b),s=To(b,s)):_=-1}}}return Oc(s,a,c,d)}const xo={};function pf(){return new Ro(Nn(),Re())}function dd(i,s,a,c,d,f){const y=s[1],_=y.data[i+8],A=Hs(_,y,a,null==c?go(_)&&mu:c!=y&&0!=(3&_.type),d&Et.Host&&f===_);return null!==A?Eu(s,y,A,_):xo}function Hs(i,s,a,c,d){const f=i.providerIndexes,y=s.data,_=1048575&f,b=i.directiveStart,A=f>>20,H=d?_+A:i.directiveEnd;for(let ne=c?_:_+A;ne<H;ne++){const Ae=y[ne];if(ne<b&&a===Ae||ne>=b&&Ae.type===a)return ne}if(d){const ne=y[b];if(ne&&Wr(ne)&&ne.type===a)return b}return null}function Eu(i,s,a,c){let d=i[a];const f=s.data;if(function cf(i){return i instanceof Da}(d)){const y=d;y.resolving&&function et(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Ue(-200,`Circular dependency in DI detected for ${i}${a}`)}(De(f[a]));const _=Zs(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?Qt(y.injectImpl):null;ad(i,c,Et.Default);try{d=i[a]=y.factory(void 0,f,i,c),s.firstCreatePass&&a>=c.directiveStart&&function __(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(c){const y=fa(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==b&&Qt(b),Zs(_),y.resolving=!1,jg()}}return d}function hd(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Qr(i,s){return!(i&Et.Self||i&Et.Host&&s)}class Ro{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return _u(this._tNode,this._lView,s,c,a)}}function Nc(i){return or(()=>{const s=i.prototype.constructor,a=s[k]||_r(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[k]||_r(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function _r(i){return je(i)?()=>{const s=_r(ie(i));return s&&s()}:vi(i)}function Sa(i){return function vu(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(ys(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(Nn(),i)}const xa="__parameters__";function qn(i,s,a){return or(()=>{const c=function is(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...f){if(this instanceof d)return c.apply(this,f),this;const y=new d(...f);return _.annotation=y,_;function _(b,D,A){const P=b.hasOwnProperty(xa)?b[xa]:Object.defineProperty(b,xa,{value:[]})[xa];for(;P.length<=A;)P.push(null);return(P[A]=P[A]||[]).push(y),b}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class zn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=tn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Gg=new zn("AnalyzeForEntryComponents");function ci(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),ci(c,s)):s!==i&&s.push(c)}return s}function wi(i,s){i.forEach(a=>Array.isArray(a)?wi(a,s):s(a))}function Du(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Cu(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function dr(i,s,a){let c=qs(i,s);return c>=0?i[1|c]=a:(c=~c,function kc(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function Tu(i,s){const a=qs(i,s);if(a>=0)return i[1|a]}function qs(i,s){return function Fc(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const f=c+(d-c>>1),y=i[f<<a];if(s===y)return f<<a;y>s?d=f:c=f+1}return~(d<<a)}(i,s,1)}const ko={},Oa="__NG_DI_FLAG__",Fo="ngTempTokenPath",fd=/\n/gm,Vc="__source",Ef=we({provide:String,useValue:we});let zs;function ss(i){const s=zs;return zs=i,s}function sn(i,s=Et.Default){if(void 0===zs)throw new Ue(203,"");return null===zs?Ln(i,void 0,s):zs.get(i,s&Et.Optional?null:void 0,s)}function Wn(i,s=Et.Default){return(function Xt(){return Jn}()||sn)(ie(i),s)}const Lo=Wn;function pd(i){const s=[];for(let a=0;a<i.length;a++){const c=ie(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Ue(900,"");let d,f=Et.Default;for(let y=0;y<c.length;y++){const _=c[y],b=wf(_);"number"==typeof b?-1===b?d=_.token:f|=b:d=_}s.push(Wn(d,f))}else s.push(Wn(c))}return s}function Ws(i,s){return i[Oa]=s,i.prototype[Oa]=s,i}function wf(i){return i[Oa]}const os=Ws(qn("Inject",i=>({token:i})),-1),Uo=Ws(qn("Optional"),8),Au=Ws(qn("SkipSelf"),4);class Hc{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function as(i){return i instanceof Hc?i.changingThisBreaksApplicationSecurity:i}const qc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,v=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var fn=(()=>((fn=fn||{})[fn.NONE=0]="NONE",fn[fn.HTML=1]="HTML",fn[fn.STYLE=2]="STYLE",fn[fn.SCRIPT=3]="SCRIPT",fn[fn.URL=4]="URL",fn[fn.RESOURCE_URL=5]="RESOURCE_URL",fn))();function zc(i){const s=function Ba(){const i=Re();return i&&i[12]}();return s?s.sanitize(fn.URL,i)||"":function Ks(i,s){const a=function jo(i){return i instanceof Hc&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?as(i):function p(i){return(i=String(i)).match(qc)||i.match(v)?i:"unsafe:"+i}(_e(i))}const R_="__ngContext__";function di(i,s){i[R_]=s}function um(i){const s=function Td(i){return i[R_]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Uu(i){return i.ngOriginalError}function Zb(i,...s){i.error(...s)}class kf{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=function $b(i){return i&&i.ngErrorLogger||Zb}(s);c(this._console,"ERROR",s),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Uu(s);for(;a&&Uu(a);)a=Uu(a);return a||null}}const Jb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ft))();function ws(i){return i instanceof Function?i():i}var Qs=(()=>((Qs=Qs||{})[Qs.Important=1]="Important",Qs[Qs.DashCase=2]="DashCase",Qs))();function Ff(i,s){return undefined(i,s)}function Sd(i){const s=i[3];return $r(s)?s[3]:s}function xd(i){return j_(i[13])}function Uf(i){return j_(i[4])}function j_(i){for(;null!==i&&!$r(i);)i=i[4];return i}function Wc(i,s,a,c,d){if(null!=c){let f,y=!1;$r(c)?f=c:jr(c)&&(y=!0,c=c[0]);const _=_n(c);0===i&&null!==a?null==d?ym(s,a,_):Gi(s,a,_,d||null,!0):1===i&&null!==a?Gi(s,a,_,d||null,!0):2===i?function wm(i,s,a){const c=Md(i,s);c&&function oI(i,s,a,c){Tn(i)?i.removeChild(s,a,c):s.removeChild(a)}(i,c,s,a)}(s,_,y):3===i&&s.destroyNode(_),null!=f&&function cI(i,s,a,c,d){const f=a[7];f!==_n(a)&&Wc(s,i,c,f,d);for(let _=10;_<a.length;_++){const b=a[_];$f(b[1],b,i,s,c,f)}}(s,i,f,a,d)}}function fm(i,s,a){if(Tn(i))return i.createElement(s,a);{const c=null!==a?function ga(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===c?i.createElement(s):i.createElementNS(c,s)}}function Z_(i,s){const a=i[9],c=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,yt(d,-1)),a.splice(c,1)}function pm(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const d=c[17];null!==d&&d!==i&&Z_(d,c),s>0&&(i[a-1][4]=c[4]);const f=Cu(i,10+s);!function xi(i,s){$f(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const y=f[19];null!==y&&y.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function gm(i,s){if(!(256&s[2])){const a=s[11];Tn(a)&&a.destroyNode&&$f(i,s,a,3,null,null),function Vf(i){let s=i[13];if(!s)return mm(i[1],i);for(;s;){let a=null;if(jr(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)jr(s)&&mm(s[1],s),s=s[3];null===s&&(s=i),jr(s)&&mm(s[1],s),a=s&&s[4]}s=a}}(s)}}function mm(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function G_(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof Da)){const f=a[c+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const _=d[f[y]],b=f[y+1];try{b.call(_)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function H_(i,s){const a=i.cleanup,c=s[7];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+1],_="function"==typeof y?y(s):_n(s[y]),b=c[d=a[f+2]],D=a[f+3];"boolean"==typeof D?_.removeEventListener(a[f],b,D):D>=0?c[d=D]():c[d=-D].unsubscribe(),f+=2}else{const y=c[d=a[f+1]];a[f].call(y)}if(null!==c){for(let f=d+1;f<c.length;f++)c[f]();s[7]=null}}(i,s),1===s[1].type&&Tn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&$r(s[3])){a!==s[3]&&Z_(a,s);const c=s[19];null!==c&&c.detachView(i)}}}function Bf(i,s,a){return function sI(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===kt.None||d===kt.Emulated)return null}return Sr(c,a)}(i,s.parent,a)}function Gi(i,s,a,c,d){Tn(i)?i.insertBefore(s,a,c,d):s.insertBefore(a,c,d)}function ym(i,s,a){Tn(i)?i.appendChild(s,a):s.appendChild(a)}function q_(i,s,a,c,d){null!==c?Gi(i,s,a,c,d):ym(i,s,a)}function Md(i,s){return Tn(i)?i.parentNode(s):s.parentNode}let vm=function W_(i,s,a){return 40&i.type?Sr(i,a):null};function jf(i,s,a,c){const d=Bf(i,c,s),f=s[11],_=function z_(i,s,a){return vm(i,s,a)}(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(a))for(let b=0;b<a.length;b++)q_(f,d,a[b],_,!1);else q_(f,d,a,_,!1)}function Yc(i,s){if(null!==s){const a=s.type;if(3&a)return Sr(s,i);if(4&a)return Em(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return Yc(i,c);{const d=i[s.index];return $r(d)?Em(-1,d):_n(d)}}if(32&a)return Ff(s,i)()||_n(i[s.index]);{const c=Y_(i,s);return null!==c?Array.isArray(c)?c[0]:Yc(Sd(i[16]),c):Yc(i,s.next)}}return null}function Y_(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Em(i,s){const a=10+i+1;if(a<s.length){const c=s[a],d=c[1].firstChild;if(null!==d)return Yc(c,d)}return s[7]}function bm(i,s,a,c,d,f,y){for(;null!=a;){const _=c[a.index],b=a.type;if(y&&0===s&&(_&&di(_n(_),c),a.flags|=4),64!=(64&a.flags))if(8&b)bm(i,s,a.child,c,d,f,!1),Wc(s,i,d,_,f);else if(32&b){const D=Ff(a,c);let A;for(;A=D();)Wc(s,i,d,A,f);Wc(s,i,d,_,f)}else 16&b?Q_(i,s,c,a,d,f):Wc(s,i,d,_,f);a=y?a.projectionNext:a.next}}function $f(i,s,a,c,d,f){bm(a,c,i.firstChild,s,d,f,!1)}function Q_(i,s,a,c,d,f){const y=a[16],b=y[6].projection[c.projection];if(Array.isArray(b))for(let D=0;D<b.length;D++)Wc(s,i,d,b[D],f);else bm(i,s,b,y[3],d,f,!0)}function J_(i,s,a){Tn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Im(i,s,a){Tn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function X_(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}a=d+1}}const e0="ng-template";function dI(i,s,a){let c=0;for(;c<i.length;){let d=i[c++];if(a&&"class"===d){if(d=i[c],-1!==X_(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function t0(i){return 4===i.type&&i.value!==e0}function hI(i,s,a){return s===(4!==i.type||a?i.value:e0)}function fI(i,s,a){let c=4;const d=i.attrs||[],f=function Bu(i){for(let s=0;s<i.length;s++)if(ys(i[s]))return s;return i.length}(d);let y=!1;for(let _=0;_<s.length;_++){const b=s[_];if("number"!=typeof b){if(!y)if(4&c){if(c=2|1&c,""!==b&&!hI(i,b,a)||""===b&&1===s.length){if(bs(c))return!1;y=!0}}else{const D=8&c?b:s[++_];if(8&c&&null!==i.attrs){if(!dI(i.attrs,D,a)){if(bs(c))return!1;y=!0}continue}const P=pI(8&c?"class":b,d,t0(i),a);if(-1===P){if(bs(c))return!1;y=!0;continue}if(""!==D){let H;H=P>f?"":d[P+1].toLowerCase();const ne=8&c?H:null;if(ne&&-1!==X_(ne,D,0)||2&c&&D!==H){if(bs(c))return!1;y=!0}}}}else{if(!y&&!bs(c)&&!bs(b))return!1;if(y&&bs(b))continue;y=!1,c=b|1&c}}return bs(c)||y}function bs(i){return 0==(1&i)}function pI(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let f=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)f=!0;else{if(1===y||2===y){let _=s[++d];for(;"string"==typeof _;)_=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=f?1:2}return-1}return function Js(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function n0(i,s,a=!1){for(let c=0;c<s.length;c++)if(fI(i,s[c],a))return!0;return!1}function Dm(i,s){return i?":not("+s.trim()+")":s}function mI(i){let s=i[0],a=1,c=2,d="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const _=i[++a];d+="["+y+(_.length>0?'="'+_+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!bs(y)&&(s+=Dm(f,d),d=""),c=y,f=f||!bs(c);a++}return""!==d&&(s+=Dm(f,d)),s}const Ot={};function Zo(i){Cm(Bt(),Re(),Kr()+i,xc())}function Cm(i,s,a,c){if(!c)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&ms(s,f,a)}else{const f=i.preOrderHooks;null!==f&&gu(s,f,0,a)}gs(a)}function Is(i,s){return i<<17|s<<2}function Ds(i){return i>>17&32767}function Zf(i){return 2|i}function Xs(i){return(131068&i)>>2}function Hf(i,s){return-131069&i|s<<2}function Gf(i){return 1|i}function Pd(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],f=a[c+1];if(-1!==f){const y=i.data[f];od(d),y.contentQueries(2,s[f],f)}}}function Za(i,s,a,c,d,f,y,_,b,D){const A=s.blueprint.slice();return A[0]=d,A[2]=140|c,Qe(A),A[3]=A[15]=i,A[8]=a,A[10]=y||i&&i[10],A[11]=_||i&&i[11],A[12]=b||i&&i[12]||null,A[9]=D||i&&i[9]||null,A[6]=f,A[16]=2==s.type?i[16]:A,A}function Jc(i,s,a,c,d){let f=i.data[s];if(null===f)f=function Fd(i,s,a,c,d){const f=Ti(),y=ba(),b=i.data[s]=function jm(i,s,a,c,d,f){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=b),null!==f&&(y?null==f.child&&null!==b.parent&&(f.child=b):null===f.next&&(f.next=b)),b}(i,s,a,c,d),function nd(){return Ke.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const y=function _i(){const i=Ke.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return cr(f,!0),f}function Ho(i,s,a,c){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function Ld(i,s,a){bo(s);try{const c=i.viewQuery;null!==c&&ap(1,c,a);const d=i.template;null!==d&&g0(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Pd(i,s),i.staticViewQueries&&ap(2,i.viewQuery,a);const f=i.components;null!==f&&function Kf(i,s){for(let a=0;a<s.length;a++)T0(i,s[a])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,fu()}}function Xc(i,s,a,c){const d=s[2];if(256==(256&d))return;bo(s);const f=xc();try{Qe(s),function rf(i){return Ke.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&g0(i,s,a,2,c);const y=3==(3&d);if(!f)if(y){const D=i.preOrderCheckHooks;null!==D&&ms(s,D,null)}else{const D=i.preOrderHooks;null!==D&&gu(s,D,0,null),ud(s,0)}if(function C0(i){for(let s=xd(i);null!==s;s=Uf(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const d=a[c],f=d[3];0==(1024&d[2])&&yt(f,1),d[2]|=1024}}}(s),function RI(i){for(let s=xd(i);null!==s;s=Uf(s))for(let a=10;a<s.length;a++){const c=s[a],d=c[1];z(c)&&Xc(d,c,d.template,c[8])}}(s),null!==i.contentQueries&&Pd(i,s),!f)if(y){const D=i.contentCheckHooks;null!==D&&ms(s,D)}else{const D=i.contentHooks;null!==D&&gu(s,D,1),ud(s,1)}!function SI(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)gs(~d);else{const f=d,y=a[++c],_=a[++c];rd(y,f),_(2,s[f])}}}finally{gs(-1)}}(i,s);const _=i.components;null!==_&&function kd(i,s){for(let a=0;a<s.length;a++)OI(i,s[a])}(s,_);const b=i.viewQuery;if(null!==b&&ap(2,b,c),!f)if(y){const D=i.viewCheckHooks;null!==D&&ms(s,D)}else{const D=i.viewHooks;null!==D&&gu(s,D,2),ud(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,yt(s[3],-1))}finally{fu()}}function p0(i,s,a,c){const d=s[10],f=!xc(),y=O(s);try{f&&!y&&d.begin&&d.begin(),y&&Ld(i,s,c),Xc(i,s,a,c)}finally{f&&!y&&d.end&&d.end()}}function g0(i,s,a,c,d){const f=Kr(),y=2&c;try{gs(-1),y&&s.length>20&&Cm(i,s,20,xc()),a(c,d)}finally{gs(f)}}function Vm(i,s,a){!$i()||(function w0(i,s,a,c){const d=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||jn(a,s),di(c,s);const y=a.initialInputs;for(let _=d;_<f;_++){const b=i.data[_],D=Wr(b);D&&jd(s,a,b);const A=Eu(s,i,_,a);di(A,s),null!==y&&SA(0,_-d,A,b,0,y),D&&(R(a.index,s)[8]=A)}}(i,s,a,Sr(a,s)),128==(128&a.flags)&&function b0(i,s,a){const c=a.directiveStart,d=a.directiveEnd,y=a.index,_=function Bg(){return Ke.lFrame.currentDirectiveIndex}();try{gs(y);for(let b=c;b<d;b++){const D=i.data[b],A=s[b];hu(b),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Hm(D,A)}}finally{gs(-1),hu(_)}}(i,s,a))}function m0(i,s,a=Sr){const c=s.localNames;if(null!==c){let d=s.index+1;for(let f=0;f<c.length;f+=2){const y=c[f+1],_=-1===y?a(s,i):i[y];i[d++]=_}}}function y0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Ud(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Ud(i,s,a,c,d,f,y,_,b,D){const A=20+c,P=A+d,H=function CA(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:Ot);return a}(A,P),ne="function"==typeof D?D():D;return H[1]={type:i,blueprint:H,template:a,queries:null,viewQuery:_,declTNode:s,data:H.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:ne,incompleteFirstPass:!1}}function Qf(i,s,a,c){const d=zm(s);null===a?d.push(c):(d.push(a),i.firstCreatePass&&O0(i).push(c,d.length-1))}function xI(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,d):a[c]=[s,d]}return a}function tl(i,s,a,c){let d=!1;if($i()){const f=function I0(i,s,a){const c=i.directiveRegistry;let d=null;if(c)for(let f=0;f<c.length;f++){const y=c[f];n0(a,y.selectors,!1)&&(d||(d=[]),yu(jn(a,s),i,y.type),Wr(y)?(ep(i,a),d.unshift(y)):d.push(y))}return d}(i,s,a),y=null===c?null:{"":-1};if(null!==f){d=!0,qm(a,i.data.length,f.length);for(let A=0;A<f.length;A++){const P=f[A];P.providersResolver&&P.providersResolver(P)}let _=!1,b=!1,D=Ho(i,s,f.length,null);for(let A=0;A<f.length;A++){const P=f[A];a.mergedAttrs=ui(a.mergedAttrs,P.hostAttrs),D0(i,a,s,D,P),tp(D,P,y),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const H=P.type.prototype;!_&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),_=!0),!b&&(H.ngOnChanges||H.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),b=!0),D++}!function $m(i,s){const c=s.directiveEnd,d=i.data,f=s.attrs,y=[];let _=null,b=null;for(let D=s.directiveStart;D<c;D++){const A=d[D],P=A.inputs,H=null===f||t0(s)?null:xA(P,f);y.push(H),_=xI(P,D,_),b=xI(A.outputs,D,b)}null!==_&&(_.hasOwnProperty("class")&&(s.flags|=16),_.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=_,s.outputs=b}(i,a)}y&&function Gm(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new Ue(-301,!1);c.push(s[d],f)}}}(a,c,y)}return a.mergedAttrs=ui(a.mergedAttrs,a.attrs),d}function Jf(i,s,a,c,d,f){const y=f.hostBindings;if(y){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const b=~s.index;(function Xf(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(_)!=b&&_.push(b),_.push(c,d,y)}}function Hm(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function ep(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function tp(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;Wr(s)&&(a[""]=i)}}function qm(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function D0(i,s,a,c,d){i.data[c]=d;const f=d.factory||(d.factory=vi(d.type)),y=new Da(f,Wr(d),null);i.blueprint[c]=y,a[c]=y,Jf(i,s,0,c,Ho(i,a,d.hostVars,Ot),d)}function jd(i,s,a){const c=Sr(s,i),d=y0(a),f=i[10],y=ip(i,Za(i,d,null,a.onPush?64:16,c,s,f,f.createRenderer(c,a),null,null));i[s.index]=y}function cs(i,s,a,c,d,f){const y=Sr(i,s);!function np(i,s,a,c,d,f,y){if(null==f)Tn(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const _=null==y?_e(f):y(f,c||"",d);Tn(i)?i.setAttribute(s,d,_,a):a?s.setAttributeNS(a,d,_):s.setAttribute(d,_)}}(s[11],y,f,i.value,a,c,d)}function SA(i,s,a,c,d,f){const y=f[s];if(null!==y){const _=c.setInput;for(let b=0;b<y.length;){const D=y[b++],A=y[b++],P=y[b++];null!==_?c.setInput(a,P,D,A):a[A]=P}}}function xA(i,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[c+1])),c+=2}else c+=2;else c+=4}return a}function MI(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function OI(i,s){const a=R(s,i);if(z(a)){const c=a[1];80&a[2]?Xc(c,a,c.template,a[8]):a[5]>0&&rp(a)}}function rp(i){for(let c=xd(i);null!==c;c=Uf(c))for(let d=10;d<c.length;d++){const f=c[d];if(1024&f[2]){const y=f[1];Xc(y,f,y.template,f[8])}else f[5]>0&&rp(f)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=R(a[c],i);z(d)&&d[5]>0&&rp(d)}}function T0(i,s){const a=R(s,i),c=a[1];(function A0(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),Ld(c,a,a[8])}function ip(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function sp(i){for(;i;){i[2]|=64;const s=Sd(i);if(Wl(i)&&!s)return i;i=s}return null}function op(i,s,a){const c=s[10];c.begin&&c.begin();try{Xc(i,s,i.template,a)}catch(d){throw N0(s,d),d}finally{c.end&&c.end()}}function x0(i){!function S0(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],c=um(a),d=c[1];p0(d,c,d.template,a)}}(i[8])}function ap(i,s,a){od(0),s(i,a)}const kI=(()=>Promise.resolve(null))();function zm(i){return i[7]||(i[7]=[])}function O0(i){return i.cleanup||(i.cleanup=[])}function N0(i,s){const a=i[9],c=a?a.get(kf,null):null;c&&c.handleError(s)}function up(i,s,a,c,d){for(let f=0;f<a.length;){const y=a[f++],_=a[f++],b=s[y],D=i.data[y];null!==D.setInput?D.setInput(b,d,c,_):b[_]=d}}function Go(i,s,a){const c=_a(s,i);!function hm(i,s,a){Tn(i)?i.setValue(s,a):s.textContent=a}(i[11],c,a)}function nl(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const _=s[y];"number"==typeof _?f=_:1==f?d=ve(d,_):2==f&&(c=ve(c,_+": "+s[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}const Wm=new zn("INJECTOR",-1);class Km{get(s,a=ko){if(a===ko){const c=new Error(`NullInjectorError: No provider for ${ue(s)}!`);throw c.name="NullInjectorError",c}return a}}const Ym=new zn("Set Injector scope."),$u={},LI={};let Qm;function Jm(){return void 0===Qm&&(Qm=new Km),Qm}function F0(i,s=null,a=null,c){const d=UI(i,s,a,c);return d._resolveInjectorDefTypes(),d}function UI(i,s=null,a=null,c){return new Xm(i,a,s||Jm(),c)}class Xm{constructor(s,a,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&wi(a,_=>this.processProvider(_,s,a)),wi([s],_=>this.processInjectorType(_,[],f)),this.records.set(Wm,ls(void 0,this));const y=this.records.get(Ym);this.scope=null!=y?y.value:null,this.source=d||("object"==typeof s?null:ue(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=ko,c=Et.Default){this.assertNotDestroyed();const d=ss(this),f=Qt(void 0);try{if(!(c&Et.SkipSelf)){let _=this.records.get(s);if(void 0===_){const b=function B0(i){return"function"==typeof i||"object"==typeof i&&i instanceof zn}(s)&&nn(s);_=b&&this.injectableDefInScope(b)?ls(ey(s),$u):null,this.records.set(s,_)}if(null!=_)return this.hydrate(s,_)}return(c&Et.Self?Jm():this.parent).get(s,a=c&Et.Optional&&a===ko?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Fo]=y[Fo]||[]).unshift(ue(s)),d)throw y;return function gd(i,s,a,c){const d=i[Fo];throw s[Vc]&&d.unshift(s[Vc]),i.message=function Na(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=ue(s);if(Array.isArray(s))d=s.map(ue).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let _=s[y];f.push(y+":"+("string"==typeof _?JSON.stringify(_):ue(_)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(fd,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[Fo]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{Qt(f),ss(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,d)=>s.push(ue(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ue(205,!1)}processInjectorType(s,a,c){if(!(s=ie(s)))return!1;let d=Pn(s);const f=null==d&&s.ngModule||void 0,y=void 0===f?s:f,_=-1!==c.indexOf(y);if(void 0!==f&&(d=Pn(f)),null==d)return!1;if(null!=d.imports&&!_){let A;c.push(y);try{wi(d.imports,P=>{this.processInjectorType(P,a,c)&&(void 0===A&&(A=[]),A.push(P))})}finally{}if(void 0!==A)for(let P=0;P<A.length;P++){const{ngModule:H,providers:ne}=A[P];wi(ne,Ae=>this.processProvider(Ae,H,ne||mt))}}this.injectorDefTypes.add(y);const b=vi(y)||(()=>new y);this.records.set(y,ls(b,$u));const D=d.providers;if(null!=D&&!_){const A=s;wi(D,P=>this.processProvider(P,A,D))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,c){let d=Zu(s=ie(s))?s:ie(s&&s.provide);const f=function VI(i,s,a){return U0(i)?ls(void 0,i.useValue):ls(ty(i),$u)}(s);if(Zu(s)||!0!==s.multi)this.records.get(d);else{let y=this.records.get(d);y||(y=ls(void 0,$u,!0),y.factory=()=>pd(y.multi),this.records.set(d,y)),d=s,y.multi.push(s)}this.records.set(d,f)}hydrate(s,a){return a.value===$u&&(a.value=LI,a.value=a.factory()),"object"==typeof a.value&&a.value&&function ny(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ie(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function ey(i){const s=nn(i),a=null!==s?s.factory:vi(i);if(null!==a)return a;if(i instanceof zn)throw new Ue(204,!1);if(i instanceof Function)return function L0(i){const s=i.length;if(s>0)throw function No(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?"),new Ue(204,!1);const a=function Fr(i){const s=i&&(i[Qn]||i[Dn]);if(s){const a=function mn(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ue(204,!1)}function ty(i,s,a){let c;if(Zu(i)){const d=ie(i);return vi(d)||ey(d)}if(U0(i))c=()=>ie(i.useValue);else if(function BI(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...pd(i.deps||[]));else if(function V0(i){return!(!i||!i.useExisting)}(i))c=()=>Wn(ie(i.useExisting));else{const d=ie(i&&(i.useClass||i.provide));if(!function $I(i){return!!i.deps}(i))return vi(d)||ey(d);c=()=>new d(...pd(i.deps))}return c}function ls(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function U0(i){return null!==i&&"object"==typeof i&&Ef in i}function Zu(i){return"function"==typeof i}let Cs=(()=>{class i{static create(a,c){var d;if(Array.isArray(a))return F0({name:""},c,a,"");{const f=null!==(d=a.name)&&void 0!==d?d:"";return F0({name:f},a.parent,a.providers,f)}}}return i.THROW_IF_NOT_FOUND=ko,i.NULL=new Km,i.\u0275prov=tn({token:i,providedIn:"any",factory:()=>Wn(Wm)}),i.__NG_ELEMENT_ID__=-1,i})();function Ha(i,s){pu(um(i)[1],Nn())}function Ts(i){let s=function q0(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(Wr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ue(903,"");d=s.\u0275dir}if(d){if(a){c.push(d);const y=i;y.inputs=Gd(i.inputs),y.declaredInputs=Gd(i.declaredInputs),y.outputs=Gd(i.outputs);const _=d.hostBindings;_&&ay(i,_);const b=d.viewQuery,D=d.contentQueries;if(b&&jt(i,b),D&&lp(i,D),fe(i.inputs,d.inputs),fe(i.declaredInputs,d.declaredInputs),fe(i.outputs,d.outputs),Wr(d)&&d.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let y=0;y<f.length;y++){const _=f[y];_&&_.ngInherit&&_(i),_===Ts&&(a=!1)}}s=Object.getPrototypeOf(s)}!function ht(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=ui(d.hostAttrs,a=ui(a,d.hostAttrs))}}(c)}function Gd(i){return i===rn?{}:i===mt?[]:i}function jt(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function lp(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,f)=>{s(c,d,f),a(c,d,f)}:s}function ay(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}let dp=null;function rl(){if(!dp){const i=Ft.Symbol;if(i&&i.iterator)dp=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(dp=c)}}}return dp}function wr(i){return!!no(i)&&(Array.isArray(i)||!(i instanceof Map)&&rl()in i)}function no(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ti(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Wd(i,s,a,c){const d=Re();return ti(d,js(),s)&&(Bt(),cs(Gn(),d,i,s,a,c)),Wd}function fy(i,s,a,c,d,f,y,_){const b=Re(),D=Bt(),A=i+20,P=D.firstCreatePass?function KI(i,s,a,c,d,f,y,_,b){const D=s.consts,A=Jc(s,i,4,y||null,Pe(D,_));tl(s,a,A,Pe(D,b)),pu(s,A);const P=A.tViews=Ud(2,A,c,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,D);return null!==s.queries&&(s.queries.template(s,A),P.queries=s.queries.embeddedTView(A)),A}(A,D,b,s,a,c,d,f,y):D.data[A];cr(P,!1);const H=b[11].createComment("");jf(D,b,H,P),di(H,b),ip(b,b[A]=MI(H,b,H,P)),hs(P)&&Vm(D,b,P),null!=y&&m0(b,P,_)}function Qd(i,s=Et.Default){const a=Re();return null===a?Wn(i,s):_u(Nn(),a,ie(i),s)}function Ep(){throw new Error("invalid")}function wp(i,s,a){const c=Re();return ti(c,js(),s)&&function hi(i,s,a,c,d,f,y,_){const b=Sr(s,a);let A,D=s.inputs;!_&&null!=D&&(A=D[c])?(up(i,a,A,c,d),go(s)&&function el(i,s){const a=R(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function Vd(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,s.value||"",c):d,Tn(f)?f.setProperty(b,c,d):Yr(c)||(b.setProperty?b.setProperty(c,d):b[c]=d))}(Bt(),Gn(),c,i,s,c[11],a,!1),wp}function My(i,s,a,c,d){const y=d?"class":"style";up(i,a,s.inputs[y],y,c)}function sl(i,s,a,c){const d=Re(),f=Bt(),y=20+i,_=d[11],b=d[y]=fm(_,s,function Mb(){return Ke.lFrame.currentNamespace}()),D=f.firstCreatePass?function bp(i,s,a,c,d,f,y){const _=s.consts,D=Jc(s,i,2,d,Pe(_,f));return tl(s,a,D,Pe(_,y)),null!==D.attrs&&nl(D,D.attrs,!1),null!==D.mergedAttrs&&nl(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(y,f,d,0,s,a,c):f.data[y];cr(D,!0);const A=D.mergedAttrs;null!==A&&bt(_,b,A);const P=D.classes;null!==P&&Im(_,b,P);const H=D.styles;return null!==H&&J_(_,b,H),64!=(64&D.flags)&&jf(f,d,b,D),0===function yr(){return Ke.lFrame.elementDepthCount}()&&di(b,d),function On(){Ke.lFrame.elementDepthCount++}(),hs(D)&&(Vm(f,d,D),function Um(i,s,a){if(po(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const y=i.data[f];y.contentQueries&&y.contentQueries(1,a[f],f)}}}(f,D,d)),null!==c&&m0(d,D),sl}function ol(){let i=Nn();ba()?function td(){Ke.lFrame.isParent=!1}():(i=i.parent,cr(i,!1));const s=i;!function St(){Ke.lFrame.elementDepthCount--}();const a=Bt();return a.firstCreatePass&&(pu(a,i),po(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Hg(i){return 0!=(16&i.flags)}(s)&&My(a,s,Re(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function b_(i){return 0!=(32&i.flags)}(s)&&My(a,s,Re(),s.stylesWithoutHost,!1),ol}function Ip(i,s,a,c){return sl(i,s,a,c),ol(),Ip}function Oy(i){return!!i&&"function"==typeof i.then}function sE(i){return!!i&&"function"==typeof i.subscribe}const Qu=sE;function Ny(i,s,a,c){const d=Re(),f=Bt(),y=Nn();return function Py(i,s,a,c,d,f,y,_){const b=hs(c),A=i.firstCreatePass&&O0(i),P=s[8],H=zm(s);let ne=!0;if(3&c.type||_){const tt=Sr(c,s),pt=_?_(tt):tt,ke=H.length,Ct=_?Wt=>_(_n(Wt[c.index])):c.index;if(Tn(a)){let Wt=null;if(!_&&b&&(Wt=function Ju(i,s,a,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const y=d[f];if(y===a&&d[f+1]===c){const _=s[7],b=d[f+2];return _.length>b?_[b]:null}"string"==typeof y&&(f+=2)}return null}(i,s,d,c.index)),null!==Wt)(Wt.__ngLastListenerFn__||Wt).__ngNextListenerFn__=f,Wt.__ngLastListenerFn__=f,ne=!1;else{f=Ap(c,s,P,f,!1);const cn=a.listen(pt,d,f);H.push(f,cn),A&&A.push(d,Ct,ke,ke+1)}}else f=Ap(c,s,P,f,!0),pt.addEventListener(d,f,y),H.push(f),A&&A.push(d,Ct,ke,y)}else f=Ap(c,s,P,f,!1);const Ae=c.outputs;let We;if(ne&&null!==Ae&&(We=Ae[d])){const tt=We.length;if(tt)for(let pt=0;pt<tt;pt+=2){const Ci=s[We[pt]][We[pt+1]].subscribe(f),lo=H.length;H.push(f,Ci),A&&A.push(d,c.index,lo,-(lo+1))}}}(f,d,d[11],y,i,s,!!a,c),Ny}function Xd(i,s,a,c){try{return!1!==a(c)}catch(d){return N0(i,d),!1}}function Ap(i,s,a,c,d){return function f(y){if(y===Function)return c;const _=2&i.flags?R(i.index,s):s;0==(32&s[2])&&sp(_);let b=Xd(s,0,c,y),D=f.__ngNextListenerFn__;for(;D;)b=Xd(s,0,D,y)&&b,D=D.__ngNextListenerFn__;return d&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function al(i=1){return function $s(i){return(Ke.lFrame.contextLView=function $g(i,s){for(;i>0;)s=s[15],i--;return s}(i,Ke.lFrame.contextLView))[8]}(i)}function lE(i,s,a,c,d){const f=i[a+1],y=null===s;let _=c?Ds(f):Xs(f),b=!1;for(;0!==_&&(!1===b||y);){const A=i[_+1];Vy(i[_],s)&&(b=!0,i[_+1]=c?Gf(A):Zf(A)),_=c?Ds(A):Xs(A)}b&&(i[a+1]=c?Zf(f):Gf(f))}function Vy(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&qs(i,s)>=0}function Wo(i,s){return function Ri(i,s,a,c){const d=Re(),f=Bt(),y=function ps(i){const s=Ke.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);f.firstUpdatePass&&function $y(i,s,a,c){const d=i.data;if(null===d[a+1]){const f=d[Kr()],y=function rh(i,s){return s>=i.expandoStartIndex}(i,a);(function Yo(i,s){return 0!=(i.flags&(s?16:32))})(f,c)&&null===s&&!y&&(s=!1),s=function Kn(i,s,a,c){const d=function id(i){const s=Ke.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=Ko(a=tc(null,i,s,a,c),s.attrs,c),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(a=tc(d,i,s,a,c),null===f){let b=function Fp(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Xs(c))return i[Ds(c)]}(i,s,c);void 0!==b&&Array.isArray(b)&&(b=tc(null,i,s,b[1],c),b=Ko(b,s.attrs,c),function rD(i,s,a,c){i[Ds(a?s.classBindings:s.styleBindings)]=c}(i,s,c,b))}else f=function iD(i,s,a){let c;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)c=Ko(c,i[f].hostAttrs,a);return Ko(c,s.attrs,a)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,c),function eh(i,s,a,c,d,f){let y=f?s.classBindings:s.styleBindings,_=Ds(y),b=Xs(y);i[c]=a;let A,D=!1;if(Array.isArray(a)){const P=a;A=P[1],(null===A||qs(P,A)>0)&&(D=!0)}else A=a;if(d)if(0!==b){const H=Ds(i[_+1]);i[c+1]=Is(H,_),0!==H&&(i[H+1]=Hf(i[H+1],c)),i[_+1]=function s0(i,s){return 131071&i|s<<17}(i[_+1],c)}else i[c+1]=Is(_,0),0!==_&&(i[_+1]=Hf(i[_+1],c)),_=c;else i[c+1]=Is(b,0),0===_?_=c:i[b+1]=Hf(i[b+1],c),b=c;D&&(i[c+1]=Zf(i[c+1])),lE(i,A,c,!0),lE(i,A,c,!1),function cE(i,s,a,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&qs(f,s)>=0&&(a[c+1]=Gf(a[c+1]))}(s,A,i,c,f),y=Is(_,b),f?s.classBindings=y:s.styleBindings=y}(d,f,s,a,y,c)}}(f,i,y,c),s!==Ot&&ti(d,y,s)&&function fE(i,s,a,c,d,f,y,_){if(!(3&s.type))return;const b=i.data,D=b[_+1];Lp(function Tm(i){return 1==(1&i)}(D)?pE(b,s,a,d,Xs(D),y):void 0)||(Lp(f)||function Qc(i){return 2==(2&i)}(D)&&(f=pE(b,null,a,d,_,y)),function lI(i,s,a,c,d){const f=Tn(i);if(s)d?f?i.addClass(a,c):a.classList.add(c):f?i.removeClass(a,c):a.classList.remove(c);else{let y=-1===c.indexOf("-")?void 0:Qs.DashCase;if(null==d)f?i.removeStyle(a,c,y):a.style.removeProperty(c);else{const _="string"==typeof d&&d.endsWith("!important");_&&(d=d.slice(0,-10),y|=Qs.Important),f?i.setStyle(a,c,d,y):a.style.setProperty(c,d,_?"important":"")}}}(c,y,_a(Kr(),a),d,f))}(f,f.data[Kr()],d,d[11],i,d[y+1]=function ih(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ue(as(i)))),i}(s,a),c,y)}(i,s,null,!0),Wo}function tc(i,s,a,c,d){let f=null;const y=a.directiveEnd;let _=a.directiveStylingLast;for(-1===_?_=a.directiveStart:_++;_<y&&(f=s[_],c=Ko(c,f.hostAttrs,d),f!==i);)_++;return null!==i&&(a.directiveStylingLast=_),c}function Ko(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?d=y:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),dr(i,y,!!a||s[++f]))}return void 0===i?null:i}function pE(i,s,a,c,d,f){const y=null===s;let _;for(;d>0;){const b=i[d],D=Array.isArray(b),A=D?b[1]:b,P=null===A;let H=a[d+1];H===Ot&&(H=P?mt:void 0);let ne=P?Tu(H,c):A===c?H:void 0;if(D&&!Lp(ne)&&(ne=Tu(b,c)),Lp(ne)&&(_=ne,y))return _;const Ae=i[d+1];d=y?Ds(Ae):Xs(Ae)}if(null!==s){let b=f?s.residualClasses:s.residualStyles;null!=b&&(_=Tu(b,c))}return _}function Lp(i){return void 0!==i}function Hy(i,s=""){const a=Re(),c=Bt(),d=i+20,f=c.firstCreatePass?Jc(c,d,1,s,null):c.data[d],y=a[d]=function dm(i,s){return Tn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);jf(c,a,y,f),cr(f,!1)}function Up(i){return Vp("",i,""),Up}function Vp(i,s,a){const c=Re(),d=function Hu(i,s,a,c){return ti(i,js(),a)?s+_e(a)+c:Ot}(c,i,s,a);return d!==Ot&&Go(c,Kr(),d),Vp}const Qo=void 0;var TE=["en",[["a","p"],["AM","PM"],Qo],[["AM","PM"],Qo,Qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qo,"{1} 'at' {0}",Qo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ch(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Wa={};function Zp(i){const s=function xE(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=SE(s);if(a)return a;const c=s.split("-")[0];if(a=SE(c),a)return a;if("en"===c)return TE;throw new Error(`Missing locale data for the locale "${i}".`)}function lh(i){return Zp(i)[Dt.PluralCase]}function SE(i){return i in Wa||(Wa[i]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[i]),Wa[i]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const hl="en-US";let iv=hl;function Jo(i,s,a,c,d){if(i=ie(i),Array.isArray(i))for(let f=0;f<i.length;f++)Jo(i[f],s,a,c,d);else{const f=Bt(),y=Re();let _=Zu(i)?i:ie(i.provide),b=ty(i);const D=Nn(),A=1048575&D.providerIndexes,P=D.directiveStart,H=D.providerIndexes>>20;if(Zu(i)||!i.multi){const ne=new Da(b,d,Qd),Ae=_l(_,s,d?A:A+H,P);-1===Ae?(yu(jn(D,y),f,_),zp(f,i,s.length),s.push(_),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),a.push(ne),y.push(ne)):(a[Ae]=ne,y[Ae]=ne)}else{const ne=_l(_,s,A+H,P),Ae=_l(_,s,A,A+H),We=ne>=0&&a[ne],tt=Ae>=0&&a[Ae];if(d&&!tt||!d&&!We){yu(jn(D,y),f,_);const pt=function El(i,s,a,c,d){const f=new Da(i,a,Qd);return f.multi=[],f.index=s,f.componentProviders=0,nr(f,d,c&&!a),f}(d?Sn:ii,a.length,d,c,b);!d&&tt&&(a[Ae].providerFactory=pt),zp(f,i,s.length,0),s.push(_),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),a.push(pt),y.push(pt)}else zp(f,i,ne>-1?ne:Ae,nr(a[d?Ae:ne],b,!d&&c));!d&&c&&tt&&a[Ae].componentProviders++}}}function zp(i,s,a,c){const d=Zu(s),f=function jI(i){return!!i.useClass}(s);if(d||f){const b=(f?ie(s.useClass):s).prototype.ngOnDestroy;if(b){const D=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const A=D.indexOf(a);-1===A?D.push(a,[c,b]):D[A+1].push(c,b)}else D.push(a,b)}}}function nr(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function _l(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function ii(i,s,a,c){return Wp(this.multi,[])}function Sn(i,s,a,c){const d=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,_=Eu(a,a[1],this.providerFactory.index,c);f=_.slice(0,y),Wp(d,f);for(let b=y;b<_.length;b++)f.push(_[b])}else f=[],Wp(d,f);return f}function Wp(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function ki(i,s=[]){return a=>{a.providersResolver=(c,d)=>function KE(i,s,a){const c=Bt();if(c.firstCreatePass){const d=Wr(i);Jo(a,c.data,c.blueprint,d,!0),Jo(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class Or{}class sc{resolveComponentFactory(s){throw function CD(i){const s=Error(`No component factory found for ${ue(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let wl=(()=>{class i{}return i.NULL=new sc,i})();function YE(){return oo(Nn(),Re())}function oo(i,s){return new wh(Sr(i,s))}let wh=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=YE,i})();function ea(i){return i instanceof wh?i.nativeElement:i}class bl{}let QE=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Yp(){const i=Re(),a=R(Nn().index,i);return function Xa(i){return i[11]}(jr(a)?a:i)}(),i})(),oc=(()=>{class i{}return i.\u0275prov=tn({token:i,providedIn:"root",factory:()=>null}),i})();class xs{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Il=new xs("13.2.7"),ao={};function bh(i,s,a,c,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(_n(f)),$r(f))for(let _=10;_<f.length;_++){const b=f[_],D=b[1].firstChild;null!==D&&bh(b[1],b,D,c)}const y=a.type;if(8&y)bh(i,s,a.child,c);else if(32&y){const _=Ff(a,s);let b;for(;b=_();)c.push(b)}else if(16&y){const _=Y_(s,a);if(Array.isArray(_))c.push(..._);else{const b=Sd(s[16]);bh(b[1],b,_,c,!0)}}a=d?a.projectionNext:a.next}return c}class uo{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return bh(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if($r(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(pm(s,c),Cu(a,c))}this._attachedToViewContainer=!1}gm(this._lView[1],this._lView)}onDestroy(s){Qf(this._lView[1],this._lView,null,s)}markForCheck(){sp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){op(this._lView[1],this._lView,this.context)}checkNoChanges(){!function M0(i,s,a){Ia(!0);try{op(i,s,a)}finally{Ia(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $_(i,s){$f(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ue(902,"");this._appRef=s}}class pv extends uo{constructor(s){super(s),this._view=s}detectChanges(){x0(this._view)}checkNoChanges(){!function PI(i){Ia(!0);try{x0(i)}finally{Ia(!1)}}(this._view)}get context(){return null}}class eu extends wl{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=at(s);return new Jp(a,this.ngModule)}}function Qp(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Jp extends Or{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function yI(i){return i.map(mI).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Qp(this.componentDef.inputs)}get outputs(){return Qp(this.componentDef.outputs)}create(s,a,c,d){const f=(d=d||this.ngModule)?function JE(i,s){return{get:(a,c,d)=>{const f=i.get(a,ao,d);return f!==ao||c===ao?f:s.get(a,c,d)}}}(s,d.injector):s,y=f.get(bl,ya),_=f.get(oc,null),b=y.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",A=c?function Bm(i,s,a){if(Tn(i))return i.selectRootElement(s,a===kt.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(b,c,this.componentDef.encapsulation):fm(y.createRenderer(null,this.componentDef),D,function Ih(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(D)),P=this.componentDef.onPush?576:528,H=function Hd(i,s){return{components:[],scheduler:i||Jb,clean:kI,playerHandler:s||null,flags:0}}(),ne=Ud(0,null,null,1,0,null,null,null,null,null),Ae=Za(null,ne,H,P,null,null,y,b,_,f);let We,tt;bo(Ae);try{const pt=function Se(i,s,a,c,d,f){const y=a[1];a[20]=i;const b=Jc(y,20,2,"#host",null),D=b.mergedAttrs=s.hostAttrs;null!==D&&(nl(b,D,!0),null!==i&&(bt(d,i,D),null!==b.classes&&Im(d,i,b.classes),null!==b.styles&&J_(d,i,b.styles)));const A=c.createRenderer(i,s),P=Za(a,y0(s),null,s.onPush?64:16,a[20],b,c,A,f||null,null);return y.firstCreatePass&&(yu(jn(b,a),y,s.type),ep(y,b),qm(b,a.length,1)),ip(a,P),a[20]=P}(A,this.componentDef,Ae,y,b);if(A)if(c)bt(b,A,["ng-version",Il.full]);else{const{attrs:ke,classes:Ct}=function vI(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++c]):8===d&&a.push(f);else{if(!bs(d))break;d=f}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);ke&&bt(b,A,ke),Ct&&Ct.length>0&&Im(b,A,Ct.join(" "))}if(tt=wo(ne,20),void 0!==a){const ke=tt.projection=[];for(let Ct=0;Ct<this.ngContentSelectors.length;Ct++){const Wt=a[Ct];ke.push(null!=Wt?Array.from(Wt):null)}}We=function to(i,s,a,c,d){const f=a[1],y=function E0(i,s,a){const c=Nn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),D0(i,c,s,Ho(i,s,1,null),a));const d=Eu(s,i,c.directiveStart,c);di(d,s);const f=Sr(c,s);return f&&di(f,s),d}(f,a,s);if(c.components.push(y),i[8]=y,d&&d.forEach(b=>b(y,s)),s.contentQueries){const b=Nn();s.contentQueries(1,y,b.directiveStart)}const _=Nn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(gs(_.index),Jf(a[1],_,0,_.directiveStart,_.directiveEnd,s),Hm(s,y)),y}(pt,this.componentDef,Ae,H,[Ha]),Ld(ne,Ae,null)}finally{fu()}return new XE(this.componentType,We,oo(tt,Ae),Ae,tt)}}class XE extends class DD{}{constructor(s,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new pv(d),this.componentType=s}get injector(){return new Ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Dl{}class gv{}const ac=new Map;class ew extends Dl{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new eu(this);const c=Lt(s);this._bootstrapComponents=ws(c.bootstrap),this._r3Injector=UI(s,a,[{provide:Dl,useValue:this},{provide:wl,useValue:this.componentFactoryResolver}],ue(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Cs.THROW_IF_NOT_FOUND,c=Et.Default){return s===Cs||s===Dl||s===Wm?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class uc extends gv{constructor(s){super(),this.moduleType=s,null!==Lt(s)&&function Fn(i){const s=new Set;!function a(c){const d=Lt(c,!0),f=d.id;null!==f&&(function mv(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${ue(s)} vs ${ue(s.name)}`)}(f,ac.get(f),c),ac.set(f,c));const y=ws(d.imports);for(const _ of y)s.has(_)||(s.add(_),a(_))}(i)}(s)}create(s){return new ew(this.moduleType,s)}}function tu(i){return s=>{setTimeout(i,void 0,s)}}const Cr=class _v extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var d,f,y;let _=s,b=a||(()=>null),D=c;if(s&&"object"==typeof s){const P=s;_=null===(d=P.next)||void 0===d?void 0:d.bind(P),b=null===(f=P.error)||void 0===f?void 0:f.bind(P),D=null===(y=P.complete)||void 0===y?void 0:y.bind(P)}this.__isAsync&&(b=tu(b),_&&(_=tu(_)),D&&(D=tu(D)));const A=super.subscribe({next:_,error:b,complete:D});return s instanceof F.w0&&s.add(A),A}};function lw(){return this._results[rl()]()}class dc{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=rl(),c=dc.prototype;c[a]||(c[a]=lw)}get changes(){return this._changes||(this._changes=new Cr)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=ci(s);(this._changesDetected=!function zg(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=s[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Al=(()=>{class i{}return i.__NG_ELEMENT_ID__=dw,i})();const Ev=Al,wv=class extends Ev{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=Za(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(a)),Ld(a,c,s),new uo(c)}};function dw(){return Ch(Nn(),Re())}function Ch(i,s){return 4&i.type?new wv(s,i,oo(i,s)):null}let rg=(()=>{class i{}return i.__NG_ELEMENT_ID__=hw,i})();function hw(){return pw(Nn(),Re())}const fw=rg,bv=class extends fw{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return oo(this._hostTNode,this._hostLView)}get injector(){return new Ro(this._hostTNode,this._hostLView)}get parentInjector(){const s=So(this._hostTNode,this._hostLView);if(Ca(s)){const a=To(s,this._hostLView),c=Ta(s);return new Ro(a[1].data[c+8],a)}return new Ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Th(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const d=s.createEmbeddedView(a||{});return this.insert(d,c),d}createComponent(s,a,c,d,f){const y=s&&!function Iu(i){return"function"==typeof i}(s);let _;if(y)_=a;else{const P=a||{};_=P.index,c=P.injector,d=P.projectableNodes,f=P.ngModuleRef}const b=y?s:new Jp(at(s)),D=c||this.parentInjector;if(!f&&null==b.ngModule){const H=(y?D:this.parentInjector).get(Dl,null);H&&(f=H)}const A=b.create(D,d,void 0,f);return this.insert(A.hostView,_),A}insert(s,a){const c=s._lView,d=c[1];if(function me(i){return $r(i[3])}(c)){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const P=c[3],H=new bv(P,P[6],P[3]);H.detach(H.indexOf(s))}}const f=this._adjustIndex(a),y=this._lContainer;!function ja(i,s,a,c){const d=10+c,f=a.length;c>0&&(a[d-1][4]=s),c<f-10?(s[4]=a[d],Du(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function Kc(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const _=s[19];null!==_&&_.insertView(i),s[2]|=128}(d,c,y,f);const _=Em(f,y),b=c[11],D=Md(b,y[7]);return null!==D&&function iI(i,s,a,c,d,f){c[0]=d,c[6]=s,$f(i,c,a,1,d,f)}(d,y[6],b,c,D,_),s.attachToViewContainerRef(),Du(Iv(y),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Th(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=pm(this._lContainer,a);c&&(Cu(Iv(this._lContainer),a),gm(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=pm(this._lContainer,a);return c&&null!=Cu(Iv(this._lContainer),a)?new uo(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Th(i){return i[8]}function Iv(i){return i[8]||(i[8]=[])}function pw(i,s){let a;const c=s[i.index];if($r(c))a=c;else{let d;if(8&i.type)d=_n(c);else{const f=s[11];d=f.createComment("");const y=Sr(i,s);Gi(f,Md(f,y),d,function aI(i,s){return Tn(i)?i.nextSibling(s):s.nextSibling}(f,y),!1)}s[i.index]=a=MI(c,s,d,i),ip(s,a)}return new bv(a,i,s)}class ig{constructor(s){this.queryList=s,this.matches=null}clone(){return new ig(this.queryList)}setDirty(){this.queryList.setDirty()}}class ra{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const y=a.getByIndex(f);d.push(this.queries[y.indexInDeclarationView].clone())}return new ra(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Tv(s,a).matches&&this.queries[a].setDirty()}}class Dv{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class nu{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new nu(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class sg{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new sg(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(s,a,mw(a,f)),this.matchTNodeWithReadOption(s,a,Hs(a,s,f,!1,!1))}else c===Al?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Hs(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===wh||d===rg||d===Al&&4&a.type)this.addMatch(a.index,-2);else{const f=Hs(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function mw(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function OD(i,s,a,c){return-1===a?function Ah(i,s){return 11&i.type?oo(i,s):4&i.type?Ch(i,s):null}(s,i):-2===a?function ND(i,s,a){return a===wh?oo(s,i):a===Al?Ch(s,i):a===rg?pw(s,i):void 0}(i,s,c):Eu(i,i[1],a,s)}function Yn(i,s,a,c){const d=s[19].queries[c];if(null===d.matches){const f=i.data,y=a.matches,_=[];for(let b=0;b<y.length;b+=2){const D=y[b];_.push(D<0?null:OD(s,f[D],y[b+1],a.metadata.read))}d.matches=_}return d.matches}function Ml(i,s,a,c){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const y=Yn(i,s,d,a);for(let _=0;_<f.length;_+=2){const b=f[_];if(b>0)c.push(y[_/2]);else{const D=f[_+1],A=s[-b];for(let P=10;P<A.length;P++){const H=A[P];H[17]===H[3]&&Ml(H[1],H,D,c)}if(null!==A[9]){const P=A[9];for(let H=0;H<P.length;H++){const ne=P[H];Ml(ne[1],ne,D,c)}}}}}return c}function Sh(i){const s=Re(),a=Bt(),c=sd();od(c+1);const d=Tv(a,c);if(i.dirty&&O(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?Ml(a,s,c,[]):Yn(a,s,d,c);i.reset(f,ea),i.notifyOnChanges()}return!0}return!1}function vw(i,s,a,c){const d=Bt();if(d.firstCreatePass){const f=Nn();(function hc(i,s,a){null===i.queries&&(i.queries=new nu),i.queries.track(new sg(s,a))})(d,new Dv(s,a,c),f.index),function ia(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function Cv(i,s,a){const c=new dc(4==(4&a));Qf(i,s,c,c.destroy),null===s[19]&&(s[19]=new ra),s[19].queries.push(new ig(c))}(d,Re(),a)}function Rl(){return function PD(i,s){return i[19].queries[s].queryList}(Re(),sd())}function Tv(i,s){return i.queries.getByIndex(s)}function Oh(...i){}const Ow=new zn("Application Initializer");let dg=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Oh,this.reject=Oh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Oy(f))a.push(f);else if(Qu(f)){const y=new Promise((_,b)=>{f.subscribe({complete:_,error:b})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Wn(Ow,8))},i.\u0275prov=tn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Nw=new zn("AppId",{providedIn:"root",factory:function Pw(){return`${iu()}${iu()}${iu()}`}});function iu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kw=new zn("Platform Initializer"),Fw=new zn("Platform ID"),Lw=new zn("appBootstrapListener");let gi=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();const hg=new zn("LocaleId",{providedIn:"root",factory:()=>Lo(hg,Et.Optional|Et.SkipSelf)||function HD(){return"undefined"!=typeof $localize&&$localize.locale||hl}()}),co=new zn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zD{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let WD=(()=>{class i{compileModuleSync(a){return new uc(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=ws(Lt(a).declarations).reduce((y,_)=>{const b=at(_);return b&&y.push(new Jp(b)),y},[]);return new zD(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const YD=(()=>Promise.resolve(0))();function kv(i){"undefined"==typeof Zone?YD.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ns{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cr(!1),this.onMicrotaskEmpty=new Cr(!1),this.onStable=new Cr(!1),this.onError=new Cr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function QD(){let i=Ft.requestAnimationFrame,s=Ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function eC(i){const s=()=>{!function XD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ft,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Lv(i),i.isCheckStableRunning=!0,Fv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Lv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,y,_)=>{try{return Uw(i),a.invokeTask(d,f,y,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),Vw(i)}},onInvoke:(a,c,d,f,y,_,b)=>{try{return Uw(i),a.invoke(d,f,y,_,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),Vw(i)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Lv(i),Fv(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ns.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ns.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+d,s,JD,Oh,Oh);try{return f.runTask(y,a,c)}finally{f.cancelTask(y)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const JD={};function Fv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Lv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Uw(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Vw(i){i._nesting--,Fv(i)}class Bw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cr,this.onMicrotaskEmpty=new Cr,this.onStable=new Cr,this.onError=new Cr}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}let jw=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ns.assertNotInAngularZone(),kv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(Wn(Ns))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})(),Uv=(()=>{class i{constructor(){this._applications=new Map,Ph.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Ph.findTestabilityInTree(this,a,c)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();class $w{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function tC(i){Ph=i}let xn,Ph=new $w;const sa=new zn("AllowMultipleToken");class Hw{constructor(s,a){this.name=s,this.token=a}}function jv(i,s,a=[]){const c=`Platform: ${s}`,d=new zn(c);return(f=[])=>{let y=su();if(!y||y.injector.get(sa,!1))if(i)i(a.concat(f).concat({provide:d,useValue:!0}));else{const _=a.concat(f).concat({provide:d,useValue:!0},{provide:Ym,useValue:"platform"});!function nC(i){if(xn&&!xn.destroyed&&!xn.injector.get(sa,!1))throw new Ue(400,"");xn=i.get(ou);const s=i.get(kw,null);s&&s.forEach(a=>a())}(Cs.create({providers:_,name:c}))}return function fg(i){const s=su();if(!s)throw new Ue(401,"");return s}()}}function su(){return xn&&!xn.destroyed?xn:null}let ou=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const _=function kh(i,s){let a;return a="noop"===i?new Bw:("zone.js"===i?void 0:i)||new Ns({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),b=[{provide:Ns,useValue:_}];return _.run(()=>{const D=Cs.create({providers:b,parent:this.injector,name:a.moduleType.name}),A=a.create(D),P=A.injector.get(kf,null);if(!P)throw new Ue(402,"");return _.runOutsideAngular(()=>{const H=_.onError.subscribe({next:ne=>{P.handleError(ne)}});A.onDestroy(()=>{gg(this._modules,A),H.unsubscribe()})}),function Gw(i,s,a){try{const c=a();return Oy(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(P,_,()=>{const H=A.injector.get(dg);return H.runInitializers(),H.donePromise.then(()=>(function OE(i){st(i,"Expected localeId to be defined"),"string"==typeof i&&(iv=i.toLowerCase().replace(/_/g,"-"))}(A.injector.get(hg,hl)||hl),this._moduleDoBootstrap(A),A))})})}bootstrapModule(a,c=[]){const d=pg({},c);return function Vv(i,s,a){const c=new uc(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const c=a.injector.get(Fh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Ue(403,"");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Wn(Cs))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();function pg(i,s){return Array.isArray(s)?s.reduce(pg,i):Object.assign(Object.assign({},i),s)}let Fh=(()=>{class i{constructor(a,c,d,f,y){this._zone=a,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new M.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),b=new M.y(D=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Ns.assertNotInAngularZone(),kv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Ns.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{A.unsubscribe(),P.unsubscribe()}});this.isStable=(0,se.T)(_,b.pipe((0,ye.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new Ue(405,"");let d;d=a instanceof Or?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const f=function Bv(i){return i.isBoundToModule}(d)?void 0:this._injector.get(Dl),_=d.create(Cs.NULL,[],c||d.selector,f),b=_.location.nativeElement,D=_.injector.get(jw,null),A=D&&_.injector.get(Uv);return D&&A&&A.registerApplication(b,D),_.onDestroy(()=>{this.detachView(_.hostView),gg(this.components,_),A&&A.unregisterApplication(b)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Ue(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;gg(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Lw,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Wn(Ns),Wn(Cs),Wn(kf),Wn(wl),Wn(dg))},i.\u0275prov=tn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function gg(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let Zv=!0,Hv=!1;function mg(){return Hv=!0,Zv}function Lh(){if(Hv)throw new Error("Cannot enable prod mode after platform setup.");Zv=!1}let iC=(()=>{class i{}return i.__NG_ELEMENT_ID__=sC,i})();function sC(i){return function oC(i,s,a){if(go(i)&&!a){const c=R(i.index,s);return new uo(c,c)}return 47&i.type?new uo(s[16],s):null}(Nn(),Re(),16==(16&i))}class Wv{constructor(){}supports(s){return wr(s)}create(s){return new dC(s)}}const _c=(i,s)=>s;class dC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||_c}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const y=!c||a&&a.currentIndex<Kv(c,d,f)?a:c,_=Kv(y,d,f),b=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{f||(f=[]);const D=_-d,A=b-d;if(D!=A){for(let H=0;H<D;H++){const ne=H<f.length?f[H]:f[H]=0,Ae=ne+H;A<=Ae&&Ae<D&&(f[H]=ne+1)}f[y.previousIndex]=A-D}}_!==b&&s(y,_,b)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!wr(s))throw new Ue(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,y,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let _=0;_<this.length;_++)f=s[_],y=this._trackByFn(_,f),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,f,y,_)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,_),c=!0),a=a._next}else d=0,function ei(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[rl()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,_=>{y=this._trackByFn(d,_),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,_,y,d)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new Bl(a,c),f,d),s}_verifyReinsertion(s,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new oa),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oa),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Bl{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zw{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class oa{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new zw,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Kv(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class Ww{constructor(){}supports(s){return s instanceof Map||no(s)}create(){return new hC}}class hC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||no(s)))throw new Ue(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,y=d._next;return f&&(f._next=y),y&&(y._prev=f),d._next=null,d._prev=null,d}const c=new fC(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class fC{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Kw(){return new jl([new Wv])}let jl=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Kw()),deps:[[i,new Au,new Uo]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Ue(901,"")}}return i.\u0275prov=tn({token:i,providedIn:"root",factory:Kw}),i})();function Yw(){return new wg([new Ww])}let wg=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Yw()),deps:[[i,new Au,new Uo]]}}find(a){const c=this.factories.find(f=>f.supports(a));if(c)return c;throw new Ue(901,"")}}return i.\u0275prov=tn({token:i,providedIn:"root",factory:Yw}),i})();const Jw=jv(null,"core",[{provide:Fw,useValue:"unknown"},{provide:ou,deps:[Cs]},{provide:Uv,deps:[]},{provide:gi,deps:[]}]);let yC=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Wn(Fh))},i.\u0275mod=X({type:i}),i.\u0275inj=At({}),i})()},3942:(ct,Te,x)=>{x.d(Te,{Z:()=>Ue});var l=x(2090),F=x(4859),M=x(9681),se=x(1877);class ye{constructor(_e,De){this._delegate=_e,this.firebase=De,(0,M._addComponent)(_e,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,M.deleteApp)(this._delegate)))}_getService(_e,De=M._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(_e);return!qe.isInitialized()&&"EXPLICIT"===(null===(et=qe.getComponent())||void 0===et?void 0:et.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:De})}_removeServiceInstance(_e,De=M._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(De)}_addComponent(_e){(0,M._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,M._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function ve(){const $e=function ue($e){const _e={},De={__esModule:!0,initializeApp:function Ne(ee,ge={}){const B=M.initializeApp(ee,ge);if((0,l.r3)(_e,B.name))return _e[B.name];const te=new $e(B,De);return _e[B.name]=te,te},app:qe,registerVersion:M.registerVersion,setLogLevel:M.setLogLevel,onLog:M.onLog,apps:null,SDK_VERSION:M.SDK_VERSION,INTERNAL:{registerComponent:function Ie(ee){const ge=ee.name,B=ge.replace("-compat","");if(M._registerComponent(ee)&&"PUBLIC"===ee.type){const te=(ae=qe())=>{if("function"!=typeof ae[B])throw fe.create("invalid-app-argument",{appName:ge});return ae[B]()};void 0!==ee.serviceProps&&(0,l.ZB)(te,ee.serviceProps),De[B]=te,$e.prototype[B]=function(...ae){return this._getService.bind(this,ge).apply(this,ee.multipleInstances?ae:[])}}return"PUBLIC"===ee.type?De[B]:null},removeApp:function et(ee){delete _e[ee]},useAsService:function Ye(ee,ge){return"serverAuth"===ge?null:ge},modularAPIs:M}};function qe(ee){if(!(0,l.r3)(_e,ee=ee||M._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:ee});return _e[ee]}return De.default=De,Object.defineProperty(De,"apps",{get:function Oe(){return Object.keys(_e).map(ee=>_e[ee])}}),qe.App=$e,De}(ye);return $e.INTERNAL=Object.assign(Object.assign({},$e.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function _e(De){(0,l.ZB)($e,De)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),$e}(),$=new se.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ue=Z;!function Ce($e){(0,M.registerVersion)("@firebase/app-compat","0.1.28",$e)}()},9681:(ct,Te,x)=>{x.r(Te),x.d(Te,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Qn,_DEFAULT_ENTRY_NAME:()=>st,_addComponent:()=>Tr,_addOrOverwriteComponent:()=>tn,_apps:()=>vn,_clearComponents:()=>Mn,_components:()=>dn,_getProvider:()=>At,_registerComponent:()=>$t,_removeServiceInstance:()=>nn,deleteApp:()=>Et,getApp:()=>Dn,getApps:()=>sr,initializeApp:()=>ir,onLog:()=>Qt,registerVersion:()=>Xt,setLogLevel:()=>Ln});var l=x(5861),F=x(4859),M=x(1877),se=x(2090),ye=x(8766);class we{constructor(k){this.container=k}getPlatformInfoString(){return this.container.getProviders().map(L=>{if(function fe(Q){const k=Q.getComponent();return"VERSION"===(null==k?void 0:k.type)}(L)){const Y=L.getImmediate();return`${Y.library}/${Y.version}`}return null}).filter(L=>L).join(" ")}}const ue="@firebase/app",Z=new M.Yd("@firebase/app"),st="[DEFAULT]",lt={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vn=new Map,dn=new Map;function Tr(Q,k){try{Q.container.addComponent(k)}catch(L){Z.debug(`Component ${k.name} failed to register with FirebaseApp ${Q.name}`,L)}}function tn(Q,k){Q.container.addOrOverwriteComponent(k)}function $t(Q){const k=Q.name;if(dn.has(k))return Z.debug(`There were multiple attempts to register component ${k}.`),!1;dn.set(k,Q);for(const L of vn.values())Tr(L,Q);return!0}function At(Q,k){const L=Q.container.getProvider("heartbeat").getImmediate({optional:!0});return L&&L.triggerHeartbeat(),Q.container.getProvider(k)}function nn(Q,k,L=st){At(Q,k).clearInstance(L)}function Mn(){dn.clear()}const mn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Pn{constructor(k,L,Y){this._isDeleted=!1,this._options=Object.assign({},k),this._config=Object.assign({},L),this._name=L.name,this._automaticDataCollectionEnabled=L.automaticDataCollectionEnabled,this._container=Y,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(k){this.checkDestroyed(),this._automaticDataCollectionEnabled=k}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(k){this._isDeleted=k}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}const Qn="9.8.4";function ir(Q,k={}){"object"!=typeof k&&(k={name:k});const L=Object.assign({name:st,automaticDataCollectionEnabled:!1},k),Y=L.name;if("string"!=typeof Y||!Y)throw mn.create("bad-app-name",{appName:String(Y)});const de=vn.get(Y);if(de){if((0,se.vZ)(Q,de.options)&&(0,se.vZ)(L,de.config))return de;throw mn.create("duplicate-app",{appName:Y})}const Le=new F.H0(Y);for(const ot of dn.values())Le.addComponent(ot);const Be=new Pn(Q,L,Le);return vn.set(Y,Be),Be}function Dn(Q=st){const k=vn.get(Q);if(!k)throw mn.create("no-app",{appName:Q});return k}function sr(){return Array.from(vn.values())}function Et(Q){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*(Q){const k=Q.name;vn.has(k)&&(vn.delete(k),yield Promise.all(Q.container.getProviders().map(L=>L.delete())),Q.isDeleted=!0)})).apply(this,arguments)}function Xt(Q,k,L){var Y;let de=null!==(Y=lt[Q])&&void 0!==Y?Y:Q;L&&(de+=`-${L}`);const Le=de.match(/\s|\//),Be=k.match(/\s|\//);if(Le||Be){const ot=[`Unable to register library "${de}" with version "${k}":`];return Le&&ot.push(`library name "${de}" contains illegal characters (whitespace or "/")`),Le&&Be&&ot.push("and"),Be&&ot.push(`version name "${k}" contains illegal characters (whitespace or "/")`),void Z.warn(ot.join(" "))}$t(new F.wA(`${de}-version`,()=>({library:de,version:k}),"VERSION"))}function Qt(Q,k){if(null!==Q&&"function"!=typeof Q)throw mn.create("invalid-log-argument");(0,M.Am)(Q,k)}function Ln(Q){(0,M.Ub)(Q)}const yn="firebase-heartbeat-store";let Un=null;function Lr(){return Un||(Un=(0,ye.X3)("firebase-heartbeat-database",1,{upgrade:(Q,k)=>{0===k&&Q.createObjectStore(yn)}}).catch(Q=>{throw mn.create("storage-open",{originalErrorMessage:Q.message})})),Un}function gt(){return(gt=(0,l.Z)(function*(Q){var k;try{return(yield Lr()).transaction(yn).objectStore(yn).get(Ur(Q))}catch(L){throw mn.create("storage-get",{originalErrorMessage:null===(k=L)||void 0===k?void 0:k.message})}})).apply(this,arguments)}function rt(Q,k){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(Q,k){var L;try{const de=(yield Lr()).transaction(yn,"readwrite");return yield de.objectStore(yn).put(k,Ur(Q)),de.done}catch(Y){throw mn.create("storage-set",{originalErrorMessage:null===(L=Y)||void 0===L?void 0:L.message})}})).apply(this,arguments)}function Ur(Q){return`${Q.name}!${Q.options.appId}`}class Cn{constructor(k){this.container=k,this._heartbeatsCache=null;const L=this.container.getProvider("app").getImmediate();this._storage=new K(L),this._heartbeatsCachePromise=this._storage.read().then(Y=>(this._heartbeatsCache=Y,Y))}triggerHeartbeat(){var k=this;return(0,l.Z)(function*(){const Y=k.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),de=rn();if(null===k._heartbeatsCache&&(k._heartbeatsCache=yield k._heartbeatsCachePromise),k._heartbeatsCache.lastSentHeartbeatDate!==de&&!k._heartbeatsCache.heartbeats.some(Le=>Le.date===de))return k._heartbeatsCache.heartbeats.push({date:de,agent:Y}),k._heartbeatsCache.heartbeats=k._heartbeatsCache.heartbeats.filter(Le=>{const Be=new Date(Le.date).valueOf();return Date.now()-Be<=2592e6}),k._storage.overwrite(k._heartbeatsCache)})()}getHeartbeatsHeader(){var k=this;return(0,l.Z)(function*(){if(null===k._heartbeatsCache&&(yield k._heartbeatsCachePromise),null===k._heartbeatsCache||0===k._heartbeatsCache.heartbeats.length)return"";const L=rn(),{heartbeatsToSend:Y,unsentEntries:de}=function mt(Q,k=1024){const L=[];let Y=Q.slice();for(const de of Q){const Le=L.find(Be=>Be.agent===de.agent);if(Le){if(Le.dates.push(de.date),U(L)>k){Le.dates.pop();break}}else if(L.push({agent:de.agent,dates:[de.date]}),U(L)>k){L.pop();break}Y=Y.slice(1)}return{heartbeatsToSend:L,unsentEntries:Y}}(k._heartbeatsCache.heartbeats),Le=(0,se.L)(JSON.stringify({version:2,heartbeats:Y}));return k._heartbeatsCache.lastSentHeartbeatDate=L,de.length>0?(k._heartbeatsCache.heartbeats=de,yield k._storage.overwrite(k._heartbeatsCache)):(k._heartbeatsCache.heartbeats=[],k._storage.overwrite(k._heartbeatsCache)),Le})()}}function rn(){return(new Date).toISOString().substring(0,10)}class K{constructor(k){this.app=k,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var k=this;return(0,l.Z)(function*(){return(yield k._canUseIndexedDBPromise)&&(yield function kt(Q){return gt.apply(this,arguments)}(k.app))||{heartbeats:[]}})()}overwrite(k){var L=this;return(0,l.Z)(function*(){var Y;if(yield L._canUseIndexedDBPromise){const Le=yield L.read();return rt(L.app,{lastSentHeartbeatDate:null!==(Y=k.lastSentHeartbeatDate)&&void 0!==Y?Y:Le.lastSentHeartbeatDate,heartbeats:k.heartbeats})}})()}add(k){var L=this;return(0,l.Z)(function*(){var Y;if(yield L._canUseIndexedDBPromise){const Le=yield L.read();return rt(L.app,{lastSentHeartbeatDate:null!==(Y=k.lastSentHeartbeatDate)&&void 0!==Y?Y:Le.lastSentHeartbeatDate,heartbeats:[...Le.heartbeats,...k.heartbeats]})}})()}}function U(Q){return(0,se.L)(JSON.stringify({version:2,heartbeats:Q})).length}!function J(Q){$t(new F.wA("platform-logger",k=>new we(k),"PRIVATE")),$t(new F.wA("heartbeat",k=>new Cn(k),"PRIVATE")),Xt(ue,"0.7.27",Q),Xt(ue,"0.7.27","esm2017"),Xt("fire-js","")}("")},4859:(ct,Te,x)=>{x.d(Te,{wA:()=>M,H0:()=>ue});var l=x(5861),F=x(2090);class M{constructor(Z,$,ie){this.name=Z,this.instanceFactory=$,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const se="[DEFAULT]";class ye{constructor(Z,$){this.name=Z,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const $=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has($)){const ie=new F.BH;if(this.instancesDeferred.set($,ie),this.isInitialized($)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:$});je&&ie.resolve(je)}catch(je){}}return this.instancesDeferred.get($).promise}getImmediate(Z){var $;const ie=this.normalizeInstanceIdentifier(null==Z?void 0:Z.identifier),je=null!==($=null==Z?void 0:Z.optional)&&void 0!==$&&$;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(Ce){if(je)return null;throw Ce}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function fe(ve){return"EAGER"===ve.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:se})}catch($){}for(const[$,ie]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier($);try{const Ce=this.getOrInitializeService({instanceIdentifier:je});ie.resolve(Ce)}catch(Ce){}}}}clearInstance(Z=se){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,l.Z)(function*(){const $=Array.from(Z.instances.values());yield Promise.all([...$.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...$.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=se){return this.instances.has(Z)}getOptions(Z=se){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:$={}}=Z,ie=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:ie,options:$});for(const[Ce,Ue]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(Ce)&&Ue.resolve(je);return je}onInit(Z,$){var ie;const je=this.normalizeInstanceIdentifier($),Ce=null!==(ie=this.onInitCallbacks.get(je))&&void 0!==ie?ie:new Set;Ce.add(Z),this.onInitCallbacks.set(je,Ce);const Ue=this.instances.get(je);return Ue&&Z(Ue,je),()=>{Ce.delete(Z)}}invokeOnInitCallbacks(Z,$){const ie=this.onInitCallbacks.get($);if(ie)for(const je of ie)try{je(Z,$)}catch(Ce){}}getOrInitializeService({instanceIdentifier:Z,options:$={}}){let ie=this.instances.get(Z);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=Z,ve===se?void 0:ve),options:$}),this.instances.set(Z,ie),this.instancesOptions.set(Z,$),this.invokeOnInitCallbacks(ie,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,ie)}catch(je){}var ve;return ie||null}normalizeInstanceIdentifier(Z=se){return this.component?this.component.multipleInstances?Z:se:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const $=this.getProvider(Z.name);if($.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);$.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const $=new ye(Z,this);return this.providers.set(Z,$),$}getProviders(){return Array.from(this.providers.values())}}},2833:(ct,Te,x)=>{var l=x(5861),F=x(9681),M=x(4859),se=x(2090),ye=x(8766);const we="@firebase/installations",fe="0.5.11",ve=`w:${fe}`,Z="FIS_v2",$e=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _e(q){return q instanceof se.ZR&&q.code.includes("request-failed")}function De({projectId:q}){return`https://firebaseinstallations.googleapis.com/v1/projects/${q}/installations`}function et(q){return{token:q.token,requestStatus:2,expiresIn:ge(q.expiresIn),creationTime:Date.now()}}function qe(q,le){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,l.Z)(function*(q,le){const dt=(yield le.json()).error;return $e.create("request-failed",{requestName:q,serverCode:dt.code,serverMessage:dt.message,serverStatus:dt.status})})).apply(this,arguments)}function Oe({apiKey:q}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":q})}function Ie(q,{refreshToken:le}){const Fe=Oe(q);return Fe.append("Authorization",function B(q){return`${Z} ${q}`}(le)),Fe}function Ye(q){return ee.apply(this,arguments)}function ee(){return(ee=(0,l.Z)(function*(q){const le=yield q();return le.status>=500&&le.status<600?q():le})).apply(this,arguments)}function ge(q){return Number(q.replace("s","000"))}function te(q,le){return ae.apply(this,arguments)}function ae(){return(ae=(0,l.Z)(function*({appConfig:q,heartbeatServiceProvider:le},{fid:Fe}){const dt=De(q),Vt=Oe(q),Jt=le.getImmediate({optional:!0});if(Jt){const wt=yield Jt.getHeartbeatsHeader();wt&&Vt.append("x-firebase-client",wt)}const kn={method:"POST",headers:Vt,body:JSON.stringify({fid:Fe,authVersion:Z,appId:q.appId,sdkVersion:ve})},Ar=yield Ye(()=>fetch(dt,kn));if(Ar.ok){const wt=yield Ar.json();return{fid:wt.fid||Fe,registrationStatus:2,refreshToken:wt.refreshToken,authToken:et(wt.authToken)}}throw yield qe("Create Installation",Ar)})).apply(this,arguments)}function ce(q){return new Promise(le=>{setTimeout(le,q)})}const oe=/^[cdef][\w-]{21}$/;function Tt(){try{const q=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(q),q[0]=112+q[0]%16;const Fe=function En(q){return function Me(q){return btoa(String.fromCharCode(...q)).replace(/\+/g,"-").replace(/\//g,"_")}(q).substr(0,22)}(q);return oe.test(Fe)?Fe:""}catch(q){return""}}function st(q){return`${q.appName}!${q.appId}`}const lt=new Map;function vn(q,le){const Fe=st(q);tn(Fe,le),function $t(q,le){const Fe=function nn(){return!At&&"BroadcastChannel"in self&&(At=new BroadcastChannel("[Firebase] FID Change"),At.onmessage=q=>{tn(q.data.key,q.data.fid)}),At}();Fe&&Fe.postMessage({key:q,fid:le}),function Mn(){0===lt.size&&At&&(At.close(),At=null)}()}(Fe,le)}function tn(q,le){const Fe=lt.get(q);if(Fe)for(const dt of Fe)dt(le)}let At=null;const Pn="firebase-installations-store";let Qn=null;function ir(){return Qn||(Qn=(0,ye.X3)("firebase-installations-database",1,{upgrade:(q,le)=>{0===le&&q.createObjectStore(Pn)}})),Qn}function Dn(q,le){return sr.apply(this,arguments)}function sr(){return(sr=(0,l.Z)(function*(q,le){const Fe=st(q),Vt=(yield ir()).transaction(Pn,"readwrite"),Jt=Vt.objectStore(Pn),Ut=yield Jt.get(Fe);return yield Jt.put(le,Fe),yield Vt.done,(!Ut||Ut.fid!==le.fid)&&vn(q,le.fid),le})).apply(this,arguments)}function Et(q){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*(q){const le=st(q),dt=(yield ir()).transaction(Pn,"readwrite");yield dt.objectStore(Pn).delete(le),yield dt.done})).apply(this,arguments)}function Xt(q,le){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(q,le){const Fe=st(q),Vt=(yield ir()).transaction(Pn,"readwrite"),Jt=Vt.objectStore(Pn),Ut=yield Jt.get(Fe),kn=le(Ut);return void 0===kn?yield Jt.delete(Fe):yield Jt.put(kn,Fe),yield Vt.done,kn&&(!Ut||Ut.fid!==kn.fid)&&vn(q,kn.fid),kn})).apply(this,arguments)}function Ln(q){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(q){let le;const Fe=yield Xt(q.appConfig,dt=>{const Vt=or(dt),Jt=yn(q,Vt);return le=Jt.registrationPromise,Jt.installationEntry});return""===Fe.fid?{installationEntry:yield le}:{installationEntry:Fe,registrationPromise:le}})).apply(this,arguments)}function or(q){return wn(q||{fid:Tt(),registrationStatus:0})}function yn(q,le){if(0===le.registrationStatus){if(!navigator.onLine)return{installationEntry:le,registrationPromise:Promise.reject($e.create("app-offline"))};const Fe={fid:le.fid,registrationStatus:1,registrationTime:Date.now()},dt=function Un(q,le){return Lr.apply(this,arguments)}(q,Fe);return{installationEntry:Fe,registrationPromise:dt}}return 1===le.registrationStatus?{installationEntry:le,registrationPromise:kt(q)}:{installationEntry:le}}function Lr(){return(Lr=(0,l.Z)(function*(q,le){try{const Fe=yield te(q,le);return Dn(q.appConfig,Fe)}catch(Fe){throw _e(Fe)&&409===Fe.customData.serverCode?yield Et(q.appConfig):yield Dn(q.appConfig,{fid:le.fid,registrationStatus:0}),Fe}})).apply(this,arguments)}function kt(q){return gt.apply(this,arguments)}function gt(){return(gt=(0,l.Z)(function*(q){let le=yield rt(q.appConfig);for(;1===le.registrationStatus;)yield ce(100),le=yield rt(q.appConfig);if(0===le.registrationStatus){const{installationEntry:Fe,registrationPromise:dt}=yield Ln(q);return dt||Fe}return le})).apply(this,arguments)}function rt(q){return Xt(q,le=>{if(!le)throw $e.create("installation-not-found");return wn(le)})}function wn(q){return function Ur(q){return 1===q.registrationStatus&&q.registrationTime+1e4<Date.now()}(q)?{fid:q.fid,registrationStatus:0}:q}function Ft(q,le){return ar.apply(this,arguments)}function ar(){return(ar=(0,l.Z)(function*({appConfig:q,heartbeatServiceProvider:le},Fe){const dt=Cn(q,Fe),Vt=Ie(q,Fe),Jt=le.getImmediate({optional:!0});if(Jt){const wt=yield Jt.getHeartbeatsHeader();wt&&Vt.append("x-firebase-client",wt)}const kn={method:"POST",headers:Vt,body:JSON.stringify({installation:{sdkVersion:ve,appId:q.appId}})},Ar=yield Ye(()=>fetch(dt,kn));if(Ar.ok)return et(yield Ar.json());throw yield qe("Generate Auth Token",Ar)})).apply(this,arguments)}function Cn(q,{fid:le}){return`${De(q)}/${le}/authTokens:generate`}function rn(q){return mt.apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(q,le=!1){let Fe;const dt=yield Xt(q.appConfig,Jt=>{if(!L(Jt))throw $e.create("not-registered");const Ut=Jt.authToken;if(!le&&Y(Ut))return Jt;if(1===Ut.requestStatus)return Fe=K(q,le),Jt;{if(!navigator.onLine)throw $e.create("app-offline");const kn=Le(Jt);return Fe=Q(q,kn),kn}});return Fe?yield Fe:dt.authToken})).apply(this,arguments)}function K(q,le){return U.apply(this,arguments)}function U(){return(U=(0,l.Z)(function*(q,le){let Fe=yield J(q.appConfig);for(;1===Fe.authToken.requestStatus;)yield ce(100),Fe=yield J(q.appConfig);const dt=Fe.authToken;return 0===dt.requestStatus?rn(q,le):dt})).apply(this,arguments)}function J(q){return Xt(q,le=>{if(!L(le))throw $e.create("not-registered");return function Be(q){return 1===q.requestStatus&&q.requestTime+1e4<Date.now()}(le.authToken)?Object.assign(Object.assign({},le),{authToken:{requestStatus:0}}):le})}function Q(q,le){return k.apply(this,arguments)}function k(){return(k=(0,l.Z)(function*(q,le){try{const Fe=yield Ft(q,le),dt=Object.assign(Object.assign({},le),{authToken:Fe});return yield Dn(q.appConfig,dt),Fe}catch(Fe){if(!_e(Fe)||401!==Fe.customData.serverCode&&404!==Fe.customData.serverCode){const dt=Object.assign(Object.assign({},le),{authToken:{requestStatus:0}});yield Dn(q.appConfig,dt)}else yield Et(q.appConfig);throw Fe}})).apply(this,arguments)}function L(q){return void 0!==q&&2===q.registrationStatus}function Y(q){return 2===q.requestStatus&&!function de(q){const le=Date.now();return le<q.creationTime||q.creationTime+q.expiresIn<le+36e5}(q)}function Le(q){const le={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},q),{authToken:le})}function Xe(){return(Xe=(0,l.Z)(function*(q){const le=q,{installationEntry:Fe,registrationPromise:dt}=yield Ln(le);return dt?dt.catch(console.error):rn(le).catch(console.error),Fe.fid})).apply(this,arguments)}function j(){return(j=(0,l.Z)(function*(q,le=!1){const Fe=q;return yield V(Fe),(yield rn(Fe,le)).token})).apply(this,arguments)}function V(q){return be.apply(this,arguments)}function be(){return(be=(0,l.Z)(function*(q){const{registrationPromise:le}=yield Ln(q);le&&(yield le)})).apply(this,arguments)}function Vn(q){return $e.create("missing-app-config-values",{valueName:q})}const Vr="installations",ds=q=>{const le=q.getProvider("app").getImmediate(),Fe=function Zt(q){if(!q||!q.options)throw Vn("App Configuration");if(!q.name)throw Vn("App Name");const le=["projectId","apiKey","appId"];for(const Fe of le)if(!q.options[Fe])throw Vn(Fe);return{appName:q.name,projectId:q.options.projectId,apiKey:q.options.apiKey,appId:q.options.appId}}(le);return{app:le,appConfig:Fe,heartbeatServiceProvider:(0,F._getProvider)(le,"heartbeat"),_delete:()=>Promise.resolve()}},Nr=q=>{const le=q.getProvider("app").getImmediate(),Fe=(0,F._getProvider)(le,Vr).getImmediate();return{getId:()=>function ot(q){return Xe.apply(this,arguments)}(Fe),getToken:Vt=>function X(q){return j.apply(this,arguments)}(Fe,Vt)}};(function Ge(){(0,F._registerComponent)(new M.wA(Vr,ds,"PUBLIC")),(0,F._registerComponent)(new M.wA("installations-internal",Nr,"PRIVATE"))})(),(0,F.registerVersion)(we,fe),(0,F.registerVersion)(we,fe,"esm2017")},1877:(ct,Te,x)=>{x.d(Te,{in:()=>F,Yd:()=>fe,Ub:()=>ue,Am:()=>ve});const l=[];var F=(()=>{return(Z=F||(F={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",F;var Z})();const M={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},se=F.INFO,ye={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},we=(Z,$,...ie)=>{if($<Z.logLevel)return;const je=(new Date).toISOString(),Ce=ye[$];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ce](`[${je}]  ${Z.name}:`,...ie)};class fe{constructor($){this.name=$,this._logLevel=se,this._logHandler=we,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in F))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?M[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...$),this._logHandler(this,F.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...$),this._logHandler(this,F.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,F.INFO,...$),this._logHandler(this,F.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,F.WARN,...$),this._logHandler(this,F.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...$),this._logHandler(this,F.ERROR,...$)}}function ue(Z){l.forEach($=>{$.setLogLevel(Z)})}function ve(Z,$){for(const ie of l){let je=null;$&&$.level&&(je=M[$.level]),ie.userLogHandler=null===Z?null:(Ce,Ue,...$e)=>{const _e=$e.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(et){return null}}).filter(De=>De).join(" ");Ue>=(null!=je?je:Ce.logLevel)&&Z({level:F[Ue].toLowerCase(),message:_e,args:$e,type:Ce.name})}}}},8766:(ct,Te,x)=>{x.d(Te,{Lj:()=>Ne,X3:()=>qe});var l=x(5861);let M,se;const fe=new WeakMap,ue=new WeakMap,ve=new WeakMap,Z=new WeakMap,$=new WeakMap;let Ce={get(ge,B,te){if(ge instanceof IDBTransaction){if("done"===B)return ue.get(ge);if("objectStoreNames"===B)return ge.objectStoreNames||ve.get(ge);if("store"===B)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return De(ge[B])},set:(ge,B,te)=>(ge[B]=te,!0),has:(ge,B)=>ge instanceof IDBTransaction&&("done"===B||"store"===B)||B in ge};function _e(ge){return"function"==typeof ge?function $e(ge){return ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ge)?function(...B){return ge.apply(et(this),B),De(fe.get(this))}:function(...B){return De(ge.apply(et(this),B))}:function(B,...te){const ae=ge.call(et(this),B,...te);return ve.set(ae,B.sort?B.sort():[B]),De(ae)}}(ge):(ge instanceof IDBTransaction&&function je(ge){if(ue.has(ge))return;const B=new Promise((te,ae)=>{const ce=()=>{ge.removeEventListener("complete",Me),ge.removeEventListener("error",oe),ge.removeEventListener("abort",oe)},Me=()=>{te(),ce()},oe=()=>{ae(ge.error||new DOMException("AbortError","AbortError")),ce()};ge.addEventListener("complete",Me),ge.addEventListener("error",oe),ge.addEventListener("abort",oe)});ue.set(ge,B)}(ge),((ge,B)=>B.some(te=>ge instanceof te))(ge,function ye(){return M||(M=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ge,Ce):ge)}function De(ge){if(ge instanceof IDBRequest)return function ie(ge){const B=new Promise((te,ae)=>{const ce=()=>{ge.removeEventListener("success",Me),ge.removeEventListener("error",oe)},Me=()=>{te(De(ge.result)),ce()},oe=()=>{ae(ge.error),ce()};ge.addEventListener("success",Me),ge.addEventListener("error",oe)});return B.then(te=>{te instanceof IDBCursor&&fe.set(te,ge)}).catch(()=>{}),$.set(B,ge),B}(ge);if(Z.has(ge))return Z.get(ge);const B=_e(ge);return B!==ge&&(Z.set(ge,B),$.set(B,ge)),B}const et=ge=>$.get(ge);function qe(ge,B,{blocked:te,upgrade:ae,blocking:ce,terminated:Me}={}){const oe=indexedDB.open(ge,B),vt=De(oe);return ae&&oe.addEventListener("upgradeneeded",Tt=>{ae(De(oe.result),Tt.oldVersion,Tt.newVersion,De(oe.transaction))}),te&&oe.addEventListener("blocked",()=>te()),vt.then(Tt=>{Me&&Tt.addEventListener("close",()=>Me()),ce&&Tt.addEventListener("versionchange",()=>ce())}).catch(()=>{}),vt}function Ne(ge,{blocked:B}={}){const te=indexedDB.deleteDatabase(ge);return B&&te.addEventListener("blocked",()=>B()),De(te).then(()=>{})}const Oe=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],Ye=new Map;function ee(ge,B){if(!(ge instanceof IDBDatabase)||B in ge||"string"!=typeof B)return;if(Ye.get(B))return Ye.get(B);const te=B.replace(/FromIndex$/,""),ae=B!==te,ce=Ie.includes(te);if(!(te in(ae?IDBIndex:IDBObjectStore).prototype)||!ce&&!Oe.includes(te))return;const Me=function(){var oe=(0,l.Z)(function*(vt,...Tt){const En=this.transaction(vt,ce?"readwrite":"readonly");let st=En.store;return ae&&(st=st.index(Tt.shift())),(yield Promise.all([st[te](...Tt),ce&&En.done]))[0]});return function(Tt){return oe.apply(this,arguments)}}();return Ye.set(B,Me),Me}!function Ue(ge){Ce=ge(Ce)}(ge=>gx(px({},ge),{get:(B,te,ae)=>ee(B,te)||ge.get(B,te,ae),has:(B,te)=>!!ee(B,te)||ge.has(B,te)}))},5861:(ct,Te,x)=>{function l(M,se,ye,we,fe,ue,ve){try{var Z=M[ue](ve),$=Z.value}catch(ie){return void ye(ie)}Z.done?se($):Promise.resolve($).then(we,fe)}function F(M){return function(){var se=this,ye=arguments;return new Promise(function(we,fe){var ue=M.apply(se,ye);function ve($){l(ue,we,fe,ve,Z,"next",$)}function Z($){l(ue,we,fe,ve,Z,"throw",$)}ve(void 0)})}}x.d(Te,{Z:()=>F})}},ct=>{ct(ct.s=6017)}]);